# generated by datamodel-codegen:
#   filename:  ConnectorBreakingChanges.yaml

from __future__ import annotations

from datetime import date
from typing import Dict, List, Optional

from pydantic import BaseModel, Extra, Field, constr


class VersionBreakingChange(BaseModel):
    class Config:
        extra = Extra.forbid

    upgradeDeadline: date = Field(
        ...,
        description="The deadline by which to upgrade before the breaking change takes effect.",
    )
    message: str = Field(
        ..., description="Descriptive message detailing the breaking change."
    )


class BreakingChangeEntry(BaseModel):
    class Config:
        extra = Extra.forbid

    __root__: Dict[
        constr(regex=r"^([0-9]+).([0-9]+).([0-9]+)$"), VersionBreakingChange
    ] = Field(
        ...,
        description="Describes a breaking change for a specific version of a connector.",
    )


class ConnectorBreakingChanges(BaseModel):
    class Config:
        extra = Extra.forbid

    breakingChanges: Optional[List[BreakingChangeEntry]] = None
