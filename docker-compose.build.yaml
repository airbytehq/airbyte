version: '3.7'

services:
  db:
    image: dataline/db:dev
    build:
      dockerfile: Dockerfile
      context: dataline-db
      labels:
        io.dataline.git-revision: ${GIT_REVISION}
  seed:
    image: dataline/seed:dev
    build:
      dockerfile: Dockerfile
      context: dataline-config/init
      labels:
        io.dataline.git-revision: ${GIT_REVISION}
  scheduler:
    image: dataline/scheduler:dev
    build:
      dockerfile: Dockerfile
      context: dataline-scheduler
      labels:
        io.dataline.git-revision: ${GIT_REVISION}
  server:
    image: dataline/server:dev
    build:
      dockerfile: Dockerfile
      context: dataline-server
      labels:
        io.dataline.git-revision: ${GIT_REVISION}
  webapp:
    image: dataline/webapp:dev
    build:
      dockerfile: Dockerfile
      context: dataline-webapp
      labels:
        io.dataline.git-revision: ${GIT_REVISION}
