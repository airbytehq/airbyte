// The content of the file is just to have a basic idea of the current state of the database and is not fully accurate. 
// It is also not used by any piece of code to generate anything. 
// It doesn't contain the enums created in the database and the default values might also be buggy. 

create table "public"."airbyte_jobs_migrations"(
  "installed_rank" int4 not null,
  "version" varchar(50) null,
  "description" varchar(200) not null,
  "type" varchar(20) not null,
  "script" varchar(1000) not null,
  "checksum" int4 null,
  "installed_by" varchar(100) not null,
  "installed_on" timestamp(29) not null default null,
  "execution_time" int4 not null,
  "success" bool not null,
  constraint "airbyte_jobs_migrations_pk"
    primary key ("installed_rank")
);
create table "public"."airbyte_metadata"(
  "key" varchar(255) not null,
  "value" varchar(255) null,
  constraint "airbyte_metadata_pkey"
    primary key ("key")
);
create table "public"."attempts"(
  "id" int8 generated by default as identity not null,
  "job_id" int8 null,
  "attempt_number" int4 null,
  "log_path" varchar(255) null,
  "output" jsonb null,
  "status" any null,
  "created_at" timestamptz(35) null,
  "updated_at" timestamptz(35) null,
  "ended_at" timestamptz(35) null,
  "temporal_workflow_id" varchar(256) null,
  "failure_summary" jsonb null,
  "processing_task_queue" varchar(255) null,
  constraint "attempts_pkey"
    primary key ("id")
);
create table "public"."jobs"(
  "id" int8 generated by default as identity not null,
  "config_type" any null,
  "scope" varchar(255) null,
  "config" jsonb null,
  "status" any null,
  "started_at" timestamptz(35) null,
  "created_at" timestamptz(35) null,
  "updated_at" timestamptz(35) null,
  constraint "jobs_pkey"
    primary key ("id")
);
create table "public"."normalization_summaries"(
  "id" uuid not null,
  "attempt_id" int8 not null,
  "start_time" timestamptz(35) null,
  "end_time" timestamptz(35) null,
  "failures" jsonb null,
  "created_at" timestamptz(35) not null default null,
  "updated_at" timestamptz(35) not null default null,
  constraint "normalization_summaries_pkey"
    primary key ("id")
);
create table "public"."stream_stats"(
  "id" uuid not null,
  "attempt_id" int8 not null,
  "stream_namespace" varchar(2147483647) null,
  "stream_name" varchar(2147483647) not null,
  "records_emitted" int8 null,
  "bytes_emitted" int8 null,
  "estimated_records" int8 null,
  "estimated_bytes" int8 null,
  "created_at" timestamptz(35) not null default null,
  "updated_at" timestamptz(35) not null default null,
  constraint "stream_stats_pkey"
    primary key ("id")
);
create table "public"."sync_stats"(
  "id" uuid not null,
  "attempt_id" int8 not null,
  "records_emitted" int8 null,
  "bytes_emitted" int8 null,
  "source_state_messages_emitted" int8 null,
  "destination_state_messages_emitted" int8 null,
  "records_committed" int8 null,
  "mean_seconds_before_source_state_message_emitted" int8 null,
  "max_seconds_before_source_state_message_emitted" int8 null,
  "mean_seconds_between_state_message_emitted_and_committed" int8 null,
  "max_seconds_between_state_message_emitted_and_committed" int8 null,
  "created_at" timestamptz(35) not null default null,
  "updated_at" timestamptz(35) not null default null,
  "estimated_records" int8 null,
  "estimated_bytes" int8 null,
  constraint "sync_stats_pkey"
    primary key ("id")
);
alter table "public"."normalization_summaries"
  add constraint "normalization_summaries_attempt_id_fkey"
    foreign key ("attempt_id")
    references "public"."attempts" ("id");
alter table "public"."stream_stats"
  add constraint "stream_stats_attempt_id_fkey"
    foreign key ("attempt_id")
    references "public"."attempts" ("id");
alter table "public"."sync_stats"
  add constraint "sync_stats_attempt_id_fkey"
    foreign key ("attempt_id")
    references "public"."attempts" ("id");
create unique index "airbyte_jobs_migrations_pk" on "public"."airbyte_jobs_migrations"("installed_rank" asc);
create index "airbyte_jobs_migrations_s_idx" on "public"."airbyte_jobs_migrations"("success" asc);
create unique index "airbyte_metadata_pkey" on "public"."airbyte_metadata"("key" asc);
create unique index "attempts_pkey" on "public"."attempts"("id" asc);
create index "attempts_status_idx" on "public"."attempts"("status" asc);
create unique index "job_attempt_idx" on "public"."attempts"(
  "job_id" asc, 
  "attempt_number" asc
);
create index "jobs_config_type_idx" on "public"."jobs"("config_type" asc);
create unique index "jobs_pkey" on "public"."jobs"("id" asc);
create index "jobs_scope_idx" on "public"."jobs"("scope" asc);
create index "jobs_status_idx" on "public"."jobs"("status" asc);
create unique index "normalization_summaries_pkey" on "public"."normalization_summaries"("id" asc);
create index "normalization_summary_attempt_id_idx" on "public"."normalization_summaries"("attempt_id" asc);
create index "index" on "public"."stream_stats"("attempt_id" asc);
create unique index "stream_stats_pkey" on "public"."stream_stats"("id" asc);
create unique index "uniq_stream_attempt" on "public"."stream_stats"(
  "attempt_id" asc, 
  "stream_name" asc, 
  "stream_namespace" asc
);
create index "attempt_id_idx" on "public"."sync_stats"("attempt_id" asc);
create unique index "sync_stats_pkey" on "public"."sync_stats"("id" asc);
