---
id: create-agents-chat
title: "Post chat message"
description: "Post a new message to a thread"
sidebar_label: "Post chat message"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: embedded-api///sonar
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Post chat message"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/v1/agents/chat"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Post a new message to a thread

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"x-organization-id","in":"header","required":false,"schema":{"type":"string","format":"uuid","description":"Select the working organization. Necessary since users can belong to multiple organizations.","title":"X-Organization-Id"},"description":"Select the working organization. Necessary since users can belong to multiple organizations."}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"properties":{"prompt":{"type":"string","title":"Prompt"},"thread_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thread Id"}},"type":"object","required":["prompt"],"title":"ChatPostRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful Response","content":{"text/event-stream":{"schema":{"properties":{"event":{"type":"string","enum":["thread_id","user","assistant","tool_call","tool_response"],"title":"Event"},"data":{"anyOf":[{"type":"string"},{"properties":{"content":{"type":"string","title":"Content"}},"type":"object","required":["content"],"title":"MessageContent","description":"Content of a chat message."},{"properties":{"tool_name":{"type":"string","enum":["get_current_datetime","get_source_definitions","get_source_definition","list_source_templates","get_source_template","get_source_definition_catalog","run_source_template_creator","create_source_template","query_source_catalog","patch_source_catalog","patch_source_catalog_stream"],"title":"AgentToolName","description":"Enum of tool names available to agents.\nThis enum is automatically synced to the frontend via OpenAPI generation,\nensuring type safety when handling tool calls and responses.\nWhen adding a new tool to an agent (e.g., in app/agents/chat_agent.py),\nadd the corresponding tool name here to expose it to the frontend."},"args":{"anyOf":[{"type":"string"},{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Args"}},"type":"object","required":["tool_name","args"],"title":"ToolCallEvent","description":"Format of tool call events sent to the browser."},{"properties":{"tool_name":{"type":"string","enum":["get_current_datetime","get_source_definitions","get_source_definition","list_source_templates","get_source_template","get_source_definition_catalog","run_source_template_creator","create_source_template","query_source_catalog","patch_source_catalog","patch_source_catalog_stream"],"title":"AgentToolName","description":"Enum of tool names available to agents.\nThis enum is automatically synced to the frontend via OpenAPI generation,\nensuring type safety when handling tool calls and responses.\nWhen adding a new tool to an agent (e.g., in app/agents/chat_agent.py),\nadd the corresponding tool name here to expose it to the frontend."},"response":{"title":"Response"}},"type":"object","required":["tool_name","response"],"title":"ToolResponseEvent","description":"Format of tool response events sent to the browser."}],"title":"Data"}},"type":"object","required":["event","data"],"title":"ChatMessageEvent","description":"Format of chat message events sent to the browser."}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"properties":{"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"errors":{"items":{"properties":{"field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","title":"ApiError"},"type":"array","title":"Errors","default":[]}},"type":"object","title":"ApiErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"properties":{"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"errors":{"items":{"properties":{"field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","title":"ApiError"},"type":"array","title":"Errors","default":[]}},"type":"object","title":"ApiErrorResponse"}}}},"422":{"description":"Unprocessable entity","content":{"application/json":{"schema":{"properties":{"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"errors":{"items":{"properties":{"field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","title":"ApiError"},"type":"array","title":"Errors","default":[]}},"type":"object","title":"ApiErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"properties":{"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"errors":{"items":{"properties":{"field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","title":"ApiError"},"type":"array","title":"Errors","default":[]}},"type":"object","title":"ApiErrorResponse"}}}}}}
>
  
</StatusCodes>


      