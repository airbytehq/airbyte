---
id: create-agents-discovery
title: "Create Discovery Agents"
description: "Create discovery agent jobs for all source definitions tagged with 'discovery-agent'"
sidebar_label: "Create Discovery Agents"
hide_title: true
hide_table_of_contents: true
api: eJztWFlv3DYQ/isEH+oW0O76iC+9ORfqoK2D2kELeA17lhxJTChSIam1twv992KoY3djO02CBH3xk73S3PNxxG+WPEDueXrJT3I0wbMRe6m8sHN0C36VcIleOFUFZQ1P+QuHEJDJXoIBKbH3duZZZh0DrZm3tRPIJGbKKNLzLECeo2S3KhRsa1AeReWtqQkFBCat2QqsgDkyvFM+KJMzAQG0zf2YJ9xW6IDMnUqechEDuY4W/PVgkifco6idCgueXi75rxcXb58jOHQ8vbxqrhJegYMSAzofBQyUyFMOxtgAAXnCFeX5sW6NOfxYK4eSpxlojwn3osASeLrkYVGR5sxajWD4p5X6q8BQoGPBst44C8WqdCiH7FjtKVl62z3qVaiilGG0nkGtwxBIUEGT/5M+8ubHRtAkQ7HuRtblYNQ/sR0jJfuqFQgS3ReVzQenTM4TnllXQuApr+toaDOHc9QoQgzs1roPFOS67zH7AwV6D27BvDICWe3ReSbAsBlqSzlZVtY6qErjhmrEVF/Ev0dn6xmdyvvV/KGREDAd+soaj56qtLu9TX8+CaEW5CKrNfuzE+YJF9YEalC65FBVWolodPLek85yrfKVoyMUVOuBjux1e4ok/VYBS/+g2LWSX9K4vpZv7Iy1BWwHwfVqEHylpfN2kLwc9KPdJukN2Nl7FGEDbpd9wI94v1pZH6ZcnHtv7OxFV4yVA3AOFpupeTaI/XcgqwI/6re1NrSzacjss4e6/xwkI/vow7d3vSSI5hjVzOIsizNwsx900LsnptY6YrOP/fdOvUk4Omed/wxyMoVafquj11G5Sb53wNfCym829oossBdk4aHmDxO5UlHyM0B61RZvbapfXn2JyXs42buPk9fWzZSUaJ5Q8oSSiJLd3fsoeWcqZ+MHa6aRoQl0Y3oCzBNgmoTvP/T5OTUBnQHNPLo5OhbzfkLME2IiZEoMhSVeVtl4PakgFDzlE6jUZL4zaWnaZJOmEYxaElY7TewhhCqdTLQVoIvWzCYET5SbLQKyc2vAsZO3p7EoPd87J6S1HV9nfUMVyTzvmEgkbq0ARa9MZqPkcPE0QNj2dVmCW6xcb3lyyxwGp3COnkkIwCxd8QvQGbMZW9jaMVH7YEu6/4ORLEOUnqlADCC+juVQIhKJTNvbyEU2c52aiwKjMzpgoIxne4wy8eQEjaysMsGnUzNiN32ZsZyhlChvUpIYEQMZZSCIq5ClYJmwOtIY4VBSDKD9eMOEp9RvUtaybetWrkg9wyCKNunM2XLw0j5qb9ye/QyV8uwnJp2ao/+lpf2hQOUomUzldeSej4WgTMC8pfr+Jo0rBWJdD0dUgoEcB7sdoZqaqTkNTHnmUNiyRCNRkrivUKhsEQ1mVmt7S8VpeStTJjqLLSK09NdtqvLNzc0CSj0196hiukHmtjwjFhMVYgy3SmuGxteO2De0DNKpvAgbehRr7VEOW5Qo1vmnyAR4bEOLBVeeASup4Y4A8QixnJrTiEhmjV60uxVrNoUSAmYMshsBVKYYqDWYMEsrhFvlsVsOaN0KZ6D0eEp3TDrFLWa3x8fjbZ7wu5G2eTxQq4Pt08lESDOunJXjW5x5FXCUKY1+LGw5Odjex+2dmdjdzw5x5xiOdvHw2eHR0eRgb28f9o4lHInjgxkc7u/vbs929g+uf7O5Hft5Hg8wTZ0S4gen21F0i6qBbLF2u/XpOVuuvl//526rG1EB78Kk0qAMjexYvGU3Si85VIqqvcMTDkMu65u6ODPTS75czsDjO6ebhh63qywas1LF295qK/NoKb738urB/D7gYnPzNgddk1gc63NwiqKNX6SkXy19XRo/env0eFYPrchW6SXLTuxECKzC2rt7VygqxfBxfXt2fkHtrwkRqw1k+yFL+n/W7hJgFmvGl8tW4sJ+QNM0vA820G/eXDVN8y/CrrLD
sidebar_class_name: "post api-method"
info_path: embedded-api///sonar
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create Discovery Agents"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/v1/agents/discovery"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create discovery agent jobs for all source definitions tagged with 'discovery-agent'
that don't have existing catalogs.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"annotate","in":"query","required":false,"schema":{"type":"boolean","description":"Whether to annotate the discovered catalogs using the catalog annotator agent","default":false,"title":"Annotate"},"description":"Whether to annotate the discovered catalogs using the catalog annotator agent"},{"name":"x-organization-id","in":"header","required":false,"schema":{"type":"string","format":"uuid","description":"Select the working organization. Necessary since users can belong to multiple organizations.","title":"X-Organization-Id"},"description":"Select the working organization. Necessary since users can belong to multiple organizations."}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"properties":{"jobs_created":{"items":{"properties":{"job_id":{"type":"string","format":"uuid","title":"Job Id"},"source_definition_id":{"type":"string","format":"uuid","title":"Source Definition Id"}},"type":"object","required":["job_id","source_definition_id"],"title":"DiscoveryAgentJobCreated"},"type":"array","title":"Jobs Created"}},"type":"object","required":["jobs_created"],"title":"DiscoveryAgentCreateResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"properties":{"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"errors":{"items":{"properties":{"field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","title":"ApiError"},"type":"array","title":"Errors","default":[]}},"type":"object","title":"ApiErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"properties":{"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"errors":{"items":{"properties":{"field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","title":"ApiError"},"type":"array","title":"Errors","default":[]}},"type":"object","title":"ApiErrorResponse"}}}},"422":{"description":"Unprocessable entity","content":{"application/json":{"schema":{"properties":{"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"errors":{"items":{"properties":{"field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","title":"ApiError"},"type":"array","title":"Errors","default":[]}},"type":"object","title":"ApiErrorResponse"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"properties":{"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"errors":{"items":{"properties":{"field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Field"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","title":"ApiError"},"type":"array","title":"Errors","default":[]}},"type":"object","title":"ApiErrorResponse"}}}}}}
>
  
</StatusCodes>


      