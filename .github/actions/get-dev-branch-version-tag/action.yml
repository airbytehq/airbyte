name: Get Dev Branch Version Tag
description: "Outputs a dev version tag based on the current branch"
outputs:
  branch_version_tag:
    value: ${{ steps.get-branch-version_tag.outputs.branch_tag }}
    description: "Output branch tag with form `dev-<commit_short_hash>`"

runs:
  using: "composite"
  steps:
    - name: Get Branch Version Tag
      id: get-branch-version_tag
      shell: bash
      # AirbyteVersion.java allows versions that have a prefix of 'dev'
      run: echo "::set-output name=branch_tag::dev-$(git rev-parse --short HEAD)"
