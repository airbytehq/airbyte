name: Publish Connector ERD
inputs:
  connector_directory_name:
    description: connector_directory_name
    required: true
  dbdocs_token:
    description: API token
    required: true
description: Publish connector ERD
runs:
  using: "composite"
  steps:
    - name: Install dbdocs
      shell: bash
      run: sudo npm install -g dbdocs
    - name: Check dbdocs
      shell: bash
      run: dbdocs
    - name: Publish ERD
      shell: bash
      run: DBDOCS_TOKEN=${{ inputs.dbdocs_token }} ./tools/erds/publish.sh ${{ inputs.connector_directory_name }}
