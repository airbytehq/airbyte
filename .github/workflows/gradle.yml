name: Dataline CI

on: push

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
      - name: Checkout Dataline
        uses: actions/checkout@v2

      #      # Impact is fairly limited, might actually need to cache node_modules
      #      - name: Cache node modules
      #        uses: actions/cache@v2
      #        with:
      #          path: ~/.npm
      #          key: npm-${{ hashFiles('**/package-lock.json') }}
      #          restore-keys: |
      #            npm-
      #
      #      - name: Cache java deps
      #        uses: actions/cache@v2
      #        with:
      #          path: ~/.gradle/caches
      #          key: gradle-${{ hashFiles('**/*.gradle') }}
      #          restore-keys: |
      #            gradle-

      - name: Build
        run: ./test/app/build.sh
