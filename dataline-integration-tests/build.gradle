plugins {
    id "java-library"
}

dependencies {
    implementation 'org.apache.commons:commons-dbcp2:2.7.0'
    implementation 'org.jooq:jooq-meta:3.13.4'
    implementation 'org.jooq:jooq:3.13.4'
    implementation 'org.postgresql:postgresql:42.2.16'
    implementation 'com.google.cloud:google-cloud-bigquery:1.117.0'
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.9.8'
    implementation 'org.apache.commons:commons-text:1.9'

    implementation project(':dataline-workers')

    testImplementation "org.testcontainers:postgresql:1.14.3"
    testImplementation "org.awaitility:awaitility:3.1.6"
}

test {
    environment "GOOGLE_CLOUD_PROJECT", "eco-hangar-279116" // todo: get this from the cred file
    environment "GOOGLE_APPLICATION_CREDENTIALS", new File("$projectDir").absolutePath + "/config/bigquery_creds.json"
}

