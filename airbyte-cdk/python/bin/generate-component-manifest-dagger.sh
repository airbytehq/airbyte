#!/usr/bin/env bash

# We need to run this script in a docker container because we need to use a
# specific version of datamodel-codegen that generates pydantic v1 models (correctly).
# The newer datamodel-codegen's "pydantic v1" models are different than those v1 models
# generated by the older version of datamodel-codegen.

set -e

pip install dagger-io==0.9.6
python bin/generate_component_manifest_files.py