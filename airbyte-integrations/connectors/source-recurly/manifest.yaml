version: 5.7.0

type: DeclarativeSource

check:
  type: CheckStream
  stream_names:
    - accounts

definitions:
  streams:
    accounts:
      type: DeclarativeStream
      name: accounts
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: accounts
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/accounts"
    account_coupon_redemptions:
      type: DeclarativeStream
      name: account_coupon_redemptions
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /accounts/{{ stream_partition['account_id'] }}/coupon_redemptions
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: account_id
              stream:
                $ref: "#/definitions/streams/accounts"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/account_coupon_redemptions"
    account_notes:
      type: DeclarativeStream
      name: account_notes
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /accounts/{{ stream_partition['account_id'] }}/notes
          http_method: GET
          request_parameters:
            sort: created_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: account_id
              stream:
                $ref: "#/definitions/streams/accounts"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: created_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/account_notes"
    add_ons:
      type: DeclarativeStream
      name: add_ons
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /add_ons
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/add_ons"
    billing_infos:
      type: DeclarativeStream
      name: billing_infos
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /accounts/{{ stream_partition['account_id'] }}/billing_infos
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: account_id
              stream:
                $ref: "#/definitions/streams/accounts"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/billing_infos"
    coupons:
      type: DeclarativeStream
      name: coupons
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: coupons
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/coupons"
    credit_payments:
      type: DeclarativeStream
      name: credit_payments
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: credit_payments
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/credit_payments"
    export_dates:
      type: DeclarativeStream
      name: export_dates
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: export_dates
          http_method: GET
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: CustomRecordExtractor
            class_name: source_declarative_manifest.components.ExportDatesExtractor
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/export_dates"
    invoices:
      type: DeclarativeStream
      name: invoices
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: invoices
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/invoices"
    line_items:
      type: DeclarativeStream
      name: line_items
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: line_items
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/line_items"
    measured_units:
      type: DeclarativeStream
      name: measured_units
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: measured_units
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/measured_units"
    plans:
      type: DeclarativeStream
      name: plans
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: plans
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/plans"
    shipping_addresses:
      type: DeclarativeStream
      name: shipping_addresses
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /accounts/{{ stream_partition['account_id'] }}/shipping_addresses
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: account_id
              stream:
                $ref: "#/definitions/streams/accounts"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/shipping_addresses"
    shipping_methods:
      type: DeclarativeStream
      name: shipping_methods
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: shipping_methods
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/shipping_methods"
    subscriptions:
      type: DeclarativeStream
      name: subscriptions
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: subscriptions
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/subscriptions"
    transactions:
      type: DeclarativeStream
      name: transactions
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: transactions
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/transactions"
    unique_coupons:
      type: DeclarativeStream
      name: unique_coupons
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: /coupons/{{ stream_partition['coupon_id'] }}/unique_coupon_codes
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
        partition_router:
          type: SubstreamPartitionRouter
          parent_stream_configs:
            - type: ParentStreamConfig
              parent_key: id
              partition_field: coupon_id
              stream:
                $ref: "#/definitions/streams/unique_coupons_parent"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/unique_coupons"
    unique_coupons_parent:
      type: DeclarativeStream
      name: unique_coupons_parent
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: coupons
          http_method: GET
          request_parameters:
            sort: updated_at
            order: asc
          request_headers:
            Accept: application/vnd.recurly.v2021-02-25
            User-Agent: USER_AGENT
            Content-Type: application/json
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
          record_filter:
            type: RecordFilter
            condition: "{{ record['coupon_type'] == 'bulk' }}"
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestPath
          page_size_option:
            type: RequestOption
            field_name: limit
            inject_into: request_parameter
          pagination_strategy:
            type: CursorPagination
            page_size: 200
            cursor_value: "{{ response.next }}"
            stop_condition: "{{ response.has_more is false }}"
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%SZ"
        datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['begin_time'] if config['begin_time'] else (now_utc() -
            duration('P5Y')).strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          field_name: begin_time
          inject_into: request_parameter
        end_time_option:
          type: RequestOption
          field_name: end_time
          inject_into: request_parameter
        end_datetime:
          type: MinMaxDatetime
          datetime: >-
            {{ config['end_time'] if config['end_time'] else
            now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/unique_coupons_parent"
  base_requester:
    type: HttpRequester
    url_base: https://v3.recurly.com
    authenticator:
      type: BasicHttpAuthenticator
      username: "{{ config['api_key'] }}"

streams:
  - $ref: "#/definitions/streams/accounts"
  - $ref: "#/definitions/streams/account_coupon_redemptions"
  - $ref: "#/definitions/streams/account_notes"
  - $ref: "#/definitions/streams/add_ons"
  - $ref: "#/definitions/streams/billing_infos"
  - $ref: "#/definitions/streams/coupons"
  - $ref: "#/definitions/streams/credit_payments"
  - $ref: "#/definitions/streams/export_dates"
  - $ref: "#/definitions/streams/invoices"
  - $ref: "#/definitions/streams/line_items"
  - $ref: "#/definitions/streams/measured_units"
  - $ref: "#/definitions/streams/plans"
  - $ref: "#/definitions/streams/shipping_addresses"
  - $ref: "#/definitions/streams/shipping_methods"
  - $ref: "#/definitions/streams/subscriptions"
  - $ref: "#/definitions/streams/transactions"
  - $ref: "#/definitions/streams/unique_coupons"
  - $ref: "#/definitions/streams/unique_coupons_parent"

spec:
  type: Spec
  connection_specification:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    required:
      - api_key
    properties:
      api_key:
        type: string
        description: >-
          Recurly API Key. See the  <a
          href="https://docs.airbyte.com/integrations/sources/recurly">docs</a>
          for more information on how to generate this key.
        order: 0
        title: API Key
        airbyte_secret: true
      begin_time:
        type: string
        description: >-
          ISO8601 timestamp from which the replication from Recurly API will
          start from.
        order: 1
        pattern: ^$|^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$
        examples:
          - "2021-12-01T00:00:00"
      end_time:
        type: string
        description: >-
          ISO8601 timestamp to which the replication from Recurly API will stop.
          Records after that date won't be imported.
        order: 2
        pattern: ^$|^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$
        examples:
          - "2021-12-01T00:00:00"
    additionalProperties: true

metadata:
  autoImportSchema:
    accounts: false
    account_coupon_redemptions: false
    account_notes: false
    add_ons: false
    billing_infos: false
    coupons: false
    credit_payments: false
    export_dates: false
    invoices: false
    line_items: false
    measured_units: false
    plans: false
    shipping_addresses: false
    shipping_methods: false
    subscriptions: false
    transactions: false
    unique_coupons: false
    unique_coupons_parent: true
  yamlComponents:
    streams:
      export_dates:
        - recordSelector
    global:
      - authenticator
  testedStreams:
    accounts:
      hasRecords: true
      streamHash: 11d3bfcfbacd601ab5efcc68218a6cdef23b6f47
      hasResponse: true
      primaryKeysAreUnique: true
      primaryKeysArePresent: true
      responsesAreSuccessful: true
    account_coupon_redemptions:
      streamHash: d724e45e08324b43a94e0e500e664403fe80332c
    account_notes:
      streamHash: 9db06dff3323ea995b085cf95342db9b2029bb7c
    add_ons:
      streamHash: 94072f96983e4e96f54c7baaa24b0375f57331e1
    billing_infos:
      streamHash: f8f164bc26871caaa7fd5cd8ca27310eec6dcfcc
    coupons:
      streamHash: 4d8f143623054d6cf60e5e350d8b476830a29840
    credit_payments:
      streamHash: 434c5210f63cdd1583ecc09d1b606a5e453e3932
    export_dates:
      streamHash: d0aade1accdb8ac55ebc1669020c001b02fb3307
    invoices:
      streamHash: 8bd7d5dd7d691a0198ad949b14a637af241e3525
    line_items:
      streamHash: 1542034779aaf8c8dae770fd352618fbe3543b90
    measured_units:
      streamHash: a07fb60b432098f1cada954a3830c698ae37a21c
    plans:
      streamHash: b8d262d1c35ffeae577ca07dfe497cd16c81ecef
    shipping_addresses:
      streamHash: 8c103ffaa8b1b579b830aaf66df7d20cbf96cf7e
    shipping_methods:
      streamHash: 26109dca0fcc6c5c236b80f42caf2db14472d433
    subscriptions:
      streamHash: ddab1a73c61da0588d7af3f3f28acdeb0f683a48
    transactions:
      streamHash: a4690ee75cbd87be5f86185f97b4e7e4132a9c1f
    unique_coupons:
      streamHash: 0c5af71a0eebdb74c86b2945aed8ff369c82b671
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    unique_coupons_parent:
      streamHash: ea27ebf3a3b2052a576a3fb3d7a63b52308ca5bc
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
  assist: {}

schemas:
  accounts:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      address:
        type: object
        description: The address details of the account
        properties:
          city:
            type: string
            description: City of the address
            maxLength: 256
            title: City
          country:
            type: string
            description: Country, 2-letter ISO 3166-1 alpha-2 code.
            maxLength: 2
            title: Country
          geo_code:
            type:
              - "null"
              - string
            description: Geographical coordinates of the address
          phone:
            type: string
            description: Phone number associated with the address
            maxLength: 256
            title: Phone number
          postal_code:
            type: string
            description: Zip or postal code.
            maxLength: 256
            title: Zip/Postal code
          region:
            type: string
            description: State or province.
            maxLength: 256
            title: State/Province
          street1:
            type: string
            description: First line of the street address
            maxLength: 256
            title: Street 1
          street2:
            type: string
            description: Second line of the street address
            maxLength: 256
            title: Street 2
      bill_to:
        type:
          - "null"
          - string
        description: The billing details
        maxLength: 6
      billing_info:
        type: object
        description: Billing information
        $schema: http://json-schema.org/draft-07/schema#
        properties:
          account_id:
            type: string
            maxLength: 13
            readOnly: true
          address:
            type: object
            properties:
              city:
                type:
                  - "null"
                  - string
                maxLength: 256
                title: City
              country:
                type:
                  - "null"
                  - string
                description: Country, 2-letter ISO 3166-1 alpha-2 code.
                maxLength: 2
                title: Country
              phone:
                type:
                  - "null"
                  - string
                maxLength: 256
                title: Phone number
              postal_code:
                type:
                  - "null"
                  - string
                description: Zip or postal code.
                maxLength: 256
                title: Zip/Postal code
              region:
                type:
                  - "null"
                  - string
                description: State or province.
                maxLength: 256
                title: State/Province
              street1:
                type:
                  - "null"
                  - string
                maxLength: 256
                title: Street 1
              street2:
                type:
                  - "null"
                  - string
                maxLength: 256
                title: Street 2
          backup_payment_method:
            type: boolean
            description: >-
              The `backup_payment_method` field is used to indicate a billing
              info as a backup on the account that will be tried if the initial
              billing info used for an invoice is declined.
          company:
            type:
              - "null"
              - string
            maxLength: 100
          created_at:
            type: string
            description: When the billing information was created.
            format: date-time
            readOnly: true
          first_name:
            type:
              - "null"
              - string
            maxLength: 50
          fraud:
            type:
              - "null"
              - object
            description: Most recent fraud result.
            properties:
              decision:
                type:
                  - "null"
                  - string
                maxLength: 10
                title: Kount decision
              risk_rules_triggered:
                type: object
                title: Kount rules
              score:
                type:
                  - "null"
                  - integer
                title: Kount score
            readOnly: true
            title: Fraud information
          id:
            type: string
            maxLength: 13
            readOnly: true
          last_name:
            type:
              - "null"
              - string
            maxLength: 50
          object:
            type:
              - "null"
              - string
          payment_method:
            type: object
            properties:
              account_type:
                type:
                  - "null"
                  - string
                description: The bank account type. Only present for ACH payment methods.
                maxLength: 256
              billing_agreement_id:
                type:
                  - "null"
                  - string
                description: >-
                  Billing Agreement identifier. Only present for Amazon or
                  Paypal payment methods.
                maxLength: 256
              card_type:
                type:
                  - "null"
                  - string
                description: Visa, MasterCard, American Express, Discover, JCB, etc.
                maxLength: 256
              cc_bin_country:
                type:
                  - "null"
                  - string
                description: >-
                  The 2-letter ISO 3166-1 alpha-2 country code associated with
                  the credit card BIN, if known by Recurly. Available on the
                  BillingInfo object only. Available when the BIN country lookup
                  feature is enabled.
                maxLength: 256
              exp_month:
                type:
                  - "null"
                  - integer
                description: Expiration month.
                maxLength: 2
              exp_year:
                type:
                  - "null"
                  - integer
                description: Expiration year.
                maxLength: 4
              first_six:
                type:
                  - "null"
                  - string
                description: Credit card number's first six digits.
                maxLength: 6
              gateway_code:
                type:
                  - "null"
                  - string
                description: An identifier for a specific payment gateway.
                maxLength: 13
              gateway_token:
                type:
                  - "null"
                  - string
                description: >-
                  A token used in place of a credit card in order to perform
                  transactions.
                maxLength: 50
              last_four:
                type:
                  - "null"
                  - string
                description: >-
                  Credit card number's last four digits. Will refer to bank
                  account if payment method is ACH.
                maxLength: 4
              last_two:
                type:
                  - "null"
                  - string
                description: The IBAN bank account's last two digits.
                maxLength: 2
              name_on_account:
                type:
                  - "null"
                  - string
                description: The name associated with the bank account.
                maxLength: 256
              object:
                type:
                  - "null"
                  - string
              routing_number:
                type:
                  - "null"
                  - string
                description: >-
                  The bank account's routing number. Only present for ACH
                  payment methods.
                maxLength: 256
              routing_number_bank:
                type:
                  - "null"
                  - string
                description: The bank name of this routing number.
                maxLength: 256
          primary_payment_method:
            type: boolean
            description: >-
              The `primary_payment_method` field is used to indicate the primary
              billing info on the account. The first billing info created on an
              account will always become primary. This payment method will be
              used
          updated_at:
            type: string
            description: When the billing information was last changed.
            format: date-time
            readOnly: true
          updated_by:
            type:
              - "null"
              - object
            properties:
              country:
                type:
                  - "null"
                  - string
              ip:
                type:
                  - "null"
                  - string
          valid:
            type: boolean
            readOnly: true
          vat_number:
            type:
              - "null"
              - string
            description: >-
              Customer's VAT number (to avoid having the VAT applied). This is
              only used for automatically collected invoices.
            maxLength: 20
      cc_emails:
        type:
          - "null"
          - string
        description: Email addresses for carbon copy (CC)
        maxLength: 256
      code:
        type:
          - "null"
          - string
        description: Unique code assigned to the account
        maxLength: 256
      company:
        type:
          - "null"
          - string
        description: Company associated with the account
        maxLength: 50
      created_at:
        type:
          - "null"
          - string
        description: Date and time when the account was created
        format: date-time
      custom_fields:
        type:
          - "null"
          - array
        description: Custom fields associated with the account
        items:
          type:
            - "null"
            - object
          additionalProperties: true
      deleted_at:
        type:
          - "null"
          - string
        description: Date and time when the account was deleted
        format: date-time
      dunning_campaign_id:
        type:
          - "null"
          - string
        description: Campaign ID for dunning management
        maxLength: 256
      email:
        type:
          - "null"
          - string
        description: Email address of the account holder
        maxLength: 256
      exemption_certificate:
        type:
          - "null"
          - string
        description: Exemption certificate details
        maxLength: 30
      external_accounts:
        type:
          - "null"
          - array
        description: External accounts associated with the account
        items:
          type: object
          $schema: http://json-schema.org/draft-07/schema#
          properties:
            created_at:
              type:
                - "null"
                - string
            external_account_code:
              type:
                - "null"
                - string
            external_connection_type:
              type:
                - "null"
                - string
            id:
              type:
                - "null"
                - string
            object:
              type:
                - "null"
                - string
            updated_at:
              type:
                - "null"
                - string
      first_name:
        type:
          - "null"
          - string
        description: First name of the account holder
        maxLength: 256
      has_active_subscription:
        type:
          - "null"
          - boolean
        description: Flag indicating if the account has an active subscription
      has_canceled_subscription:
        type:
          - "null"
          - boolean
        description: Flag indicating if the account has a canceled subscription
      has_future_subscription:
        type:
          - "null"
          - boolean
        description: Flag indicating if the account has a future subscription
      has_live_subscription:
        type:
          - "null"
          - boolean
        description: Flag indicating if the account has a live subscription
      has_past_due_invoice:
        type:
          - "null"
          - boolean
        description: Flag indicating if the account has a past due invoice
      has_paused_subscription:
        type:
          - "null"
          - boolean
        description: Flag indicating if the account has a paused subscription
      hosted_login_token:
        type:
          - "null"
          - string
        description: Token for hosted login functionality
      id:
        type:
          - "null"
          - string
        description: Unique identifier of the account
        maxLength: 13
      invoice_template_id:
        type:
          - "null"
          - string
        description: ID of the invoice template used
      last_name:
        type:
          - "null"
          - string
        description: Last name of the account holder
        maxLength: 256
      object:
        type:
          - "null"
          - string
        description: Type of object
      override_business_entity_id:
        type:
          - "null"
          - string
        description: ID for overriding business entity
      parent_account_id:
        type:
          - "null"
          - string
        description: ID of the parent account
        maxLength: 13
      preferred_locale:
        type:
          - "null"
          - string
        description: Preferred language/locale of the account holder
        maxLength: 12
      preferred_time_zone:
        type:
          - "null"
          - string
        description: Preferred time zone of the account holder
      shipping_addresses:
        type:
          - "null"
          - array
        description: Addresses for shipping
        items:
          type:
            - "null"
            - object
          $schema: http://json-schema.org/draft-07/schema#
          properties:
            account_id:
              type: string
              maxLength: 13
              readOnly: true
              title: Account ID
            city:
              type: string
              maxLength: 255
            company:
              type: string
              maxLength: 255
            country:
              type: string
              description: Country, 2-letter ISO 3166-1 alpha-2 code.
              maxLength: 50
            created_at:
              type: string
              format: date-time
              readOnly: true
              title: Created at
            email:
              type: string
              maxLength: 255
            first_name:
              type: string
              maxLength: 255
            geo_code:
              type:
                - "null"
                - string
            id:
              type: string
              maxLength: 13
              readOnly: true
              title: Shipping Address ID
            last_name:
              type: string
              maxLength: 255
            nickname:
              type: string
              maxLength: 255
            object:
              type:
                - "null"
                - string
            phone:
              type: string
              maxLength: 30
            postal_code:
              type: string
              description: Zip or postal code.
              maxLength: 20
            region:
              type: string
              description: State or province.
              maxLength: 255
            street1:
              type: string
              maxLength: 255
            street2:
              type: string
              maxLength: 255
            updated_at:
              type: string
              format: date-time
              readOnly: true
              title: Updated at
            vat_number:
              type: string
              maxLength: 20
      state:
        type:
          - "null"
          - string
        description: State/province of the account address
        maxLength: 256
      tax_exempt:
        type:
          - "null"
          - boolean
        description: Flag indicating if the account is tax exempt
      updated_at:
        type:
          - "null"
          - string
        description: Date and time when the account was last updated
        format: date-time
      username:
        type:
          - "null"
          - string
        description: Username of the account holder
        maxLength: 256
      vat_number:
        type:
          - "null"
          - string
        description: VAT (Value Added Tax) number of the account
        maxLength: 20
  account_coupon_redemptions:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      account:
        type:
          - "null"
          - object
        description: The account associated with the coupon redemption
        properties:
          bill_to:
            type:
              - "null"
              - string
          code:
            type:
              - "null"
              - string
          company:
            type:
              - "null"
              - string
          dunning_campaign_id:
            type:
              - "null"
              - string
          email:
            type:
              - "null"
              - string
          first_name:
            type:
              - "null"
              - string
          id:
            type: string
          last_name:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
          parent_account_id:
            type:
              - "null"
              - string
      coupon:
        type: object
        description: The coupon being redeemed
        $schema: http://json-schema.org/draft-07/schema#
        properties:
          applies_to_all_items:
            type:
              - "null"
              - boolean
          applies_to_all_plans:
            type:
              - "null"
              - boolean
          applies_to_non_plan_charges:
            type:
              - "null"
              - boolean
          code:
            type:
              - "null"
              - string
            maxLength: 256
          coupon_type:
            type:
              - "null"
              - string
            maxLength: 256
          created_at:
            type:
              - "null"
              - string
            format: date-time
          discount:
            type:
              - "null"
              - object
            description: >
              Details of the discount a coupon applies. Will contain a `type`

              property and one of the following properties: `percent`, `fixed`,
              `trial`.
            properties:
              type:
                type: string
                maxLength: 256
              currencies:
                type: array
                description: This is only present when `type=fixed`.
                items:
                  type:
                    - "null"
                    - object
                  properties:
                    amount:
                      type: number
                      description: Value of the fixed discount that this coupon applies.
                      format: float
                      title: Discount Amount
                    currency:
                      type: string
                      description: 3-letter ISO 4217 currency code.
                      maxLength: 3
                      title: Currency
              percent:
                type: integer
                description: This is only present when `type=percent`.
              trial:
                type: object
                description: This is only present when `type=free_trial`.
                properties:
                  length:
                    type: integer
                    description: >-
                      Trial length measured in the units specified by the
                      sibling `unit` property
                    title: Trial length
                  unit:
                    type: string
                    description: Temporal unit of the free trial
                    maxLength: 256
                    title: Trial unit
          duration:
            type:
              - "null"
              - string
            maxLength: 256
          expired_at:
            type:
              - "null"
              - string
            format: date-time
          free_trial_amount:
            type:
              - "null"
              - number
          free_trial_unit:
            type:
              - "null"
              - string
            maxLength: 256
          hosted_page_description:
            type:
              - "null"
              - string
            maxLength: 1024
          id:
            type:
              - "null"
              - string
            maxLength: 13
          invoice_description:
            type:
              - "null"
              - string
            maxLength: 1024
          items:
            type:
              - "null"
              - array
            description: |
              A list of items for which this coupon applies. This will be
              `null` if `applies_to_all_items=true`.
            items:
              type:
                - "null"
                - object
              description: Just the important parts.
              properties:
                id:
                  type: string
                  maxLength: 13
                  readOnly: true
                  title: Item ID
              title: Item mini details
            title: Items
          max_redemptions:
            type:
              - "null"
              - number
          max_redemptions_per_account:
            type:
              - "null"
              - number
          name:
            type:
              - "null"
              - string
            maxLength: 256
          object:
            type:
              - "null"
              - string
          plans:
            type:
              - "null"
              - array
            description: >-
              A list of plans for which this coupon applies. This will be `null`
              if `applies_to_all_plans=true`.
            items:
              type: object
              description: Just the important parts.
              properties:
                code:
                  type: string
                  description: >-
                    Unique code to identify the plan. This is used in Hosted
                    Payment Page URLs and in the invoice exports.
                  maxLength: 13
                  title: Plan code
                id:
                  type: string
                  maxLength: 13
                  readOnly: true
                  title: Plan ID
              title: Plan mini details
            title: Plans
          redeem_by:
            type:
              - "null"
              - string
            maxLength: 256
          redemption_resource:
            type:
              - "null"
              - string
            maxLength: 256
          state:
            type:
              - "null"
              - string
            maxLength: 256
          temporal_amount:
            type:
              - "null"
              - number
          temporal_unit:
            type:
              - "null"
              - string
            maxLength: 256
          unique_code_template:
            type:
              - "null"
              - string
            maxLength: 256
          unique_coupon_code:
            type:
              - "null"
              - object
            description: A unique coupon code for a bulk coupon.
            $schema: http://json-schema.org/draft-07/schema#
            properties:
              bulk_coupon_code:
                type:
                  - "null"
                  - string
                description: The Coupon code of the parent Bulk Coupon
                maxLength: 256
                title: Bulk Coupon code
              bulk_coupon_id:
                type:
                  - "null"
                  - string
                description: The Coupon ID of the parent Bulk Coupon
                maxLength: 13
                readOnly: true
                title: Bulk Coupon ID
              code:
                type: string
                description: The code the customer enters to redeem the coupon.
                maxLength: 256
                title: Coupon code
              created_at:
                type: string
                format: date-time
                readOnly: true
                title: Created at
              expired_at:
                type:
                  - "null"
                  - string
                description: >-
                  The date and time the coupon was expired early or reached its
                  `max_redemptions`.
                format: date-time
                title: Expired at
              id:
                type: string
                maxLength: 13
                readOnly: true
                title: Unique Coupon Code ID
              object:
                type: string
              redeemed_at:
                type:
                  - "null"
                  - string
                description: The date and time the unique coupon code was redeemed.
                format: date-time
                readOnly: true
                title: Redeemed at
              state:
                type:
                  - "null"
                  - string
                description: Indicates if the unique coupon code is redeemable or why not.
                maxLength: 256
                title: State
              updated_at:
                type: string
                format: date-time
                readOnly: true
                title: Updated at
          unique_coupon_codes_count:
            type:
              - "null"
              - number
          updated_at:
            type:
              - "null"
              - string
            format: date-time
      created_at:
        type:
          - "null"
          - string
        description: The date and time when the redemption was created
        format: date-time
      currency:
        type:
          - "null"
          - string
        description: The currency in which the redemption was made
        maxLength: 3
      discounted:
        type:
          - "null"
          - number
        description: The amount discounted by the coupon
      id:
        type:
          - "null"
          - string
        description: The unique identifier for the redemption
        maxLength: 13
      object:
        type:
          - "null"
          - string
        description: The type of object this represents
      removed_at:
        type:
          - "null"
          - string
        description: The date and time when the redemption was removed (if applicable)
        format: date-time
      state:
        type:
          - "null"
          - string
        description: The current state of the redemption
        maxLength: 256
      subscription_id:
        type:
          - "null"
          - string
        description: The subscription associated with the redemption
        maxLength: 13
      updated_at:
        type:
          - "null"
          - string
        description: The date and time when the redemption was last updated
        format: date-time
  account_notes:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      account_id:
        type: string
        description: The unique identifier of the account associated with this note.
        maxLength: 13
      created_at:
        type: string
        description: The date and time when the note was created.
        format: date-time
        readOnly: true
      id:
        type: string
        description: The unique identifier for this note.
        maxLength: 13
        readOnly: true
      message:
        type:
          - "null"
          - string
        description: The content or message of the note.
        maxLength: 2048
      object:
        type:
          - "null"
          - string
        description: Represents the object type, in this case, 'note'.
      user:
        type:
          - "null"
          - object
        description: The user who created the note.
        properties:
          created_at:
            type:
              - "null"
              - string
            format: date-time
          deleted_at:
            type:
              - "null"
              - string
            format: date-time
          email:
            type:
              - "null"
              - string
          first_name:
            type:
              - "null"
              - string
          id:
            type: string
          last_name:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
          time_zone:
            type:
              - "null"
              - string
  add_ons:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      accounting_code:
        type:
          - "null"
          - string
        description: >-
          Accounting code for invoice line items for this add-on. If no value is
          provided, it defaults to add-on's code.
        maxLength: 256
        title: Accounting code
      add_on_type:
        type:
          - "null"
          - string
        description: Whether the add-on type is fixed, or usage-based.
        maxLength: 256
        title: Add-on Type
      avalara_service_type:
        type:
          - string
          - integer
        description: >-
          Used by Avalara for Communications taxes. The transaction type in
          combination with the service type describe how the add-on is taxed.
          Refer to [the
          documentation](https://help.avalara.com/AvaTax_for_Communications/Tax_Calculation/AvaTax_for_Communications_Tax_Engine/Mapping_Resources/TM_00115_AFC_Modules_Corresponding_Transaction_Types)
          for more available t/s types.
        minimum: 0
        title: Avalara Service Type
      avalara_transaction_type:
        type:
          - string
          - integer
        description: >-
          Used by Avalara for Communications taxes. The transaction type in
          combination with the service type describe how the add-on is taxed.
          Refer to [the
          documentation](https://help.avalara.com/AvaTax_for_Communications/Tax_Calculation/AvaTax_for_Communications_Tax_Engine/Mapping_Resources/TM_00115_AFC_Modules_Corresponding_Transaction_Types)
          for more available t/s types.
        minimum: 0
        title: Avalara Transaction Type
      code:
        type: string
        description: The unique identifier for the add-on within its plan.
        maxLength: 50
        title: Add-on code
      created_at:
        type: string
        description: The date and time when the add-on was created.
        format: date-time
        readOnly: true
        title: Created at
      currencies:
        type: array
        description: This is only present when `type=fixed`.
        items:
          type:
            - "null"
            - object
          properties:
            currency:
              type: string
              description: 3-letter ISO 4217 currency code.
              maxLength: 3
              title: Currency
            unit_amount:
              type: number
              description: Value of the fixed discount that this coupon applies.
              format: float
              title: Discount Amount
      default_quantity:
        type:
          - "null"
          - integer
        description: Default quantity for the hosted pages.
        title: Default quantity
      deleted_at:
        type: string
        description: The date and time when the add-on was deleted, if applicable.
        format: date-time
        readOnly: true
        title: Deleted at
      display_quantity:
        type:
          - "null"
          - boolean
        description: >-
          Determines if the quantity field is displayed on the hosted pages for
          the add-on.
        title: Display quantity?
      id:
        type: string
        description: The unique identifier for the add-on.
        maxLength: 13
        readOnly: true
        title: Add-on ID
      measured_unit_id:
        type:
          - "null"
          - string
        description: >-
          System-generated unique identifier for an measured unit associated
          with the add-on.
        maxLength: 13
        title: Measured Unit ID
      name:
        type: string
        description: Describes your add-on and will appear in subscribers' invoices.
        maxLength: 255
        title: Name
      optional:
        type:
          - "null"
          - boolean
        description: >-
          Whether the add-on is optional for the customer to include in their
          purchase on the hosted payment page. If false, the add-on will be
          included when a subscription is created through the Recurly UI.
          However, the add-on will not be included when a subscription is
          created through the API.
        title: Optional
      plan_id:
        type: string
        description: The ID of the plan to which the add-on is associated.
        maxLength: 13
        readOnly: true
        title: Plan ID
      revenue_schedule_type:
        type: string
        description: >-
          When this add-on is invoiced, the line item will use this revenue
          schedule. If `item_code`/`item_id` is part of the request then
          `revenue_schedule_type` must be absent in the request as the value
          will be set from the item.
        maxLength: 256
        title: Revenue schedule type
      state:
        type: string
        description: Add-ons can be either active or inactive.
        maxLength: 256
        readOnly: true
        title: State
      tax_code:
        type:
          - "null"
          - string
        description: >-
          Used by Avalara, Vertex, and Recurly’s EU VAT tax feature. The tax
          code values are specific to each tax system. If you are using
          Recurly’s EU VAT feature you can use `unknown`, `physical`, or
          `digital`.
        maxLength: 50
        title: Tax code
      tier_type:
        type:
          - "null"
          - string
        description: >
          The pricing model for the add-on.  For more information,

          [click
          here](https://docs.recurly.com/docs/billing-models#section-quantity-based).
          See our

          [Guide](https://developers.recurly.com/guides/item-addon-guide.html)
          for an overview of how

          to configure quantity-based pricing models.
        maxLength: 256
        title: Tier type
      updated_at:
        type: string
        description: The date and time when the add-on was last updated.
        format: date-time
        readOnly: true
        title: Last updated at
      usage_percentage:
        type:
          - "null"
          - number
        description: >-
          The percentage taken of the monetary amount of usage tracked. This can
          be up to 4 decimal places. A value between 0.0 and 100.0.
        format: float
        title: Usage Percentage
      usage_type:
        type: string
        description: Type of usage, returns usage type if `add_on_type` is `usage`.
        maxLength: 256
        title: Usage Type
  billing_infos:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      account_id:
        type: string
        maxLength: 13
        readOnly: true
      address:
        type: object
        properties:
          city:
            type:
              - "null"
              - string
            maxLength: 256
            title: City
          country:
            type:
              - "null"
              - string
            description: Country, 2-letter ISO 3166-1 alpha-2 code.
            maxLength: 2
            title: Country
          phone:
            type:
              - "null"
              - string
            maxLength: 256
            title: Phone number
          postal_code:
            type:
              - "null"
              - string
            description: Zip or postal code.
            maxLength: 256
            title: Zip/Postal code
          region:
            type:
              - "null"
              - string
            description: State or province.
            maxLength: 256
            title: State/Province
          street1:
            type:
              - "null"
              - string
            maxLength: 256
            title: Street 1
          street2:
            type:
              - "null"
              - string
            maxLength: 256
            title: Street 2
      backup_payment_method:
        type: boolean
        description: >-
          The `backup_payment_method` field is used to indicate a billing info
          as a backup on the account that will be tried if the initial billing
          info used for an invoice is declined.
      company:
        type:
          - "null"
          - string
        maxLength: 100
      created_at:
        type: string
        description: When the billing information was created.
        format: date-time
        readOnly: true
      first_name:
        type:
          - "null"
          - string
        maxLength: 50
      fraud:
        type:
          - "null"
          - object
        description: Most recent fraud result.
        properties:
          decision:
            type:
              - "null"
              - string
            maxLength: 10
            title: Kount decision
          risk_rules_triggered:
            type: object
            title: Kount rules
          score:
            type:
              - "null"
              - integer
            title: Kount score
        readOnly: true
        title: Fraud information
      id:
        type: string
        maxLength: 13
        readOnly: true
      last_name:
        type:
          - "null"
          - string
        maxLength: 50
      object:
        type:
          - "null"
          - string
      payment_method:
        type: object
        properties:
          account_type:
            type:
              - "null"
              - string
            description: The bank account type. Only present for ACH payment methods.
            maxLength: 256
          billing_agreement_id:
            type:
              - "null"
              - string
            description: >-
              Billing Agreement identifier. Only present for Amazon or Paypal
              payment methods.
            maxLength: 256
          card_type:
            type:
              - "null"
              - string
            description: Visa, MasterCard, American Express, Discover, JCB, etc.
            maxLength: 256
          cc_bin_country:
            type:
              - "null"
              - string
            description: >-
              The 2-letter ISO 3166-1 alpha-2 country code associated with the
              credit card BIN, if known by Recurly. Available on the BillingInfo
              object only. Available when the BIN country lookup feature is
              enabled.
            maxLength: 256
          exp_month:
            type:
              - "null"
              - integer
            description: Expiration month.
            maxLength: 2
          exp_year:
            type:
              - "null"
              - integer
            description: Expiration year.
            maxLength: 4
          first_six:
            type:
              - "null"
              - string
            description: Credit card number's first six digits.
            maxLength: 6
          gateway_code:
            type:
              - "null"
              - string
            description: An identifier for a specific payment gateway.
            maxLength: 13
          gateway_token:
            type:
              - "null"
              - string
            description: >-
              A token used in place of a credit card in order to perform
              transactions.
            maxLength: 50
          last_four:
            type:
              - "null"
              - string
            description: >-
              Credit card number's last four digits. Will refer to bank account
              if payment method is ACH.
            maxLength: 4
          last_two:
            type:
              - "null"
              - string
            description: The IBAN bank account's last two digits.
            maxLength: 2
          name_on_account:
            type:
              - "null"
              - string
            description: The name associated with the bank account.
            maxLength: 256
          object:
            type:
              - "null"
              - string
          routing_number:
            type:
              - "null"
              - string
            description: >-
              The bank account's routing number. Only present for ACH payment
              methods.
            maxLength: 256
          routing_number_bank:
            type:
              - "null"
              - string
            description: The bank name of this routing number.
            maxLength: 256
      primary_payment_method:
        type: boolean
        description: >-
          The `primary_payment_method` field is used to indicate the primary
          billing info on the account. The first billing info created on an
          account will always become primary. This payment method will be used
      updated_at:
        type: string
        description: When the billing information was last changed.
        format: date-time
        readOnly: true
      updated_by:
        type:
          - "null"
          - object
        properties:
          country:
            type:
              - "null"
              - string
          ip:
            type:
              - "null"
              - string
      valid:
        type: boolean
        readOnly: true
      vat_number:
        type:
          - "null"
          - string
        description: >-
          Customer's VAT number (to avoid having the VAT applied). This is only
          used for automatically collected invoices.
        maxLength: 20
  coupons:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      applies_to_all_items:
        type:
          - "null"
          - boolean
      applies_to_all_plans:
        type:
          - "null"
          - boolean
      applies_to_non_plan_charges:
        type:
          - "null"
          - boolean
      code:
        type:
          - "null"
          - string
        maxLength: 256
      coupon_type:
        type:
          - "null"
          - string
        maxLength: 256
      created_at:
        type:
          - "null"
          - string
        format: date-time
      discount:
        type:
          - "null"
          - object
        description: >
          Details of the discount a coupon applies. Will contain a `type`

          property and one of the following properties: `percent`, `fixed`,
          `trial`.
        properties:
          type:
            type: string
            maxLength: 256
          currencies:
            type: array
            description: This is only present when `type=fixed`.
            items:
              type:
                - "null"
                - object
              properties:
                amount:
                  type: number
                  description: Value of the fixed discount that this coupon applies.
                  format: float
                  title: Discount Amount
                currency:
                  type: string
                  description: 3-letter ISO 4217 currency code.
                  maxLength: 3
                  title: Currency
          percent:
            type: integer
            description: This is only present when `type=percent`.
          trial:
            type: object
            description: This is only present when `type=free_trial`.
            properties:
              length:
                type: integer
                description: >-
                  Trial length measured in the units specified by the sibling
                  `unit` property
                title: Trial length
              unit:
                type: string
                description: Temporal unit of the free trial
                maxLength: 256
                title: Trial unit
      duration:
        type:
          - "null"
          - string
        maxLength: 256
      expired_at:
        type:
          - "null"
          - string
        format: date-time
      free_trial_amount:
        type:
          - "null"
          - number
      free_trial_unit:
        type:
          - "null"
          - string
        maxLength: 256
      hosted_page_description:
        type:
          - "null"
          - string
        maxLength: 1024
      id:
        type:
          - "null"
          - string
        maxLength: 13
      invoice_description:
        type:
          - "null"
          - string
        maxLength: 1024
      items:
        type:
          - "null"
          - array
        description: |
          A list of items for which this coupon applies. This will be
          `null` if `applies_to_all_items=true`.
        items:
          type:
            - "null"
            - object
          description: Just the important parts.
          properties:
            id:
              type: string
              maxLength: 13
              readOnly: true
              title: Item ID
          title: Item mini details
        title: Items
      max_redemptions:
        type:
          - "null"
          - number
      max_redemptions_per_account:
        type:
          - "null"
          - number
      name:
        type:
          - "null"
          - string
        maxLength: 256
      object:
        type:
          - "null"
          - string
      plans:
        type:
          - "null"
          - array
        description: >-
          A list of plans for which this coupon applies. This will be `null` if
          `applies_to_all_plans=true`.
        items:
          type: object
          description: Just the important parts.
          properties:
            code:
              type: string
              description: >-
                Unique code to identify the plan. This is used in Hosted Payment
                Page URLs and in the invoice exports.
              maxLength: 13
              title: Plan code
            id:
              type: string
              maxLength: 13
              readOnly: true
              title: Plan ID
          title: Plan mini details
        title: Plans
      redeem_by:
        type:
          - "null"
          - string
        maxLength: 256
      redemption_resource:
        type:
          - "null"
          - string
        maxLength: 256
      state:
        type:
          - "null"
          - string
        maxLength: 256
      temporal_amount:
        type:
          - "null"
          - number
      temporal_unit:
        type:
          - "null"
          - string
        maxLength: 256
      unique_code_template:
        type:
          - "null"
          - string
        maxLength: 256
      unique_coupon_code:
        type:
          - "null"
          - object
        description: A unique coupon code for a bulk coupon.
        $schema: http://json-schema.org/draft-07/schema#
        properties:
          bulk_coupon_code:
            type:
              - "null"
              - string
            description: The Coupon code of the parent Bulk Coupon
            maxLength: 256
            title: Bulk Coupon code
          bulk_coupon_id:
            type:
              - "null"
              - string
            description: The Coupon ID of the parent Bulk Coupon
            maxLength: 13
            readOnly: true
            title: Bulk Coupon ID
          code:
            type: string
            description: The code the customer enters to redeem the coupon.
            maxLength: 256
            title: Coupon code
          created_at:
            type: string
            format: date-time
            readOnly: true
            title: Created at
          expired_at:
            type:
              - "null"
              - string
            description: >-
              The date and time the coupon was expired early or reached its
              `max_redemptions`.
            format: date-time
            title: Expired at
          id:
            type: string
            maxLength: 13
            readOnly: true
            title: Unique Coupon Code ID
          object:
            type: string
          redeemed_at:
            type:
              - "null"
              - string
            description: The date and time the unique coupon code was redeemed.
            format: date-time
            readOnly: true
            title: Redeemed at
          state:
            type:
              - "null"
              - string
            description: Indicates if the unique coupon code is redeemable or why not.
            maxLength: 256
            title: State
          updated_at:
            type: string
            format: date-time
            readOnly: true
            title: Updated at
      unique_coupon_codes_count:
        type:
          - "null"
          - number
      updated_at:
        type:
          - "null"
          - string
        format: date-time
  credit_payments:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      account:
        type: object
        description: Details about the account associated with the credit payment.
        properties:
          code:
            type: string
            description: The unique identifier of the account.
            maxLength: 50
          id:
            type: string
            description: The ID of the account associated with the credit payment.
            maxLength: 13
            readOnly: true
        title: Account mini details
      action:
        type: string
        description: The action for which the credit was created.
        maxLength: 256
        title: Action
      amount:
        type: number
        description: Total credit payment amount applied to the charge invoice.
        format: float
        title: Amount
      applied_to_invoice:
        type:
          - "null"
          - object
        description: Details about the invoice to which the credit payment is applied.
        properties:
          id:
            type: string
            description: The ID of the invoice to which the credit payment is applied.
            maxLength: 13
            title: Invoice ID
          number:
            type: string
            description: The number of the invoice to which the credit payment is applied.
            maxLength: 256
            title: Invoice number
        title: Invoice mini details
      created_at:
        type: string
        description: The date and time when the credit payment was created.
        format: date-time
        readOnly: true
        title: Created at
      currency:
        type: string
        description: 3-letter ISO 4217 currency code.
        maxLength: 3
        title: Currency
      id:
        type: string
        description: The unique identifier of the credit payment.
        maxLength: 13
        title: Credit Payment ID
      original_credit_payment_id:
        type:
          - "null"
          - string
        description: >-
          For credit payments with action `refund`, this is the credit payment
          that was refunded.
        maxLength: 13
        title: Original Credit Payment ID
      original_invoice:
        type:
          - "null"
          - object
        description: >-
          Details about the original invoice for which the credit payment is
          made.
        properties:
          id:
            type: string
            description: >-
              The ID of the original invoice for which the credit payment was
              made.
            maxLength: 13
            title: Invoice ID
          number:
            type: string
            description: >-
              The number of the original invoice for which the credit payment
              was made.
            maxLength: 256
            title: Invoice number
        title: Invoice mini details
      refund_transaction:
        type:
          - "null"
          - object
        description: >-
          Details about the refund transaction associated with the credit
          payment.
        properties:
          id:
            type: string
            description: >-
              The ID of the refund transaction associated with the credit
              payment.
            maxLength: 13
            title: Transaction ID
          uuid:
            type: string
            description: >-
              The UUID is useful for matching data with the CSV exports and
              building URLs into Recurly's UI.
            maxLength: 32
            title: Recurly UUID
      updated_at:
        type: string
        description: The date and time when the credit payment was last updated.
        format: date-time
        readOnly: true
        title: Last updated at
      uuid:
        type: string
        description: >-
          The UUID is useful for matching data with the CSV exports and building
          URLs into Recurly's UI.
        maxLength: 32
        title: Recurly UUID
      voided_at:
        type:
          - "null"
          - string
        description: The date and time when the credit payment was voided.
        format: date-time
        readOnly: true
        title: Voided at
  export_dates:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      dates:
        type:
          - "null"
          - array
        description: List of export dates
        items:
          type:
            - "null"
            - string
          description: Date of the export
          maxLength: 256
  invoices:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      type:
        type:
          - "null"
          - string
        description: Invoices are either charge, credit, or legacy invoices.
        maxLength: 256
        title: Invoice type
      account:
        type:
          - "null"
          - object
        description: The account associated with the invoice.
        properties:
          bill_to:
            type:
              - "null"
              - string
          code:
            type:
              - "null"
              - string
          company:
            type:
              - "null"
              - string
          dunning_campaign_id:
            type:
              - "null"
              - string
          email:
            type:
              - "null"
              - string
          first_name:
            type:
              - "null"
              - string
          id:
            type: string
          last_name:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
          parent_account_id:
            type:
              - "null"
              - string
      address:
        type:
          - "null"
          - object
        description: The address details related to the invoice recipient.
        properties:
          city:
            type:
              - "null"
              - string
            description: The city in the address.
            maxLength: 256
            title: City
          company:
            type:
              - "null"
              - string
            description: The company name in the address.
            maxLength: 256
            title: Company
          country:
            type:
              - "null"
              - string
            description: Country, 2-letter ISO 3166-1 alpha-2 code.
            maxLength: 2
            title: Country
          first_name:
            type:
              - "null"
              - string
            description: The first name of the recipient.
            maxLength: 256
          last_name:
            type:
              - "null"
              - string
            description: The last name of the recipient.
            maxLength: 256
          name_on_account:
            type:
              - "null"
              - string
            description: The name on the account.
            maxLength: 256
            title: Name on account
          phone:
            type:
              - "null"
              - string
            description: The phone number associated with the address.
            maxLength: 256
            title: Phone number
          postal_code:
            type:
              - "null"
              - string
            description: Zip or postal code.
            maxLength: 256
            title: Zip/Postal code
          region:
            type:
              - "null"
              - string
            description: State or province.
            maxLength: 256
            title: State/Province
          street1:
            type:
              - "null"
              - string
            description: The first line of the street address.
            maxLength: 256
            title: Street 1
          street2:
            type:
              - "null"
              - string
            description: The second line of the street address.
            maxLength: 256
            title: Street 2
      balance:
        type:
          - "null"
          - number
        description: The outstanding balance remaining on this invoice.
        format: float
        title: Balance
      billing_info_id:
        type:
          - "null"
          - string
        description: >-
          The `billing_info_id` is the value that represents a specific billing
          info for an end customer. When `billing_info_id` is used to assign
          billing info to the subscription, all future billing events for the
          subscription will bill to the specified billing info.
          `billing_info_id` can ONLY be used for sites utilizing the Wallet
          feature.
        maxLength: 256
        title: Billing info ID
      business_entity_id:
        type:
          - "null"
          - string
        description: The business entity ID linked to the invoice.
      closed_at:
        type:
          - "null"
          - string
        description: Date invoice was marked paid or failed.
        format: date-time
        title: Closed at
      collection_method:
        type:
          - "null"
          - string
        description: >-
          An automatic invoice means a corresponding transaction is run using
          the account's billing information at the same time the invoice is
          created. Manual invoices are created without a corresponding
          transaction. The merchant must enter a manual payment transaction or
          have the customer pay the invoice with an automatic method, like
          credit card, PayPal, Amazon, or ACH bank payment.
        maxLength: 256
        title: Collection method
      created_at:
        type:
          - "null"
          - string
        description: The date and time when the invoice was created.
        format: date-time
        readOnly: true
        title: Created at
      credit_payments:
        type:
          - "null"
          - array
        description: The credit payments related to the invoice.
        items:
          type:
            - "null"
            - object
          properties:
            id:
              type: string
              description: The ID of a credit payment associated with the invoice.
              maxLength: 13
              title: Credit Payment ID
            uuid:
              type: string
              description: >-
                The UUID is useful for matching data with the CSV exports and
                building URLs into Recurly's UI.
              maxLength: 32
              title: Recurly UUID
        title: Credit payments
      currency:
        type:
          - "null"
          - string
        description: 3-letter ISO 4217 currency code.
        maxLength: 3
        title: Currency
      customer_notes:
        type:
          - "null"
          - string
        description: >-
          This will default to the Customer Notes text specified on the Invoice
          Settings. Specify custom notes to add or override Customer Notes.
        maxLength: 2048
        title: Customer notes
      discount:
        type:
          - "null"
          - number
        description: Total discounts applied to this invoice.
        format: float
        title: Discount
      due_at:
        type:
          - "null"
          - string
        description: Date invoice is due. This is the date the net terms are reached.
        format: date-time
        title: Due at
      dunning_campaign_id:
        type:
          - "null"
          - string
        description: >-
          Unique ID to identify the dunning campaign used when dunning the
          invoice. Available when the Dunning Campaigns feature is enabled. For
          sites without multiple dunning campaigns enabled, this will always be
          the default dunning campaign.
        maxLength: 256
        title: Dunning Campaign ID
      dunning_events_sent:
        type:
          - "null"
          - integer
        description: The number of dunning events sent for the invoice.
      final_dunning_event:
        type:
          - "null"
          - boolean
        description: The final dunning event related to the invoice if applicable.
      has_more_line_items:
        type:
          - "null"
          - boolean
        description: Indicates if there are more line items in the invoice.
      id:
        type:
          - "null"
          - string
        description: The unique ID of the invoice.
        maxLength: 13
        readOnly: true
        title: Invoice ID
      line_items:
        type:
          - "null"
          - array
        description: The line items included in the invoice.
        items:
          type:
            - "null"
            - object
          $schema: http://json-schema.org/draft-07/schema#
          properties:
            type:
              type: string
              description: >-
                Charges are positive line items that debit the account. Credits
                are negative line items that credit the account.
              maxLength: 256
              title: Line item type
            description:
              type: string
              description: >-
                Description that appears on the invoice. For subscription
                related items this will be filled in automatically.
              maxLength: 255
              title: Description
            account:
              type:
                - "null"
                - object
              properties:
                bill_to:
                  type:
                    - "null"
                    - string
                code:
                  type:
                    - "null"
                    - string
                company:
                  type:
                    - "null"
                    - string
                dunning_campaign_id:
                  type:
                    - "null"
                    - string
                email:
                  type:
                    - "null"
                    - string
                first_name:
                  type:
                    - "null"
                    - string
                id:
                  type: string
                last_name:
                  type:
                    - "null"
                    - string
                object:
                  type:
                    - "null"
                    - string
                parent_account_id:
                  type:
                    - "null"
                    - string
            accounting_code:
              type: string
              description: >-
                Internal accounting code to help you reconcile your revenue to
                the correct ledger. Line items created as part of a subscription
                invoice will use the plan or add-on's accounting code, otherwise
                the value will only be present if you define an accounting code
                when creating the line item.
              maxLength: 20
              title: Accounting code
            add_on_code:
              type:
                - "null"
                - string
              description: >-
                If the line item is a charge or credit for an add-on, this is
                its code.
              maxLength: 50
              title: Add-on code
            add_on_id:
              type:
                - "null"
                - string
              description: >-
                If the line item is a charge or credit for an add-on this is its
                ID.
              maxLength: 13
              title: Add-on ID
            amount:
              type: number
              description: "`(quantity * unit_amount) - (discount + tax)`"
              format: float
              title: Total after discounts and taxes
            bill_for_account_id:
              type: string
              description: >-
                The UUID of the account responsible for originating the line
                item.
              maxLength: 13
              title: Bill For Account ID
            created_at:
              type: string
              description: When the line item was created.
              format: date-time
              title: Created at
            credit_applied:
              type:
                - "null"
                - number
              description: >-
                The amount of credit from this line item that was applied to the
                invoice.
              format: float
              title: Credit Applied
            credit_reason_code:
              type:
                - "null"
                - string
              description: The reason the credit was given when line item is `type=credit`.
              default: general
              maxLength: 256
              title: Credit reason code
            currency:
              type: string
              description: 3-letter ISO 4217 currency code.
              maxLength: 3
              title: Currency
            custom_fields:
              type:
                - "null"
                - array
              items:
                type:
                  - "null"
                  - object
                properties:
                  name:
                    type:
                      - "null"
                      - string
                  value:
                    type:
                      - "null"
                      - string
            discount:
              type:
                - "null"
                - number
              description: The discount applied to the line item.
              format: float
              title: Discount
            end_date:
              type:
                - "null"
                - string
              description: If this date is provided, it indicates the end of a time range.
              format: date-time
              title: End date
            external_sku:
              type:
                - "null"
                - string
              description: >-
                Optional Stock Keeping Unit assigned to an item. Available when
                the Credit Invoices and Subscription Billing Terms features are
                enabled.
              maxLength: 50
              title: External SKU
            id:
              type: string
              maxLength: 13
              title: Line item ID
            invoice_id:
              type:
                - "null"
                - string
              description: >-
                Once the line item has been invoiced this will be the invoice's
                ID.
              maxLength: 13
              title: Invoice ID
            invoice_number:
              type:
                - "null"
                - string
              description: >-
                Once the line item has been invoiced this will be the invoice's
                number. If VAT taxation and the Country Invoice Sequencing
                feature are enabled, invoices will have country-specific invoice
                numbers for invoices billed to EU countries (ex: FR1001). Non-EU
                invoices will continue to use the site-level invoice number
                sequence.
              maxLength: 256
              title: Invoice number
            item_code:
              type:
                - "null"
                - string
              description: >-
                Unique code to identify an item. Available when the Credit
                Invoices and Subscription Billing Terms features are enabled.
              maxLength: 50
              title: Item Code
            item_id:
              type:
                - "null"
                - string
              description: >-
                System-generated unique identifier for an item. Available when
                the Credit Invoices and Subscription Billing Terms features are
                enabled.
              maxLength: 13
              title: Item ID
            legacy_category:
              type:
                - "null"
                - string
              description: >
                Category to describe the role of a line item on a legacy
                invoice:

                - "charges" refers to charges being billed for on this invoice.

                - "credits" refers to refund or proration credits. This portion
                of the invoice can be considered a credit memo.

                - "applied_credits" refers to previous credits applied to this
                invoice. See their original_line_item_id to determine where the
                credit first originated.

                - "carryforwards" can be ignored. They exist to consume any
                remaining credit balance. A new credit with the same amount will
                be created and placed back on the account.
              title: Legacy category
            object:
              type:
                - "null"
                - string
            origin:
              type: string
              description: >-
                A credit created from an original charge will have the value of
                the charge's origin.
              maxLength: 256
              title: Origin of line item
            original_line_item_invoice_id:
              type:
                - "null"
                - string
              description: >-
                The invoice where the credit originated. Will only have a value
                if the line item is a credit created from a previous credit, or
                if the credit was created from a charge refund.
              maxLength: 13
              title: Original line item's invoice ID
            plan_code:
              type:
                - "null"
                - string
              description: >-
                If the line item is a charge or credit for a plan or add-on,
                this is the plan's code.
              maxLength: 50
              title: Plan code
            plan_id:
              type:
                - "null"
                - string
              description: >-
                If the line item is a charge or credit for a plan or add-on,
                this is the plan's ID.
              maxLength: 13
              title: Plan ID
            previous_line_item_id:
              type:
                - "null"
                - string
              description: >-
                Will only have a value if the line item is a credit created from
                a previous credit, or if the credit was created from a charge
                refund.
              maxLength: 13
              title: Previous line item ID
            product_code:
              type: string
              description: >-
                For plan-related line items this will be the plan's code, for
                add-on related line items it will be the add-on's code. For
                item-related line items it will be the item's `external_sku`.
              maxLength: 50
              title: Product code
            proration_rate:
              type:
                - "null"
                - number
              description: >-
                When a line item has been prorated, this is the rate of the
                proration. Proration rates were made available for line items
                created after March 30, 2017. For line items created prior to
                that date, the proration rate will be `null`, even if the line
                item was prorated.
              format: float
              maximum: 1
              minimum: 0
              title: Proration rate
            quantity:
              type: integer
              description: >-
                This number will be multiplied by the unit amount to compute the
                subtotal before any discounts or taxes.
              default: 1
              title: Quantity
            refund:
              type: boolean
              title: Refund?
            refunded_quantity:
              type:
                - "null"
                - integer
              description: >-
                For refund charges, the quantity being refunded. For non-refund
                charges, the total quantity refunded (possibly over multiple
                refunds).
              title: Refunded Quantity
            revenue_schedule_type:
              type:
                - "null"
                - string
              maxLength: 256
              title: Revenue schedule type
            shipping_address:
              type:
                - "null"
                - object
              properties:
                id:
                  type: string
                  maxLength: 13
                  readOnly: true
                  title: Shipping Address ID
            start_date:
              type:
                - "null"
                - string
              description: >-
                If an end date is present, this is value indicates the beginning
                of a billing time range. If no end date is present it indicates
                billing for a specific date.
              format: date-time
              title: Start date
            state:
              type: string
              description: >-
                Pending line items are charges or credits on an account that
                have not been applied to an invoice yet. Invoiced line items
                will always have an `invoice_id` value.
              maxLength: 256
              title: Current state of the line item
            subscription_id:
              type:
                - "null"
                - string
              description: >-
                If the line item is a charge or credit for a subscription, this
                is its ID.
              maxLength: 13
              title: Subscription ID
            subtotal:
              type: number
              description: "`quantity * unit_amount`"
              format: float
              title: Total before discounts and taxes
            tax:
              type:
                - "null"
                - number
              description: The tax amount for the line item.
              format: float
              title: Tax
            tax_code:
              type:
                - "null"
                - string
              description: >-
                Used by Avalara, Vertex, and Recurly’s EU VAT tax feature. The
                tax code values are specific to each tax system. If you are
                using Recurly’s EU VAT feature you can use `unknown`,
                `physical`, or `digital`.
              maxLength: 50
              title: Tax code
            tax_exempt:
              type: boolean
              description: >-
                `true` exempts tax on charges, `false` applies tax on charges.
                If not defined, then defaults to the Plan and Site settings.
                This attribute does not work for credits (negative line items).
                Credits are always applied post-tax. Pre-tax discounts should
                use the Coupons feature.
              title: Tax exempt?
            tax_info:
              type:
                - "null"
                - object
              $schema: http://json-schema.org/draft-07/schema#
              properties:
                type:
                  type:
                    - "null"
                    - string
                rate:
                  type:
                    - "null"
                    - number
                region:
                  type:
                    - "null"
                    - string
                tax_details:
                  type:
                    - "null"
                    - array
                  items:
                    type:
                      - "null"
                      - object
                    properties:
                      type:
                        type:
                          - "null"
                          - string
                      billable:
                        type:
                          - "null"
                          - boolean
                      level:
                        type:
                          - "null"
                          - string
                      name:
                        type:
                          - "null"
                          - string
                      rate:
                        type:
                          - "null"
                          - number
                      region:
                        type:
                          - "null"
                          - string
                      tax:
                        type:
                          - "null"
                          - number
            taxable:
              type: boolean
              description: "`true` if the line item is taxable, `false` if it is not."
              title: Taxable?
            unit_amount:
              type: number
              description: Positive amount for a charge, negative amount for a credit.
              format: float
              title: Unit amount
            unit_amount_decimal:
              type:
                - "null"
                - string
              description: Positive amount for a charge, negative amount for a credit.
              title: Unit amount decimal
            updated_at:
              type: string
              description: When the line item was last changed.
              format: date-time
              title: Last updated at
            uuid:
              type: string
              description: >-
                The UUID is useful for matching data with the CSV exports and
                building URLs into Recurly's UI.
              maxLength: 32
              title: UUID
          title: Line item
        title: Line Items
      net_terms:
        type:
          - "null"
          - integer
        description: >-
          Integer representing the number of days after an invoice's creation
          that the invoice will become past due. If an invoice's net terms are
          set to '0', it is due 'On Receipt' and will become past due 24 hours
          after it’s created. If an invoice is due net 30, it will become past
          due at 31 days exactly.
        default: 0
        minimum: 0
        title: Net terms
      number:
        type:
          - "null"
          - string
        description: >-
          If VAT taxation and the Country Invoice Sequencing feature are
          enabled, invoices will have country-specific invoice numbers for
          invoices billed to EU countries (ex: FR1001). Non-EU invoices will
          continue to use the site-level invoice number sequence.
        maxLength: 256
        title: Invoice number
      object:
        type:
          - "null"
          - string
        description: The type of object, in this case, an invoice.
      origin:
        type:
          - "null"
          - string
        description: The event that created the invoice.
        maxLength: 256
        title: Origin
      paid:
        type:
          - "null"
          - number
        description: The total amount of successful payments transaction on this invoice.
        format: float
        title: Paid
      po_number:
        type:
          - "null"
          - string
        description: >-
          For manual invoicing, this identifies the PO number associated with
          the subscription.
        maxLength: 50
        title: Purchase order number
      previous_invoice_id:
        type:
          - "null"
          - string
        description: >-
          On refund invoices, this value will exist and show the invoice ID of
          the purchase invoice the refund was created from.
        maxLength: 13
        title: Previous invoice ID
      refundable_amount:
        type:
          - "null"
          - number
        description: >-
          The refundable amount on a charge invoice. It will be null for all
          other invoices.
        format: float
        title: Refundable amount
      shipping_address:
        type:
          - "null"
          - object
        description: The shipping address details for the invoice delivery.
        properties:
          id:
            type:
              - "null"
              - string
            description: The ID of the shipping address.
            maxLength: 13
            readOnly: true
            title: Shipping Address ID
      state:
        type:
          - "null"
          - string
        description: The current state of the invoice.
        maxLength: 256
        title: Invoice state
      subscription_ids:
        type:
          - "null"
          - array
        description: >-
          If the invoice is charging or refunding for one or more subscriptions,
          these are their IDs.
        items:
          type:
            - "null"
            - string
          maxLength: 13
          title: Subscription ID
        title: Subscription IDs
      subtotal:
        type:
          - "null"
          - number
        description: The summation of charges and credits, before discounts and taxes.
        format: float
        title: Subtotal
      tax:
        type:
          - "null"
          - number
        description: The total tax on this invoice.
        format: float
        title: Tax
      tax_info:
        type:
          - "null"
          - object
        description: Tax information related to the invoice.
        properties:
          type:
            type:
              - "null"
              - string
            description: >-
              Provides the tax type as "vat" for EU VAT, "usst" for U.S. Sales
              Tax, or the 2 letter country code for country level tax types like
              Canada, Australia, New Zealand, Israel, and all non-EU European
              countries.
            maxLength: 256
            title: Type
          rate:
            type:
              - "null"
              - number
            description: The tax rate applied to the invoice.
            format: float
            title: Rate
          region:
            type:
              - "null"
              - string
            description: >-
              Provides the tax region applied on an invoice. For U.S. Sales Tax,
              this will be the 2 letter state code. For EU VAT this will be the
              2 letter country code. For all country level tax types, this will
              display the regional tax, like VAT, GST, or PST.
            title: Region
          tax_details:
            type: array
            description: >-
              Provides additional tax details for Canadian Sales Tax when there
              is tax applied at both the country and province levels. This will
              only be populated for the Invoice response when fetching a single
              invoice and not for the InvoiceList or LineItem.
            items:
              type: object
              properties:
                type:
                  type:
                    - "null"
                    - string
                  description: >-
                    Provides the tax type for the region. For Canadian Sales
                    Tax, this will be GST, HST, QST or PST.
                  maxLength: 256
                  title: Type
                rate:
                  type:
                    - "null"
                    - number
                  description: Provides the tax rate for the region.
                  format: float
                  title: Rate
                region:
                  type:
                    - "null"
                    - string
                  description: >-
                    Provides the tax region applied on an invoice. For Canadian
                    Sales Tax, this will be either the 2 letter province code or
                    country code.
                  maxLength: 256
                  title: Region
                tax:
                  type:
                    - "null"
                    - number
                  description: The total tax applied for this tax type.
                  format: float
                  title: Tax
              title: Tax detail
        title: Tax info
      terms_and_conditions:
        type:
          - "null"
          - string
        description: >-
          This will default to the Terms and Conditions text specified on the
          Invoice Settings page in your Recurly admin. Specify custom notes to
          add or override Terms and Conditions.
        maxLength: 16384
        title: Terms and conditions
      total:
        type:
          - "null"
          - number
        description: >-
          The final total on this invoice. The summation of invoice charges,
          discounts, credits, and tax.
        format: float
        title: Total
      transactions:
        type:
          - "null"
          - array
        description: The transactions associated with the invoice.
        items:
          type:
            - "null"
            - object
          properties:
            id:
              type: string
              description: The ID of a transaction linked to the invoice.
              maxLength: 13
              title: Transaction ID
            uuid:
              type: string
              description: >-
                The UUID is useful for matching data with the CSV exports and
                building URLs into Recurly's UI.
              maxLength: 32
              title: Recurly UUID
        title: Transactions
      updated_at:
        type:
          - "null"
          - string
        description: The date and time when the invoice was last updated.
        format: date-time
        readOnly: true
        title: Last updated at
      used_tax_service:
        type:
          - "null"
          - boolean
        description: Indicates if a tax service was used for the invoice.
      uuid:
        type:
          - "null"
          - string
        description: The universally unique identifier (UUID) of the invoice.
      vat_number:
        type:
          - "null"
          - string
        description: >-
          VAT registration number for the customer on this invoice. This will
          come from the VAT Number field in the Billing Info or the Account Info
          depending on your tax settings and the invoice collection method.
        maxLength: 20
        title: VAT number
      vat_reverse_charge_notes:
        type:
          - "null"
          - string
        description: >-
          VAT Reverse Charge Notes only appear if you have EU VAT enabled or are
          using your own Avalara AvaTax account and the customer is in the EU,
          has a VAT number, and is in a different country than your own. This
          will default to the VAT Reverse Charge Notes text specified on the Tax
          Settings page in your Recurly admin, unless custom notes were created
          with the original subscription.
        maxLength: 1024
        title: VAT reverse charge notes
  line_items:
    type:
      - "null"
      - object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      type:
        type: string
        description: >-
          Charges are positive line items that debit the account. Credits are
          negative line items that credit the account.
        maxLength: 256
        title: Line item type
      description:
        type: string
        description: >-
          Description that appears on the invoice. For subscription related
          items this will be filled in automatically.
        maxLength: 255
        title: Description
      account:
        type:
          - "null"
          - object
        properties:
          bill_to:
            type:
              - "null"
              - string
          code:
            type:
              - "null"
              - string
          company:
            type:
              - "null"
              - string
          dunning_campaign_id:
            type:
              - "null"
              - string
          email:
            type:
              - "null"
              - string
          first_name:
            type:
              - "null"
              - string
          id:
            type: string
          last_name:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
          parent_account_id:
            type:
              - "null"
              - string
      accounting_code:
        type: string
        description: >-
          Internal accounting code to help you reconcile your revenue to the
          correct ledger. Line items created as part of a subscription invoice
          will use the plan or add-on's accounting code, otherwise the value
          will only be present if you define an accounting code when creating
          the line item.
        maxLength: 20
        title: Accounting code
      add_on_code:
        type:
          - "null"
          - string
        description: >-
          If the line item is a charge or credit for an add-on, this is its
          code.
        maxLength: 50
        title: Add-on code
      add_on_id:
        type:
          - "null"
          - string
        description: If the line item is a charge or credit for an add-on this is its ID.
        maxLength: 13
        title: Add-on ID
      amount:
        type: number
        description: "`(quantity * unit_amount) - (discount + tax)`"
        format: float
        title: Total after discounts and taxes
      bill_for_account_id:
        type: string
        description: The UUID of the account responsible for originating the line item.
        maxLength: 13
        title: Bill For Account ID
      created_at:
        type: string
        description: When the line item was created.
        format: date-time
        title: Created at
      credit_applied:
        type:
          - "null"
          - number
        description: >-
          The amount of credit from this line item that was applied to the
          invoice.
        format: float
        title: Credit Applied
      credit_reason_code:
        type:
          - "null"
          - string
        description: The reason the credit was given when line item is `type=credit`.
        default: general
        maxLength: 256
        title: Credit reason code
      currency:
        type: string
        description: 3-letter ISO 4217 currency code.
        maxLength: 3
        title: Currency
      custom_fields:
        type:
          - "null"
          - array
        items:
          type:
            - "null"
            - object
          properties:
            name:
              type:
                - "null"
                - string
            value:
              type:
                - "null"
                - string
      discount:
        type:
          - "null"
          - number
        description: The discount applied to the line item.
        format: float
        title: Discount
      end_date:
        type:
          - "null"
          - string
        description: If this date is provided, it indicates the end of a time range.
        format: date-time
        title: End date
      external_sku:
        type:
          - "null"
          - string
        description: >-
          Optional Stock Keeping Unit assigned to an item. Available when the
          Credit Invoices and Subscription Billing Terms features are enabled.
        maxLength: 50
        title: External SKU
      id:
        type: string
        maxLength: 13
        title: Line item ID
      invoice_id:
        type:
          - "null"
          - string
        description: Once the line item has been invoiced this will be the invoice's ID.
        maxLength: 13
        title: Invoice ID
      invoice_number:
        type:
          - "null"
          - string
        description: >-
          Once the line item has been invoiced this will be the invoice's
          number. If VAT taxation and the Country Invoice Sequencing feature are
          enabled, invoices will have country-specific invoice numbers for
          invoices billed to EU countries (ex: FR1001). Non-EU invoices will
          continue to use the site-level invoice number sequence.
        maxLength: 256
        title: Invoice number
      item_code:
        type:
          - "null"
          - string
        description: >-
          Unique code to identify an item. Available when the Credit Invoices
          and Subscription Billing Terms features are enabled.
        maxLength: 50
        title: Item Code
      item_id:
        type:
          - "null"
          - string
        description: >-
          System-generated unique identifier for an item. Available when the
          Credit Invoices and Subscription Billing Terms features are enabled.
        maxLength: 13
        title: Item ID
      legacy_category:
        type:
          - "null"
          - string
        description: >
          Category to describe the role of a line item on a legacy invoice:

          - "charges" refers to charges being billed for on this invoice.

          - "credits" refers to refund or proration credits. This portion of the
          invoice can be considered a credit memo.

          - "applied_credits" refers to previous credits applied to this
          invoice. See their original_line_item_id to determine where the credit
          first originated.

          - "carryforwards" can be ignored. They exist to consume any remaining
          credit balance. A new credit with the same amount will be created and
          placed back on the account.
        title: Legacy category
      object:
        type:
          - "null"
          - string
      origin:
        type: string
        description: >-
          A credit created from an original charge will have the value of the
          charge's origin.
        maxLength: 256
        title: Origin of line item
      original_line_item_invoice_id:
        type:
          - "null"
          - string
        description: >-
          The invoice where the credit originated. Will only have a value if the
          line item is a credit created from a previous credit, or if the credit
          was created from a charge refund.
        maxLength: 13
        title: Original line item's invoice ID
      plan_code:
        type:
          - "null"
          - string
        description: >-
          If the line item is a charge or credit for a plan or add-on, this is
          the plan's code.
        maxLength: 50
        title: Plan code
      plan_id:
        type:
          - "null"
          - string
        description: >-
          If the line item is a charge or credit for a plan or add-on, this is
          the plan's ID.
        maxLength: 13
        title: Plan ID
      previous_line_item_id:
        type:
          - "null"
          - string
        description: >-
          Will only have a value if the line item is a credit created from a
          previous credit, or if the credit was created from a charge refund.
        maxLength: 13
        title: Previous line item ID
      product_code:
        type: string
        description: >-
          For plan-related line items this will be the plan's code, for add-on
          related line items it will be the add-on's code. For item-related line
          items it will be the item's `external_sku`.
        maxLength: 50
        title: Product code
      proration_rate:
        type:
          - "null"
          - number
        description: >-
          When a line item has been prorated, this is the rate of the proration.
          Proration rates were made available for line items created after March
          30, 2017. For line items created prior to that date, the proration
          rate will be `null`, even if the line item was prorated.
        format: float
        maximum: 1
        minimum: 0
        title: Proration rate
      quantity:
        type: integer
        description: >-
          This number will be multiplied by the unit amount to compute the
          subtotal before any discounts or taxes.
        default: 1
        title: Quantity
      refund:
        type: boolean
        title: Refund?
      refunded_quantity:
        type:
          - "null"
          - integer
        description: >-
          For refund charges, the quantity being refunded. For non-refund
          charges, the total quantity refunded (possibly over multiple refunds).
        title: Refunded Quantity
      revenue_schedule_type:
        type:
          - "null"
          - string
        maxLength: 256
        title: Revenue schedule type
      shipping_address:
        type:
          - "null"
          - object
        properties:
          id:
            type: string
            maxLength: 13
            readOnly: true
            title: Shipping Address ID
      start_date:
        type:
          - "null"
          - string
        description: >-
          If an end date is present, this is value indicates the beginning of a
          billing time range. If no end date is present it indicates billing for
          a specific date.
        format: date-time
        title: Start date
      state:
        type: string
        description: >-
          Pending line items are charges or credits on an account that have not
          been applied to an invoice yet. Invoiced line items will always have
          an `invoice_id` value.
        maxLength: 256
        title: Current state of the line item
      subscription_id:
        type:
          - "null"
          - string
        description: >-
          If the line item is a charge or credit for a subscription, this is its
          ID.
        maxLength: 13
        title: Subscription ID
      subtotal:
        type: number
        description: "`quantity * unit_amount`"
        format: float
        title: Total before discounts and taxes
      tax:
        type:
          - "null"
          - number
        description: The tax amount for the line item.
        format: float
        title: Tax
      tax_code:
        type:
          - "null"
          - string
        description: >-
          Used by Avalara, Vertex, and Recurly’s EU VAT tax feature. The tax
          code values are specific to each tax system. If you are using
          Recurly’s EU VAT feature you can use `unknown`, `physical`, or
          `digital`.
        maxLength: 50
        title: Tax code
      tax_exempt:
        type: boolean
        description: >-
          `true` exempts tax on charges, `false` applies tax on charges. If not
          defined, then defaults to the Plan and Site settings. This attribute
          does not work for credits (negative line items). Credits are always
          applied post-tax. Pre-tax discounts should use the Coupons feature.
        title: Tax exempt?
      tax_info:
        type:
          - "null"
          - object
        $schema: http://json-schema.org/draft-07/schema#
        properties:
          type:
            type:
              - "null"
              - string
          rate:
            type:
              - "null"
              - number
          region:
            type:
              - "null"
              - string
          tax_details:
            type:
              - "null"
              - array
            items:
              type:
                - "null"
                - object
              properties:
                type:
                  type:
                    - "null"
                    - string
                billable:
                  type:
                    - "null"
                    - boolean
                level:
                  type:
                    - "null"
                    - string
                name:
                  type:
                    - "null"
                    - string
                rate:
                  type:
                    - "null"
                    - number
                region:
                  type:
                    - "null"
                    - string
                tax:
                  type:
                    - "null"
                    - number
      taxable:
        type: boolean
        description: "`true` if the line item is taxable, `false` if it is not."
        title: Taxable?
      unit_amount:
        type: number
        description: Positive amount for a charge, negative amount for a credit.
        format: float
        title: Unit amount
      unit_amount_decimal:
        type:
          - "null"
          - string
        description: Positive amount for a charge, negative amount for a credit.
        title: Unit amount decimal
      updated_at:
        type: string
        description: When the line item was last changed.
        format: date-time
        title: Last updated at
      uuid:
        type: string
        description: >-
          The UUID is useful for matching data with the CSV exports and building
          URLs into Recurly's UI.
        maxLength: 32
        title: UUID
    title: Line item
  measured_units:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      description:
        type:
          - "null"
          - string
        description: Description of the measured unit
        maxLength: 1024
      created_at:
        type:
          - "null"
          - string
        description: Timestamp indicating when the measured unit was created
        format: date-time
      deleted_at:
        type:
          - "null"
          - string
        description: >-
          Timestamp indicating when the measured unit was deleted (if
          applicable)
        format: date-time
      display_name:
        type:
          - "null"
          - string
        description: Human-readable name used for display purposes
        maxLength: 255
      id:
        type:
          - "null"
          - string
        description: Unique identifier for the measured unit
        maxLength: 13
      name:
        type:
          - "null"
          - string
        description: Internal name used to identify the measured unit
        maxLength: 256
      object:
        type:
          - "null"
          - string
        description: Type of object, in this case, 'measured_unit'
      state:
        type:
          - "null"
          - string
        description: Current state of the measured unit
        maxLength: 255
      updated_at:
        type:
          - "null"
          - string
        description: Timestamp indicating when the measured unit was last updated
        format: date-time
  plans:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      description:
        type:
          - "null"
          - string
        description: Description of the plan.
        maxLength: 1024
      accounting_code:
        type:
          - "null"
          - string
        description: The accounting code associated with the plan.
        maxLength: 256
      allow_any_item_on_subscriptions:
        type:
          - "null"
          - boolean
        description: Determines if any item can be added to subscriptions using this plan.
      auto_renew:
        type:
          - "null"
          - boolean
        description: Indicates whether the plan should automatically renew.
      avalara_service_type:
        type:
          - "null"
          - number
        description: The Avalara service type used for tax calculation.
      avalara_transaction_type:
        type:
          - "null"
          - number
        description: The Avalara transaction type used for tax calculation.
      code:
        type:
          - "null"
          - string
        description: Unique identifier code for the plan.
        maxLength: 256
      created_at:
        type:
          - "null"
          - string
        description: Timestamp indicating when the plan was created.
        format: date-time
      currencies:
        type: array
        description: Contains information about the currencies supported by the plan.
        items:
          type: object
          properties:
            currency:
              type: string
              description: 3-letter ISO 4217 currency code.
              maxLength: 3
              title: Currency
            setup_fee:
              type: number
              description: >-
                Amount of one-time setup fee automatically charged at the
                beginning of a subscription billing cycle. For subscription
                plans with a trial, the setup fee will be charged at the time of
                signup. Setup fees do not increase with the quantity of a
                subscription plan.
              format: float
              maximum: 1000000
              minimum: 0
              title: Setup fee
            unit_amount:
              type: number
              description: Unit amount for the currency in the plan.
              format: float
              maximum: 1000000
              minimum: 0
              title: Unit price
        title: Pricing
      custom_fields:
        type:
          - "null"
          - array
        description: Includes any custom fields associated with the plan.
        items:
          type:
            - "null"
            - object
          properties:
            name:
              type:
                - "null"
                - string
              description: Name of the custom field.
            value:
              type:
                - "null"
                - string
              description: Value of the custom field.
      deleted_at:
        type:
          - "null"
          - string
        description: Timestamp indicating when the plan was deleted.
        format: date-time
      dunning_campaign_id:
        type:
          - "null"
          - string
        description: ID of the dunning campaign associated with the plan.
        maxLength: 256
      hosted_pages:
        type: object
        description: Provides details about hosted pages related to the plan.
        properties:
          bypass_confirmation:
            type:
              - "null"
              - boolean
            description: Determines if confirmation is bypassed on hosted pages.
          cancel_url:
            type:
              - "null"
              - string
            description: URL to redirect when a user cancels during hosted page process.
            maxLength: 2048
          display_quantity:
            type:
              - "null"
              - boolean
            description: Determines if quantity is displayed on hosted pages.
          success_url:
            type:
              - "null"
              - string
            description: >-
              URL to redirect when a user successfully completes hosted page
              process.
            maxLength: 2048
      id:
        type:
          - "null"
          - string
        description: Unique identifier of the plan.
        maxLength: 13
      interval_length:
        type:
          - "null"
          - number
        description: Length of the billing interval for the plan.
      interval_unit:
        type:
          - "null"
          - string
        description: Unit of the billing interval for the plan.
        maxLength: 256
      name:
        type:
          - "null"
          - string
        description: Name of the plan.
        maxLength: 256
      object:
        type:
          - "null"
          - string
        description: Indicates the type of object which in this case is 'plan'.
      pricing_model:
        type:
          - "null"
          - string
        description: The pricing model used for the plan.
      ramp_intervals:
        type:
          - "null"
          - array
        description: Specifies ramp intervals for the plan.
        items:
          type:
            - "null"
            - object
          properties:
            currencies:
              type:
                - "null"
                - array
              description: Contains currencies information within the ramp intervals.
              items:
                type:
                  - "null"
                  - object
                properties:
                  currency:
                    type:
                      - "null"
                      - string
                    description: Currency code for the interval.
                  unit_amount:
                    type:
                      - "null"
                      - number
                    description: Unit amount for the currency in the interval.
            starting_billing_cycle:
              type:
                - "null"
                - integer
              description: The starting billing cycle for the ramp interval.
      revenue_schedule_type:
        type:
          - "null"
          - string
        description: Type of revenue schedule for the plan.
        maxLength: 256
      setup_fee_accounting_code:
        type:
          - "null"
          - string
        description: The accounting code associated with the setup fee.
        maxLength: 256
      setup_fee_revenue_schedule_type:
        type:
          - "null"
          - string
        description: Revenue schedule type for the setup fee.
        maxLength: 256
      state:
        type:
          - "null"
          - string
        description: The current state of the plan.
        maxLength: 256
      tax_code:
        type:
          - "null"
          - string
        description: Tax code used for the plan.
        maxLength: 256
      tax_exempt:
        type:
          - "null"
          - boolean
        description: Determines if the plan is tax exempt.
      total_billing_cycles:
        type:
          - "null"
          - number
        description: Total number of billing cycles the plan will run for.
      trial_length:
        type:
          - "null"
          - number
        description: Length of the trial period for the plan.
      trial_requires_billing_info:
        type:
          - "null"
          - boolean
        description: Determines if billing information is required for the trial.
      trial_unit:
        type:
          - "null"
          - string
        description: Unit of the trial period for the plan.
        maxLength: 256
      updated_at:
        type:
          - "null"
          - string
        description: Timestamp indicating when the plan was last updated.
        format: date-time
  shipping_addresses:
    type:
      - "null"
      - object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      account_id:
        type: string
        maxLength: 13
        readOnly: true
        title: Account ID
      city:
        type: string
        maxLength: 255
      company:
        type: string
        maxLength: 255
      country:
        type: string
        description: Country, 2-letter ISO 3166-1 alpha-2 code.
        maxLength: 50
      created_at:
        type: string
        format: date-time
        readOnly: true
        title: Created at
      email:
        type: string
        maxLength: 255
      first_name:
        type: string
        maxLength: 255
      geo_code:
        type:
          - "null"
          - string
      id:
        type: string
        maxLength: 13
        readOnly: true
        title: Shipping Address ID
      last_name:
        type: string
        maxLength: 255
      nickname:
        type: string
        maxLength: 255
      object:
        type:
          - "null"
          - string
      phone:
        type: string
        maxLength: 30
      postal_code:
        type: string
        description: Zip or postal code.
        maxLength: 20
      region:
        type: string
        description: State or province.
        maxLength: 255
      street1:
        type: string
        maxLength: 255
      street2:
        type: string
        maxLength: 255
      updated_at:
        type: string
        format: date-time
        readOnly: true
        title: Updated at
      vat_number:
        type: string
        maxLength: 20
  shipping_methods:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      accounting_code:
        type: string
        description: Accounting code for shipping method.
        maxLength: 20
        title: Accounting Code
      code:
        type: string
        description: The internal name used identify the shipping method.
        maxLength: 50
        title: Code
      created_at:
        type: string
        description: Timestamp indicating when the shipping method was created
        format: date-time
        readOnly: true
        title: Created at
      deleted_at:
        type: string
        description: Timestamp indicating when the shipping method was deleted
        format: date-time
        readOnly: true
        title: Deleted at
      id:
        type: string
        description: Unique identifier for the shipping method
        maxLength: 13
        readOnly: true
        title: Shipping Method ID
      name:
        type: string
        description: The name of the shipping method displayed to customers.
        maxLength: 100
        title: Name
      tax_code:
        type: string
        description: >
          Used by Avalara, Vertex, and Recurly’s built-in tax feature. The tax

          code values are specific to each tax system. If you are using
          Recurly’s

          built-in taxes the values are:


          - `FR` – Common Carrier FOB Destination

          - `FR022000` – Common Carrier FOB Origin

          - `FR020400` – Non Common Carrier FOB Destination

          - `FR020500` – Non Common Carrier FOB Origin

          - `FR010100` – Delivery by Company Vehicle Before Passage of Title

          - `FR010200` – Delivery by Company Vehicle After Passage of Title

          - `NT` – Non-Taxable
        maxLength: 50
        title: Tax code
      updated_at:
        type: string
        description: Timestamp indicating when the shipping method was last updated
        format: date-time
        readOnly: true
        title: Last updated at
  subscriptions:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      account:
        type:
          - "null"
          - object
        description: Information about the associated account for the subscription
        properties:
          bill_to:
            type:
              - "null"
              - string
          code:
            type:
              - "null"
              - string
            maxLength: 256
          company:
            type:
              - "null"
              - string
          dunning_campaign_id:
            type:
              - "null"
              - string
          email:
            type:
              - "null"
              - string
            maxLength: 256
          first_name:
            type:
              - "null"
              - string
          id:
            type:
              - "null"
              - string
            maxLength: 13
          last_name:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
          parent_account_id:
            type:
              - "null"
              - string
      action_result:
        type:
          - "null"
          - object
        description: Result of the action performed on the subscription.
        additionalProperties: true
      activated_at:
        type:
          - "null"
          - string
        description: Timestamp when the subscription was activated
        format: date-time
      active_invoice_id:
        type:
          - "null"
          - string
        description: ID of the active invoice associated with the subscription.
      add_ons:
        type:
          - "null"
          - array
        description: Any additional services or items added to the subscription.
        items:
          type:
            - "null"
            - object
          description: This links an Add-on to a specific Subscription.
          properties:
            code:
              type: string
              description: The unique identifier for the add-on within its plan.
              maxLength: 50
              title: Add-on code
            id:
              type: string
              maxLength: 13
              title: Subscription Add-on ID
          title: Subscription Add-on
        title: Add-ons
      add_ons_total:
        type:
          - "null"
          - number
        description: Total amount charged for the additional services or items.
      auto_renew:
        type:
          - "null"
          - boolean
        description: Flag indicating whether the subscription auto renews.
      bank_account_authorized_at:
        type:
          - "null"
          - string
        description: Timestamp when bank account authorization occurred
        format: date-time
      billing_info_id:
        type:
          - "null"
          - string
        description: ID of the billing information associated with the subscription.
        maxLength: 13
      canceled_at:
        type:
          - "null"
          - string
        description: Timestamp when the subscription was canceled
        format: date-time
      collection_method:
        type:
          - "null"
          - string
        description: Method used for collecting payments for the subscription.
        maxLength: 256
      converted_at:
        type:
          - "null"
          - string
        description: Timestamp when the subscription was converted
        format: date-time
      coupon_redemptions:
        type:
          - "null"
          - object
        description: Details of any coupons redeemed for the subscription.
        $schema: http://json-schema.org/draft-07/schema#
        properties:
          coupon:
            type:
              - "null"
              - object
            properties:
              code:
                type:
                  - "null"
                  - string
              coupon_type:
                type:
                  - "null"
                  - string
              discount:
                type:
                  - "null"
                  - object
                properties:
                  type:
                    type:
                      - "null"
                      - string
                  currencies:
                    type:
                      - "null"
                      - array
                    items:
                      type:
                        - "null"
                        - object
                      properties:
                        amount:
                          type:
                            - "null"
                            - number
                        currency:
                          type:
                            - "null"
                            - string
                  percent:
                    type:
                      - "null"
                      - integer
                  trial:
                    type:
                      - "null"
                      - object
                    properties:
                      length:
                        type:
                          - "null"
                          - integer
                      unit:
                        type:
                          - "null"
                          - string
              expired_at:
                type:
                  - "null"
                  - string
                format: date-time
              id:
                type:
                  - "null"
                  - string
              name:
                type:
                  - "null"
                  - string
              object:
                type:
                  - "null"
                  - string
              state:
                type:
                  - "null"
                  - string
          created_at:
            type:
              - "null"
              - string
            format: date-time
          discounted:
            type:
              - "null"
              - number
          id:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
          state:
            type:
              - "null"
              - string
      created_at:
        type:
          - "null"
          - string
        description: Timestamp when the subscription was created
        format: date-time
      currency:
        type:
          - "null"
          - string
        description: Currency used for billing the subscription.
        maxLength: 3
      current_period_ends_at:
        type:
          - "null"
          - string
        description: Timestamp when the current period ends
        format: date-time
      current_period_started_at:
        type:
          - "null"
          - string
        description: Timestamp when the current period started
        format: date-time
      current_term_ends_at:
        type:
          - "null"
          - string
        description: Timestamp when the current term ends
        format: date-time
      current_term_started_at:
        type:
          - "null"
          - string
        description: Timestamp when the current term started
        format: date-time
      custom_fields:
        type:
          - "null"
          - array
        description: Custom fields associated with the subscription
        items:
          type:
            - "null"
            - object
          properties:
            name:
              type:
                - "null"
                - string
            value:
              type:
                - "null"
                - string
      customer_notes:
        type:
          - "null"
          - string
        description: Any notes or comments added by the customer.
        maxLength: 1024
      expiration_reason:
        type:
          - "null"
          - string
        description: Reason for the subscription expiration.
        maxLength: 1024
      expires_at:
        type:
          - "null"
          - string
        description: Timestamp when the subscription expires
        format: date-time
      gateway_code:
        type:
          - "null"
          - string
        description: Code associated with the payment gateway used for processing payments.
        maxLength: 256
      id:
        type:
          - "null"
          - string
        description: Unique identifier for the subscription.
        maxLength: 13
      net_terms:
        type:
          - "null"
          - number
        description: Number of net terms for payment.
      net_terms_type:
        type:
          - "null"
          - string
        description: Type of net terms (e.g., days).
      object:
        type:
          - "null"
          - string
        description: Indicates the type of object (subscription).
      paused_at:
        type:
          - "null"
          - string
        description: Timestamp when the subscription was paused
        format: date-time
      pending_change:
        type:
          - "null"
          - object
        description: Information about any pending changes to the subscription
        properties:
          activate_at:
            type: string
            description: Timestamp when the pending change will be activated
            format: date-time
            readOnly: true
            title: Activated at
          activated:
            type: boolean
            description: Returns `true` if the subscription change is activated.
            title: Activated?
          created_at:
            type: string
            description: Timestamp when the pending change was created
            format: date-time
            readOnly: true
            title: Created at
          deleted_at:
            type: string
            description: Timestamp when the pending change was deleted
            format: date-time
            readOnly: true
            title: Deleted at
          id:
            type: string
            description: The ID of the Subscription Change.
            maxLength: 13
            title: Subscription Change ID
          subscription_id:
            type: string
            description: The ID of the subscription that is going to be changed.
            maxLength: 13
            title: Subscription ID
          updated_at:
            type: string
            description: Timestamp when the pending change was last updated
            format: date-time
            readOnly: true
            title: Updated at
        title: Subscription Change
      plan:
        type: object
        description: Information about the plan associated with the subscription
        properties:
          code:
            type:
              - "null"
              - string
            maxLength: 256
          id:
            type:
              - "null"
              - string
            maxLength: 13
          name:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
      po_number:
        type:
          - "null"
          - string
        description: Purchase order number associated with the subscription.
        maxLength: 256
      quantity:
        type:
          - "null"
          - number
        description: Number of units or items included in the subscription.
      ramp_intervals:
        type:
          - "null"
          - array
        description: Information about any ramp intervals associated with the subscription
        items:
          type:
            - "null"
            - object
          properties:
            ending_on:
              type:
                - "null"
                - string
              description: Timestamp when the ramp interval ends
              format: date-time
            remaining_billing_cycles:
              type:
                - "null"
                - integer
            starting_billing_cycle:
              type:
                - "null"
                - integer
            starting_on:
              type:
                - "null"
                - string
              description: Timestamp when the ramp interval starts
              format: date-time
            unit_amount:
              type:
                - "null"
                - number
      remaining_billing_cycles:
        type:
          - "null"
          - number
        description: Number of billing cycles remaining before subscription ends.
      remaining_pause_cycles:
        type:
          - "null"
          - number
        description: Number of pause cycles remaining for the subscription.
      renewal_billing_cycles:
        type:
          - "null"
          - number
        description: Number of billing cycles in the renewal period.
      revenue_schedule_type:
        type:
          - "null"
          - string
        description: Type of revenue schedule for the subscription.
        maxLength: 256
      shipping:
        type:
          - "null"
          - object
        description: Information about the shipping associated with the subscription
        properties:
          address:
            type:
              - "null"
              - object
            $schema: http://json-schema.org/draft-07/schema#
            properties:
              account_id:
                type: string
                maxLength: 13
                readOnly: true
                title: Account ID
              city:
                type: string
                maxLength: 255
              company:
                type: string
                maxLength: 255
              country:
                type: string
                description: Country, 2-letter ISO 3166-1 alpha-2 code.
                maxLength: 50
              created_at:
                type: string
                format: date-time
                readOnly: true
                title: Created at
              email:
                type: string
                maxLength: 255
              first_name:
                type: string
                maxLength: 255
              geo_code:
                type:
                  - "null"
                  - string
              id:
                type: string
                maxLength: 13
                readOnly: true
                title: Shipping Address ID
              last_name:
                type: string
                maxLength: 255
              nickname:
                type: string
                maxLength: 255
              object:
                type:
                  - "null"
                  - string
              phone:
                type: string
                maxLength: 30
              postal_code:
                type: string
                description: Zip or postal code.
                maxLength: 20
              region:
                type: string
                description: State or province.
                maxLength: 255
              street1:
                type: string
                maxLength: 255
              street2:
                type: string
                maxLength: 255
              updated_at:
                type: string
                format: date-time
                readOnly: true
                title: Updated at
              vat_number:
                type: string
                maxLength: 20
          amount:
            type:
              - "null"
              - number
          method:
            type:
              - "null"
              - object
            description: Information about the shipping method
            properties:
              code:
                type:
                  - "null"
                  - string
              id:
                type: string
                maxLength: 13
                readOnly: true
                title: Shipping Method ID
              name:
                type:
                  - "null"
                  - string
              object:
                type:
                  - "null"
                  - string
          object:
            type:
              - "null"
              - string
      started_with_gift:
        type:
          - "null"
          - boolean
        description: Indicates if the subscription started with a gift or promotion.
      state:
        type:
          - "null"
          - string
        description: Current state of the subscription (e.g., active, cancelled).
        maxLength: 256
      subtotal:
        type:
          - "null"
          - number
        description: Subtotal amount before taxes and additional charges.
      tax:
        type:
          - "null"
          - number
        description: Total tax amount applied to the subscription.
      tax_inclusive:
        type:
          - "null"
          - boolean
        description: Flag indicating if taxes are included in the total amount.
      tax_info:
        type:
          - "null"
          - object
        description: Details of the tax information for the subscription.
        $schema: http://json-schema.org/draft-07/schema#
        properties:
          type:
            type:
              - "null"
              - string
          rate:
            type:
              - "null"
              - number
          region:
            type:
              - "null"
              - string
          tax_details:
            type:
              - "null"
              - array
            items:
              type:
                - "null"
                - object
              properties:
                type:
                  type:
                    - "null"
                    - string
                billable:
                  type:
                    - "null"
                    - boolean
                level:
                  type:
                    - "null"
                    - string
                name:
                  type:
                    - "null"
                    - string
                rate:
                  type:
                    - "null"
                    - number
                region:
                  type:
                    - "null"
                    - string
                tax:
                  type:
                    - "null"
                    - number
      terms_and_conditions:
        type:
          - "null"
          - string
        description: Terms and conditions agreed upon for the subscription.
        maxLength: 16384
      total:
        type:
          - "null"
          - number
        description: Total amount including taxes and additional charges.
      total_billing_cycles:
        type:
          - "null"
          - number
        description: Total number of billing cycles for the subscription.
      trial_ends_at:
        type:
          - "null"
          - string
        description: Timestamp when the trial period ends
        format: date-time
      trial_started_at:
        type:
          - "null"
          - string
        description: Timestamp when the trial period started
        format: date-time
      unit_amount:
        type:
          - "null"
          - number
        description: Amount charged per unit for the subscription.
      updated_at:
        type:
          - "null"
          - string
        description: Timestamp when the subscription was last updated
        format: date-time
      uuid:
        type:
          - "null"
          - string
        description: Universally unique identifier for the subscription.
        maxLength: 32
  transactions:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      type:
        type:
          - "null"
          - string
        description: Type of transaction
        maxLength: 256
      account:
        type:
          - "null"
          - object
        description: Details of the account associated with the transaction
        properties:
          bill_to:
            type:
              - "null"
              - string
          code:
            type:
              - "null"
              - string
          company:
            type:
              - "null"
              - string
          dunning_campaign_id:
            type:
              - "null"
              - string
          email:
            type:
              - "null"
              - string
          first_name:
            type:
              - "null"
              - string
          id:
            type: string
          last_name:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
          parent_account_id:
            type:
              - "null"
              - string
      action_result:
        type:
          - "null"
          - object
        description: Result of the action taken for the transaction
        additionalProperties: true
      amount:
        type:
          - "null"
          - number
        description: Amount of the transaction
      avs_check:
        type:
          - "null"
          - string
        description: Result of the Address Verification System check
        maxLength: 256
      backup_payment_method_used:
        type:
          - "null"
          - boolean
        description: Indicates whether a backup payment method was used
      billing_address:
        type: object
        description: Billing address details of the transaction
        properties:
          city:
            type:
              - "null"
              - string
            maxLength: 256
          country:
            type:
              - "null"
              - string
            maxLength: 256
          first_name:
            type:
              - "null"
              - string
            maxLength: 256
          geo_code:
            type:
              - "null"
              - string
          last_name:
            type:
              - "null"
              - string
            maxLength: 256
          phone:
            type:
              - "null"
              - string
            maxLength: 256
          postal_code:
            type:
              - "null"
              - string
            maxLength: 256
          region:
            type:
              - "null"
              - string
            maxLength: 256
          street1:
            type:
              - "null"
              - string
            maxLength: 256
          street2:
            type:
              - "null"
              - string
            maxLength: 256
      collected_at:
        type:
          - "null"
          - string
        description: Date and time when the transaction was collected
        format: date-time
      collection_method:
        type:
          - "null"
          - string
        description: Method used to collect the transaction
        maxLength: 256
      created_at:
        type:
          - "null"
          - string
        description: Date and time when the transaction was created
        format: date-time
      currency:
        type:
          - "null"
          - string
        description: Currency used for the transaction
        maxLength: 3
      customer_message:
        type:
          - "null"
          - string
        description: Message for the customer related to the transaction
        maxLength: 1024
      customer_message_locale:
        type:
          - "null"
          - string
        description: Locale of the customer message
        maxLength: 12
      cvv_check:
        type:
          - "null"
          - string
        description: Result of the CVV check
        maxLength: 256
      fraud_info:
        type:
          - "null"
          - object
        description: Information related to fraud check for the transaction
        properties:
          decision:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
          reference:
            type:
              - "null"
              - string
          risk_rules_triggered:
            type:
              - "null"
              - array
            items:
              type:
                - "null"
                - object
              description: Details of individual risk rules triggered
              properties:
                code:
                  type:
                    - "null"
                    - string
                message:
                  type:
                    - "null"
                    - string
          score:
            type:
              - "null"
              - integer
      gateway_approval_code:
        type:
          - "null"
          - string
        description: Approval code provided by the payment gateway
        maxLength: 256
      gateway_message:
        type:
          - "null"
          - string
        description: Message returned by the payment gateway
        maxLength: 256
      gateway_reference:
        type:
          - "null"
          - string
        description: Reference number provided by the payment gateway
        maxLength: 256
      gateway_response_code:
        type:
          - "null"
          - string
        description: Response code from the payment gateway
        maxLength: 256
      gateway_response_time:
        type:
          - "null"
          - number
        description: Time taken for the payment gateway to respond
      gateway_response_values:
        type: object
        description: Additional values in the gateway response
      id:
        type:
          - "null"
          - string
        description: Unique identifier for the transaction
        maxLength: 13
      invoice:
        type:
          - "null"
          - object
        description: Details of the invoice associated with the transaction
        properties:
          type:
            type:
              - "null"
              - string
          business_entity_id:
            type:
              - "null"
              - string
          id:
            type:
              - "null"
              - string
            maxLength: 13
          number:
            type:
              - "null"
              - string
            maxLength: 256
          state:
            type:
              - "null"
              - string
      ip_address_country:
        type:
          - "null"
          - string
        description: Country of the IP address used for the transaction
        maxLength: 256
      ip_address_v4:
        type:
          - "null"
          - string
        description: IPv4 address of the transaction
        maxLength: 256
      object:
        type:
          - "null"
          - string
        description: Type of object (transaction)
      origin:
        type:
          - "null"
          - string
        description: Source or origin of the transaction
        maxLength: 256
      original_transaction_id:
        type:
          - "null"
          - string
        description: ID of the original transaction, if applicable
        maxLength: 13
      payment_gateway:
        type: object
        description: Details of the payment gateway used for the transaction
        properties:
          type:
            type:
              - "null"
              - string
          id:
            type:
              - "null"
              - string
            maxLength: 13
          name:
            type:
              - "null"
              - string
          object:
            type:
              - "null"
              - string
      payment_method:
        type: object
        description: Details of the payment method used for the transaction
        properties:
          account_type:
            type:
              - "null"
              - string
            maxLength: 256
          billing_agreement_id:
            type:
              - "null"
              - string
            maxLength: 256
          card_type:
            type:
              - "null"
              - string
            maxLength: 256
          cc_bin_country:
            type:
              - "null"
              - string
          exp_month:
            type:
              - "null"
              - number
          exp_year:
            type:
              - "null"
              - number
          first_six:
            type:
              - "null"
              - string
            maxLength: 6
          gateway_code:
            type:
              - "null"
              - string
            maxLength: 256
          gateway_token:
            type:
              - "null"
              - string
            maxLength: 256
          last_four:
            type:
              - "null"
              - string
            maxLength: 4
          last_two:
            type:
              - "null"
              - string
            maxLength: 2
          name_on_account:
            type:
              - "null"
              - string
            maxLength: 256
          object:
            type:
              - "null"
              - string
          routing_number:
            type:
              - "null"
              - string
            maxLength: 256
          routing_number_bank:
            type:
              - "null"
              - string
            maxLength: 256
          username:
            type:
              - "null"
              - string
      refunded:
        type:
          - "null"
          - boolean
        description: Indicates whether the transaction has been refunded
      status:
        type:
          - "null"
          - string
        description: Current status of the transaction
        maxLength: 256
      status_code:
        type:
          - "null"
          - string
        description: Status code of the transaction
        maxLength: 256
      status_message:
        type:
          - "null"
          - string
        description: Message related to the status of the transaction
        maxLength: 1024
      subscription_ids:
        type: array
        description: List of subscription IDs associated with the transaction
        items:
          type:
            - "null"
            - string
          maxLength: 13
      success:
        type:
          - "null"
          - boolean
        description: Indicates the success status of the transaction
      updated_at:
        type:
          - "null"
          - string
        description: Date and time of the last update to the transaction
        format: date-time
      uuid:
        type:
          - "null"
          - string
        description: Universally unique identifier for the transaction
        maxLength: 32
      vat_number:
        type:
          - "null"
          - string
        description: VAT number associated with the transaction
      voided_at:
        type:
          - "null"
          - string
        description: Date and time when the transaction was voided
        format: date-time
      voided_by_invoice:
        type:
          - "null"
          - object
        description: Details of the invoice that voided the transaction
        properties:
          type:
            type:
              - "null"
              - string
          business_entity_id:
            type:
              - "null"
              - string
          id:
            type:
              - "null"
              - string
            maxLength: 13
          number:
            type:
              - "null"
              - string
            maxLength: 256
          object:
            type:
              - "null"
              - string
          state:
            type:
              - "null"
              - string
  unique_coupons:
    type:
      - "null"
      - object
    description: A unique coupon code for a bulk coupon.
    $schema: http://json-schema.org/draft-07/schema#
    additionalProperties: true
    properties:
      bulk_coupon_code:
        type:
          - "null"
          - string
        description: The Coupon code of the parent Bulk Coupon
        maxLength: 256
        title: Bulk Coupon code
      bulk_coupon_id:
        type:
          - "null"
          - string
        description: The Coupon ID of the parent Bulk Coupon
        maxLength: 13
        readOnly: true
        title: Bulk Coupon ID
      code:
        type: string
        description: The code the customer enters to redeem the coupon.
        maxLength: 256
        title: Coupon code
      created_at:
        type: string
        format: date-time
        readOnly: true
        title: Created at
      expired_at:
        type:
          - "null"
          - string
        description: >-
          The date and time the coupon was expired early or reached its
          `max_redemptions`.
        format: date-time
        title: Expired at
      id:
        type: string
        maxLength: 13
        readOnly: true
        title: Unique Coupon Code ID
      object:
        type: string
      redeemed_at:
        type:
          - "null"
          - string
        description: The date and time the unique coupon code was redeemed.
        format: date-time
        readOnly: true
        title: Redeemed at
      state:
        type:
          - "null"
          - string
        description: Indicates if the unique coupon code is redeemable or why not.
        maxLength: 256
        title: State
      updated_at:
        type: string
        format: date-time
        readOnly: true
        title: Updated at
  unique_coupons_parent:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      applies_to_all_items:
        type:
          - boolean
          - "null"
      applies_to_all_plans:
        type:
          - boolean
          - "null"
      applies_to_non_plan_charges:
        type:
          - boolean
          - "null"
      code:
        type:
          - string
          - "null"
      coupon_type:
        type:
          - string
          - "null"
      created_at:
        type:
          - string
          - "null"
      discount:
        type:
          - object
          - "null"
        properties:
          type:
            type:
              - string
              - "null"
          currencies:
            type:
              - array
              - "null"
            items:
              type:
                - object
                - "null"
              properties:
                amount:
                  type:
                    - number
                    - "null"
                currency:
                  type:
                    - string
                    - "null"
      duration:
        type:
          - string
          - "null"
      hosted_page_description:
        type:
          - string
          - "null"
      id:
        type: string
      invoice_description:
        type:
          - string
          - "null"
      max_redemptions_per_account:
        type:
          - number
          - "null"
      name:
        type:
          - string
          - "null"
      object:
        type:
          - string
          - "null"
      redemption_resource:
        type:
          - string
          - "null"
      state:
        type:
          - string
          - "null"
      unique_code_template:
        type:
          - string
          - "null"
      unique_coupon_codes_count:
        type:
          - number
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
