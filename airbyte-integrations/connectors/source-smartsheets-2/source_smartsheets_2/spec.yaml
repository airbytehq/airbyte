documentationUrl: https://docsurl.com
connectionSpecification:
  $schema: http://json-schema.org/draft-07/schema#
  title: Smartsheets Source Spec
  type: object
  required:
    - api-access-token
    - root-folder-id
    - stream-name
    - schema-sheet-ids
  properties:
    api-access-token:
      order: 0
      type: string
      title: "Access Token"
      description: 'The access token to use for accessing your data from Smartsheets. This access token must be generated by a user with at least read access to the data you''d like to replicate. Generate an access token in the Smartsheets main menu by clicking Account > Apps & Integrations > API Access. See the <a href="'
      airbyte_secret: true
    root-folder-id:
      order: 1
      type: integer
      title: "Root Folder ID"
      description: "The ID of the folder under which the connector should search the sheets. Get the folder ID by navigating to the 'Browse' view, right clicking on the folder you want and copying the 'Folder ID' field."
    stream-name:
      order: 2
      type: string
      title: "Stream Name"
      description: "Name to be used by the connector for the resulting stream. This will inform the name of the destination objects."
    schema-sheet-ids:
      order: 3
      type: array
      title: "Schema Sheet IDs"
      description: "A list of sheet IDs that will be used to create the schema of the stream. The union of the columns from the given sheets will form the schema."
      items:
        type: integer
        title: "Sheet ID"
    enforce-safe-types:
      order: 4
      type: boolean
      title: "Enforce Safe Types"
      description: "Smartsheet makes no guarantees that cells will match types of their columns. Use 'TEXT_NUMBER' for all non-metadata columns for safety."
      default: true
    column-name-normalization:
      order: 5
      type: array
      title: Column Name Normalization
      description: "Choose which normalization transformations are to be applied to the column names for the schema. Nothing will be done by default. For conflicting transformations, first in the list takes precedence."
      items:
        title: "Transformations"
        enum:
          - Make common substitutions
          - Make all lower case
          - Make all upper case
          - Strip whitespace
          - Trim outer whitespace
          - Whitespace into underscores
          - Hyphens into underscores
          - Ensure starts with identifier character
          - Strip non-identifier characters
          - Replace non-identifier characters with hex encoding
    metadata-fields:
      order: 6
      type: array
      title: "Metadata Fields"
      description: "A list of available metadata that can be included in the data."
      items:
        title: "Valid Items"
        enum:
          - Folder ID
          - Sheet Path
          - Sheet ID
          - Sheet Name
          - Sheet Created At
          - Sheet Modified At
          - Sheet Permalink
          - Sheet Version
          - Row ID
          - Row Created At
          - Row Created By
          - Row Modified At
          - Row Modified By
          - Row Permalink
          - Row Number
          - Row Version
          - Row Parent ID
    include-patterns:
      order: 7
      type: array
      title: "Sheet Inclusion Patterns"
      description: "A list of case insensitive glob patterns. If set, only the sheets that match at least one of the patterns will be read."
      items:
        type: string
        title: "Pattern"
        description: "Case insensitive glob pattern."
    exclude-patterns:
      order: 8
      type: array
      title: "Folder Exclusion Patterns"
      description: "A list of case insensitive glob patterns. If set, contents of folders who match at least one of the patterns will be discarded from the search. Exclusion takes precedence over inclusion. Root folder will always be processed even if an exclusion pattern matches."
      items:
        type: string
        title: "Pattern"
        description: "Case insensitive glob pattern."
