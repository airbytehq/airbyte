documentationUrl: https://docs.airbyte.io/integrations/sources/surveycto
connectionSpecification:
  $schema: http://json-schema.org/draft-07/schema#
  title: Surveycto Spec
  type: object
  additionalProperties: True
  required:
    - server_name
    - username
    - password
  properties:
    server_name:
      type: string
      title: Server Name
      description: The name of the SurveryCTO server
      order: 0
    username:
      type: string
      title: Username
      description: Username to authenticate into the SurveyCTO server
      order: 1
    password:
      type: string
      title: Password
      description: Password to authenticate into the SurveyCTO server
      airbyte_secret: true
      order: 2
    form_id:
      type: array
      title: Form Ids
      description: Unique identifier for one of your forms
      default: []
      order: 3
    start_date:
      type: "string"
      description: "initial date for survey cto"
      title: "Start Date"
      examples:
        - "Jan 09, 2022 12:00:00 AM"
      default: "Jan 09, 2022 12:00:00 AM"
      order: 4
      pattern: ^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) [0-9]{2}, [0-9]{4} [0-9]{2}:[0-9]{2}:[0-9]{2} (AM|PM)$
    dataset_id:
      type: "array"
      description: "dataset ids for survey cto. It is required when getting data from dataset instead of form"
      title: "Dataset Id"
      default: []
      order: 5
    key:
      type: "string"
      description: "key for survey cto. It is required when getting data from dataset or mediafiles instead of form"
      title: "Key"
      default: "key"
      airbyte_secret: true
      order: 6
    media_files:
      type: "object"
      description: "This is where the urls for the mediafiles are stored. It can be stored in S3 or locally. If stored in S3, the bucket, access_key_id, secret_access_key, region_name, file_key and url_column are required. If stored locally, the path, file_name and url_column are required."
      title: "Media Files"
      oneOf:
        - type: "object"
          title: "S3"

          properties:
            storage:
              type: "string"
              title: "type"
              const: "S3"

            bucket:
              type: "string"
              title: "bucket"
              default: "bucket"
            access_key_id:
              type: "string"
              title: "access_key_id"
              default: "access_key_id"
              airbyte_secret: true
            secret_access_key:
              type: "string"
              title: "secret_access_key"
              default: "secret_access_key"
              airbyte_secret: true
            region_name:
              type: "string"
              title: "region"
              enum:
                - ""
                - "us-east-1"
                - "us-east-2"
                - "us-west-1"
                - "us-west-2"
                - "af-south-1"
                - "ap-east-1"
                - "ap-south-1"
                - "ap-northeast-1"
                - "ap-northeast-2"
                - "ap-northeast-3"
                - "ap-southeast-1"
                - "ap-southeast-2"
                - "ca-central-1"
                - "cn-north-1"
                - "cn-northwest-1"
                - "eu-central-1"
                - "eu-north-1"
                - "eu-south-1"
                - "eu-west-1"
                - "eu-west-2"
                - "eu-west-3"
                - "sa-east-1"
                - "me-south-1"
                - "us-gov-east-1"
                - "us-gov-west-1"
            file_key:
              type: "string"
              title: "file name"
              default: "media_files.csv"
            url_column:
              type: "string"
              title: "url column"
              default: "url"
        - type: "object"
          title: "LOCAL"
          properties:
            storage:
              type: "string"
              title: "type"
              const: "LOCAL"
            path:
              type: "string"
              title: "path"
              default: "/tmp/airbyte_local/"
              examples:
                - "/tmp/airbyte_local/"
            file_name:
              type: "string"
              title: "file name"
              default: "media_files.csv"
            url_column:
              type: "string"
              title: "url column"
              default: "url"

      order: 7
