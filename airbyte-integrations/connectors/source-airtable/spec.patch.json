{
  "required": ["credentials"],
  "properties": {
    "credentials": {
      "discriminator": {
        "propertyName": "auth_method"
      },
      "oneOf": [
        {
          "type": "object",
          "title": "OAuth2.0",
          "x-oauth2-provider": "airtable",
          "required": ["client_id", "client_secret", "refresh_token"],
          "properties": {
            "auth_method": {
              "type": "string",
              "const": "oauth2.0",
              "default": "oauth2.0"
            },
            "client_id": {
              "type": "string",
              "title": "Client ID",
              "description": "The client ID of the Airtable developer application.",
              "airbyte_secret": true
            },
            "client_secret": {
              "type": "string",
              "title": "Client secret",
              "description": "The client secret the Airtable developer application.",
              "airbyte_secret": true
            },
            "access_token": {
              "type": "string",
              "description": "Access Token for making authenticated requests.",
              "airbyte_secret": true
            },
            "token_expiry_date": {
              "type": "string",
              "description": "The date-time when the access token should be refreshed.",
              "format": "date-time"
            },
            "refresh_token": {
              "type": "string",
              "title": "Refresh token",
              "description": "The key to refresh the expired access token.",
              "airbyte_secret": true
            }
          }
        },
        {
          "title": "Personal Access Token",
          "type": "object",
          "required": ["api_key"],
          "properties": {
            "auth_method": {
              "type": "string",
              "const": "api_key",
              "default": "api_key"
            },
            "api_key": {
              "type": "string",
              "description": "The Personal Access Token for the Airtable account. See the <a href=\"https://airtable.com/developers/web/guides/personal-access-tokens\">Support Guide</a> for more information on how to obtain this token.",
              "title": "Personal Access Token",
              "airbyte_secret": true,
              "examples": ["key1234567890"]
            }
          }
        }
      ]
    }
  } 
}
