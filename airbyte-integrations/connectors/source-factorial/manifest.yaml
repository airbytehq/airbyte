version: 4.6.2

type: DeclarativeSource

description: |-
  Website: https://app.factorialhr.com/
  API Docs: https://apidoc.factorialhr.com/reference
  Auth Docs: https://apidoc.factorialhr.com/docs/api-keys
  API Keys: https://app.factorialhr.com/settings/api-keys

check:
  type: CheckStream
  stream_names:
    - public_credentials

definitions:
  streams:
    public_credentials:
      type: DeclarativeStream
      name: public_credentials
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: api_public/credentials
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/public_credentials"
    webhook_subscriptions:
      type: DeclarativeStream
      name: webhook_subscriptions
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: api_public/webhook_subscriptions
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/webhook_subscriptions"
    tasks:
      type: DeclarativeStream
      name: tasks
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: tasks/tasks
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%S.%fZ"
        datetime_format: "%Y-%m-%dT%H:%M:%S.%fZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: '{{ config["start_date"] }}'
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/tasks"
    schedules:
      type: DeclarativeStream
      name: schedules
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: work_schedule/schedules
          http_method: GET
          request_parameters:
            with_employee_ids: "true"
            with_periods: "true"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%S.%fZ"
        datetime_format: "%Y-%m-%dT%H:%M:%S.%fZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: '{{ config["start_date"] }}'
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/schedules"
    overlap_periods:
      type: DeclarativeStream
      name: overlap_periods
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: work_schedule/overlap_periods
          http_method: GET
          request_parameters:
            with_employee_ids: "true"
            with_periods: "true"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/overlap_periods"
    teams:
      type: DeclarativeStream
      name: teams
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: teams/teams
          http_method: GET
          request_parameters:
            with_employee_ids: "true"
            with_periods: "true"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/teams"
    memberships:
      type: DeclarativeStream
      name: memberships
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: teams/memberships
          http_method: GET
          request_parameters:
            with_employee_ids: "true"
            with_periods: "true"
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/memberships"
    allowances:
      type: DeclarativeStream
      name: allowances
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: timeoff/allowances
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/allowances"
    blocked_periods:
      type: DeclarativeStream
      name: blocked_periods
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: timeoff/blocked_periods
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/blocked_periods"
    leaves:
      type: DeclarativeStream
      name: leaves
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: timeoff/leaves
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%S.%fZ"
        datetime_format: "%Y-%m-%dT%H:%M:%S.%fZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: '{{ config["start_date"] }}'
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/leaves"
    leave_types:
      type: DeclarativeStream
      name: leave_types
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: timeoff/leave_types
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/leave_types"
    policies:
      type: DeclarativeStream
      name: policies
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: timeoff/policies
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/policies"
    break_configurations:
      type: DeclarativeStream
      name: break_configurations
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: time_settings/break_configurations
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/break_configurations"
    categories:
      type: DeclarativeStream
      name: categories
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: trainings/categories
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/categories"
    legal_entities:
      type: DeclarativeStream
      name: legal_entities
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: companies/legal_entities
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/legal_entities"
    contract_versions:
      type: DeclarativeStream
      name: contract_versions
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: contracts/contract_versions
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/contract_versions"
    reference_contracts:
      type: DeclarativeStream
      name: reference_contracts
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: contracts/reference_contracts
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/reference_contracts"
    taxonomies:
      type: DeclarativeStream
      name: taxonomies
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: contracts/taxonomies
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/taxonomies"
    fields:
      type: DeclarativeStream
      name: fields
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: custom_fields/fields
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/fields"
    fields_options:
      type: DeclarativeStream
      name: fields_options
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: custom_fields/options
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/fields_options"
    fields_resource_fields:
      type: DeclarativeStream
      name: fields_resource_fields
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: custom_fields/resource_fields
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/fields_resource_fields"
    employees:
      type: DeclarativeStream
      name: employees
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: employees/employees
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%S.%fZ"
        datetime_format: "%Y-%m-%dT%H:%M:%S.%fZ"
        start_datetime:
          type: MinMaxDatetime
          datetime: '{{ config["start_date"] }}'
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/employees"
    cost_centers:
      type: DeclarativeStream
      name: cost_centers
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: finance/cost_centers
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/cost_centers"
    company_holidays:
      type: DeclarativeStream
      name: company_holidays
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: holidays/company_holidays
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/company_holidays"
    locations:
      type: DeclarativeStream
      name: locations
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: locations/locations
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/locations"
    work_areas:
      type: DeclarativeStream
      name: work_areas
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: locations/work_areas
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/work_areas"
    shifts:
      type: DeclarativeStream
      name: shifts
      primary_key:
        - id
      retriever:
        type: SimpleRetriever
        requester:
          $ref: "#/definitions/base_requester"
          path: shift_management/shifts
          http_method: GET
          error_handler:
            type: CompositeErrorHandler
            error_handlers:
              - type: DefaultErrorHandler
                max_retries: 3
                backoff_strategies:
                  - type: ExponentialBackoffStrategy
                    factor: 2
                response_filters:
                  - type: HttpResponseFilter
                    action: RATE_LIMITED
                    http_codes:
                      - 429
                    error_message: Rate limits hit
        record_selector:
          type: RecordSelector
          extractor:
            type: DpathExtractor
            field_path:
              - data
        paginator:
          type: DefaultPaginator
          page_token_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: page
          page_size_option:
            type: RequestOption
            inject_into: request_parameter
            field_name: limit
          pagination_strategy:
            type: PageIncrement
            start_from_page: 1
            page_size: 2
            inject_on_first_request: true
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: end_at
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%S.%f%z"
        datetime_format: "%Y-%m-%d"
        start_datetime:
          type: MinMaxDatetime
          datetime: '{{ config["start_date"] }}'
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
        start_time_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: start_at
        end_time_option:
          type: RequestOption
          inject_into: request_parameter
          field_name: end_at
        end_datetime:
          type: MinMaxDatetime
          datetime: "{{ now_utc().strftime('%Y-%m-%dT%H:%M:%SZ') }}"
          datetime_format: "%Y-%m-%dT%H:%M:%SZ"
      schema_loader:
        type: InlineSchemaLoader
        schema:
          $ref: "#/schemas/shifts"
  base_requester:
    type: HttpRequester
    url_base: https://api.factorialhr.com/api/v2/resources/
    authenticator:
      type: ApiKeyAuthenticator
      inject_into:
        type: RequestOption
        inject_into: header
        field_name: X-API-KEY
      api_token: '{{ config["api_key"] }}'

streams:
  - $ref: "#/definitions/streams/public_credentials"
  - $ref: "#/definitions/streams/webhook_subscriptions"
  - $ref: "#/definitions/streams/tasks"
  - $ref: "#/definitions/streams/schedules"
  - $ref: "#/definitions/streams/overlap_periods"
  - $ref: "#/definitions/streams/teams"
  - $ref: "#/definitions/streams/memberships"
  - $ref: "#/definitions/streams/allowances"
  - $ref: "#/definitions/streams/blocked_periods"
  - $ref: "#/definitions/streams/leaves"
  - $ref: "#/definitions/streams/leave_types"
  - $ref: "#/definitions/streams/policies"
  - $ref: "#/definitions/streams/break_configurations"
  - $ref: "#/definitions/streams/categories"
  - $ref: "#/definitions/streams/legal_entities"
  - $ref: "#/definitions/streams/contract_versions"
  - $ref: "#/definitions/streams/reference_contracts"
  - $ref: "#/definitions/streams/taxonomies"
  - $ref: "#/definitions/streams/fields"
  - $ref: "#/definitions/streams/fields_options"
  - $ref: "#/definitions/streams/fields_resource_fields"
  - $ref: "#/definitions/streams/employees"
  - $ref: "#/definitions/streams/cost_centers"
  - $ref: "#/definitions/streams/company_holidays"
  - $ref: "#/definitions/streams/locations"
  - $ref: "#/definitions/streams/work_areas"
  - $ref: "#/definitions/streams/shifts"

spec:
  type: Spec
  connection_specification:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    required:
      - api_key
      - start_date
    properties:
      api_key:
        type: string
        title: API Key
        airbyte_secret: true
        order: 0
      start_date:
        type: string
        title: Start date
        format: date-time
        pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$
        order: 1
      limit:
        type: string
        description: Max records per page limit
        title: Limit
        default: "50"
        order: 2
    additionalProperties: true

metadata:
  autoImportSchema:
    public_credentials: true
    webhook_subscriptions: true
    tasks: true
    schedules: true
    overlap_periods: true
    teams: true
    memberships: true
    allowances: true
    blocked_periods: true
    leaves: true
    leave_types: true
    policies: true
    break_configurations: true
    categories: true
    legal_entities: true
    contract_versions: true
    reference_contracts: true
    taxonomies: true
    fields: true
    fields_options: true
    fields_resource_fields: true
    employees: true
    cost_centers: true
    company_holidays: true
    locations: true
    work_areas: true
    shifts: true
  testedStreams:
    public_credentials:
      streamHash: a23b2f993d35cf3757f6e0b9b864b69e50151248
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    webhook_subscriptions:
      streamHash: e41377e7a133c294bbb09a2b5bd73d2ce2d764d9
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    tasks:
      streamHash: 9284400a6bf81e8a59ee4c21fea8dfb9e7bb57f8
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    schedules:
      streamHash: 241e11887bd489d0ee96ba611fd8583d47a062eb
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    overlap_periods:
      streamHash: d99864e538f022aabfe7cf5fecc2a2b705ea10e4
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    teams:
      streamHash: e63700f179a673a398c31f35f515b22317ef1d0a
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    memberships:
      streamHash: ab6c68db56af25ea78334c6414ccfec3901eed6f
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    allowances:
      streamHash: a3d8487e6197b8b1c943594c94ff7157b1d52ece
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    blocked_periods:
      streamHash: def81c99d242aba355381dc5c5fedbbb2934fce1
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    leaves:
      streamHash: 3372e7cbba5fa7adf20c8c97332d88c7b0d7167c
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    leave_types:
      streamHash: 1c362b45ded5bdc3984860ba0a1451682625b809
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    policies:
      streamHash: bb51ee8cc3874ff34691d4568e6ea1a5bd429af7
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    break_configurations:
      streamHash: 7245c0cdaf555566e9ab2cd652719e25c01fd0e1
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    categories:
      streamHash: aaaec55be695fb4a4970e13fae67dcd8823bfd23
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    legal_entities:
      streamHash: ab77163e377a090348aca07083aa17a3678bafa4
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    contract_versions:
      streamHash: 4d0ac5ab458d853f600f7efd7e1e13972b654d37
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    reference_contracts:
      streamHash: de04646353f866d15df49a10716f33e6bf9d85d1
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    taxonomies:
      streamHash: 18b20828ea7ad444530a7de8f601ba68943ab0da
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    fields:
      streamHash: b6fe8faebd8576137243d46b64c24b0388409968
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    fields_options:
      streamHash: 9959db46f955fe4bbe8b299b76da394525c9f76c
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    fields_resource_fields:
      streamHash: 218f805e6b302d1fb78e9847cbd82d1a15ab27d6
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    employees:
      streamHash: 7f56400daecd177d103c307963bcd8265326030e
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    cost_centers:
      streamHash: a3756272963e7f25b219c9a6ab13119b303e08c8
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    company_holidays:
      streamHash: 9107a136d4eb099caff057c5644dd0cf6dad18c1
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    locations:
      streamHash: a68c40c003c127719f459095a94ba4742e0e1828
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    work_areas:
      streamHash: 8cdf723f6bbb4698b7b02a9f4ecc5427e2ee95ee
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
    shifts:
      streamHash: d323a0649c18358921e3aa3dd2088df6396f522b
      hasResponse: true
      responsesAreSuccessful: true
      hasRecords: true
      primaryKeysArePresent: true
      primaryKeysAreUnique: true
  assist: {}

schemas:
  public_credentials:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      company_id:
        type:
          - number
          - "null"
      gdpr_tos:
        type:
          - boolean
          - "null"
      id:
        type: string
      legal_name:
        type:
          - string
          - "null"
      locale:
        type:
          - string
          - "null"
      name:
        type:
          - string
          - "null"
      subscription_plan:
        type:
          - string
          - "null"
      tos:
        type:
          - boolean
          - "null"
    required:
      - id
  webhook_subscriptions:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      type:
        type:
          - string
          - "null"
      api_version:
        type:
          - string
          - "null"
      company_id:
        type:
          - number
          - "null"
      enabled:
        type:
          - boolean
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
      target_url:
        type:
          - string
          - "null"
    required:
      - id
  tasks:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      assignee_ids:
        type:
          - array
          - "null"
        items:
          type:
            - number
            - "null"
      author_employee_id:
        type:
          - number
          - "null"
      company_id:
        type:
          - number
          - "null"
      content:
        type:
          - string
          - "null"
      created_at:
        type:
          - string
          - "null"
      due_on:
        type:
          - string
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
      status:
        type:
          - string
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  schedules:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      company_id:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      employees:
        type:
          - array
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
      periods:
        type:
          - array
          - "null"
        items:
          type:
            - object
            - "null"
          properties:
            default:
              type:
                - boolean
                - "null"
            end_date:
              type:
                - string
                - "null"
            end_day:
              type:
                - number
                - "null"
            end_month:
              type:
                - number
                - "null"
            id:
              type:
                - number
                - "null"
            schedule_id:
              type:
                - number
                - "null"
            schedule_type:
              type:
                - string
                - "null"
            start_date:
              type:
                - string
                - "null"
            start_day:
              type:
                - number
                - "null"
            start_month:
              type:
                - number
                - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  overlap_periods:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      default:
        type:
          - boolean
          - "null"
      end_date:
        type:
          - string
          - "null"
      end_day:
        type:
          - number
          - "null"
      end_month:
        type:
          - number
          - "null"
      id:
        type: number
      schedule_id:
        type:
          - number
          - "null"
      schedule_type:
        type:
          - string
          - "null"
      start_date:
        type:
          - string
          - "null"
      start_day:
        type:
          - number
          - "null"
      start_month:
        type:
          - number
          - "null"
    required:
      - id
  teams:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      description:
        type:
          - string
          - "null"
      company_id:
        type:
          - number
          - "null"
      employee_ids:
        type:
          - array
          - "null"
        items:
          type:
            - number
            - "null"
      id:
        type: number
      lead_ids:
        type:
          - array
          - "null"
        items:
          type:
            - number
            - "null"
      name:
        type:
          - string
          - "null"
    required:
      - id
  memberships:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      company_id:
        type:
          - number
          - "null"
      employee_id:
        type:
          - number
          - "null"
      id:
        type: number
      lead:
        type:
          - boolean
          - "null"
      team_id:
        type:
          - number
          - "null"
    required:
      - id
  allowances:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      accrued_units_availability:
        type:
          - string
          - "null"
      allowance_type:
        type:
          - string
          - "null"
      available_days:
        type:
          - string
          - "null"
      carry_over_days:
        type:
          - number
          - "null"
      carry_over_units_in_cents:
        type:
          - number
          - "null"
      count_holiday_as_workable:
        type:
          - boolean
          - "null"
      cycle_length:
        type:
          - number
          - "null"
      cycle_start:
        type:
          - string
          - "null"
      days_type:
        type:
          - string
          - "null"
      expire_in_months:
        type:
          - number
          - "null"
      frequency:
        type:
          - string
          - "null"
      holiday_allowance_in_cents:
        type:
          - number
          - "null"
      id:
        type: number
      leave_type_ids:
        type:
          - array
          - "null"
        items:
          type:
            - number
            - "null"
      name:
        type:
          - string
          - "null"
      negative_counter_type:
        type:
          - string
          - "null"
      proration_type:
        type:
          - string
          - "null"
      pto_proratio_enabled:
        type:
          - boolean
          - "null"
      rounding:
        type:
          - string
          - "null"
      send_notification:
        type:
          - boolean
          - "null"
      source_units:
        type:
          - string
          - "null"
      tenure_period_transition:
        type:
          - string
          - "null"
      tenure_periods:
        type:
          - array
          - "null"
      tenure_periods_enabled:
        type:
          - boolean
          - "null"
      timeoff_cycle:
        type:
          - string
          - "null"
      timeoff_policy_id:
        type:
          - number
          - "null"
      unlimited_accrued_hours:
        type:
          - boolean
          - "null"
      unlimited_carry_over:
        type:
          - boolean
          - "null"
      unlimited_carry_over_expiration:
        type:
          - boolean
          - "null"
      unlimited_holidays:
        type:
          - boolean
          - "null"
    required:
      - id
  blocked_periods:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      company_id:
        type:
          - number
          - "null"
      id:
        type: number
      leave_type_ids:
        type:
          - array
          - "null"
        items:
          type:
            - number
            - "null"
      members:
        type:
          - array
          - "null"
      name:
        type:
          - string
          - "null"
      strategy:
        type:
          - string
          - "null"
      time_periods:
        type:
          - array
          - "null"
    required:
      - id
  leaves:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      description:
        type:
          - string
          - "null"
      approved:
        type:
          - boolean
          - "null"
      company_id:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      employee_full_name:
        type:
          - string
          - "null"
      employee_id:
        type:
          - number
          - "null"
      finish_on:
        type:
          - string
          - "null"
      id:
        type: number
      leave_type_id:
        type:
          - number
          - "null"
      start_on:
        type:
          - string
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  leave_types:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      accrues:
        type:
          - boolean
          - "null"
      active:
        type:
          - boolean
          - "null"
      allow_endless:
        type:
          - boolean
          - "null"
      allowance_ids:
        type:
          - array
          - "null"
        items:
          type:
            - number
            - "null"
      approval_required:
        type:
          - boolean
          - "null"
      attachment:
        type:
          - boolean
          - "null"
      color:
        type:
          - string
          - "null"
      company_id:
        type:
          - number
          - "null"
      details_required:
        type:
          - boolean
          - "null"
      editable:
        type:
          - boolean
          - "null"
      half_days_units_enabled:
        type:
          - boolean
          - "null"
      id:
        type: number
      identifier:
        type:
          - string
          - "null"
      is_attachment_mandatory:
        type:
          - boolean
          - "null"
      name:
        type:
          - string
          - "null"
      restricted:
        type:
          - boolean
          - "null"
      translated_name:
        type:
          - string
          - "null"
      visibility:
        type:
          - boolean
          - "null"
      workable:
        type:
          - boolean
          - "null"
    required:
      - id
  policies:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      company_id:
        type:
          - number
          - "null"
      id:
        type: number
      main:
        type:
          - boolean
          - "null"
      name:
        type:
          - string
          - "null"
    required:
      - id
  break_configurations:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      archived:
        type:
          - boolean
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
      paid:
        type:
          - boolean
          - "null"
    required:
      - id
  categories:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      company_id:
        type:
          - number
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
    required:
      - id
  legal_entities:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      company_id:
        type:
          - number
          - "null"
      country:
        type:
          - string
          - "null"
      currency:
        type:
          - string
          - "null"
      id:
        type: number
      legal_name:
        type:
          - string
          - "null"
    required:
      - id
  contract_versions:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      created_at:
        type:
          - string
          - "null"
      effective_on:
        type:
          - string
          - "null"
      employee_id:
        type:
          - number
          - "null"
      es_has_teleworking_contract:
        type:
          - boolean
          - "null"
      fr_forfait_jours:
        type:
          - boolean
          - "null"
      has_payroll:
        type:
          - boolean
          - "null"
      has_trial_period:
        type:
          - boolean
          - "null"
      id:
        type: number
      starts_on:
        type:
          - string
          - "null"
      updated_at:
        type:
          - string
          - "null"
    required:
      - id
  reference_contracts:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      created_at:
        type:
          - string
          - "null"
      effective_on:
        type:
          - string
          - "null"
      employee_id:
        type:
          - number
          - "null"
      es_has_teleworking_contract:
        type:
          - boolean
          - "null"
      fr_forfait_jours:
        type:
          - boolean
          - "null"
      has_payroll:
        type:
          - boolean
          - "null"
      has_trial_period:
        type:
          - boolean
          - "null"
      id:
        type: number
      starts_on:
        type:
          - string
          - "null"
      updated_at:
        type:
          - string
          - "null"
    required:
      - id
  taxonomies:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      archived:
        type:
          - boolean
          - "null"
      default:
        type:
          - boolean
          - "null"
      id:
        type: number
      is_overtime:
        type:
          - boolean
          - "null"
      legal_entity_id:
        type:
          - number
          - "null"
      name:
        type:
          - string
          - "null"
    required:
      - id
  fields:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      field_type:
        type:
          - string
          - "null"
      id:
        type: number
      label_text:
        type:
          - string
          - "null"
      legal_entity_name:
        type:
          - string
          - "null"
      options:
        type:
          - array
          - "null"
      slug:
        type:
          - string
          - "null"
    required:
      - id
  fields_options:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      field_id:
        type:
          - number
          - "null"
      id:
        type: number
      is_active:
        type:
          - boolean
          - "null"
      label:
        type:
          - string
          - "null"
    required:
      - id
  fields_resource_fields:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      field_id:
        type:
          - number
          - "null"
      id:
        type: number
    required:
      - id
  employees:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      access_id:
        type:
          - number
          - "null"
      active:
        type:
          - boolean
          - "null"
      company_id:
        type:
          - number
          - "null"
      created_at:
        type:
          - string
          - "null"
      email:
        type:
          - string
          - "null"
      first_name:
        type:
          - string
          - "null"
      full_name:
        type:
          - string
          - "null"
      id:
        type: number
      is_terminating:
        type:
          - boolean
          - "null"
      last_name:
        type:
          - string
          - "null"
      legal_entity_id:
        type:
          - number
          - "null"
      login_email:
        type:
          - string
          - "null"
      manager_id:
        type:
          - number
          - "null"
      timeoff_manager_id:
        type:
          - number
          - "null"
      updated_at:
        type: string
    required:
      - id
      - updated_at
  cost_centers:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      active_employees_count:
        type:
          - number
          - "null"
      company_id:
        type:
          - number
          - "null"
      historical_employees_count:
        type:
          - number
          - "null"
      id:
        type: number
      name:
        type:
          - string
          - "null"
      status:
        type:
          - string
          - "null"
    required:
      - id
  company_holidays:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      date:
        type:
          - string
          - "null"
      id:
        type: number
      location_id:
        type:
          - number
          - "null"
      summary:
        type:
          - string
          - "null"
    required:
      - id
  locations:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      company_id:
        type:
          - number
          - "null"
      country:
        type:
          - string
          - "null"
      id:
        type: number
      main:
        type:
          - boolean
          - "null"
      name:
        type:
          - string
          - "null"
      phone_number:
        type:
          - string
          - "null"
      timezone:
        type:
          - string
          - "null"
    required:
      - id
  work_areas:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      id:
        type: number
      location_id:
        type:
          - number
          - "null"
      name:
        type:
          - string
          - "null"
    required:
      - id
  shifts:
    type: object
    $schema: http://json-schema.org/schema#
    additionalProperties: true
    properties:
      employee_id:
        type:
          - number
          - "null"
      end_at:
        type: string
      id:
        type: number
      local_end_at:
        type:
          - string
          - "null"
      local_start_at:
        type:
          - string
          - "null"
      notes:
        type:
          - string
          - "null"
      start_at:
        type:
          - string
          - "null"
      state:
        type:
          - string
          - "null"
      timezone:
        type:
          - string
          - "null"
    required:
      - id
      - end_at
