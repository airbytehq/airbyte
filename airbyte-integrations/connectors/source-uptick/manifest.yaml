---
version: 6.60.5
type: DeclarativeSource
description: "Extract data from Uptick - The new standard in

  fire inspection software."
check:
  type: CheckStream
  stream_names:
    - tasks
definitions:
  linked:
    HttpRequester:
      authenticator:
        type: OAuthAuthenticator
        client_id: '{{ config["client_id"] }}'
        grant_type: password
        client_secret: '{{ config["client_secret"] }}'
        expires_in_name: expires_in
        access_token_name: access_token
        token_refresh_endpoint: '{{ config["base_url"] }}/api/oauth2/token/'
        refresh_request_body:
          username: '{{ config["username"] }}'
          password: '{{ config["password"] }}'
      error_handler:
        type: DefaultErrorHandler
        max_retries: 5
        backoff_strategies:
          - type: WaitTimeFromHeader
            header: Retry-After
      request_headers:
        User-Agent: Airbyte
    SimpleRetriever:
      requester:
        $ref: "#/definitions/linked/HttpRequester"
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestPath
        pagination_strategy:
          type: CursorPagination
          cursor_value: "{{ response.links.next }}"
          stop_condition: "{{ not response.links.next }}"
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
    DeclarativeStream:
      incremental_sync:
        type: DatetimeBasedCursor
        cursor_field: updated
        start_datetime:
          type: MinMaxDatetime
          datetime: '{{ config["start_date"] }}'
        datetime_format: "%Y-%m-%d"
        start_time_option:
          type: RequestOption
          field_name: updatedsince
          inject_into: request_parameter
        cursor_datetime_formats:
          - "%Y-%m-%dT%H:%M:%S.%f%z"
    BaseSimpleRetriever:
      type: SimpleRetriever
      requester:
        type: HttpRequester
        url: OVERRIDE_ME
        http_method: GET
        authenticator:
          $ref: "#/definitions/linked/HttpRequester/authenticator"
        error_handler:
          $ref: "#/definitions/linked/HttpRequester/error_handler"
        request_headers:
          $ref: "#/definitions/linked/HttpRequester/request_headers"
        request_parameters: {}
      paginator:
        $ref: "#/definitions/linked/SimpleRetriever/paginator"
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
        schema_normalization: Default
spec:
  type: Spec
  connection_specification:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    required:
      - base_url
      - client_id
      - client_secret
      - username
      - password
      - start_date
    properties:
      base_url:
        type: string
        description: "Ex: https://demo-fire.onuptick.com/"
        order: 0
        title: Base Url
      client_id:
        type: string
        order: 1
        title: OAuth Client ID
        airbyte_secret: true
      client_secret:
        type: string
        order: 2
        title: OAuth Client Secret
        airbyte_secret: true
      username:
        type: string
        order: 3
        title: Uptick API Account Email
      password:
        type: string
        order: 4
        title: Uptick API Account Password
        airbyte_secret: true
      start_date:
        type: string
        order: 5
        title: Start Date
    additionalProperties: true
streams:
  - type: DeclarativeStream
    name: tasks
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/tasks/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Task]: id,created,updated,ref,description,is_active,extra_fields,due,pm_date,tolerance_start,tolerance_end,name,scope_of_works,address,coord_lat,coord_lng,access_procedure,access_schedule,access_code,priority,authorisation_amount,app_link,timezone,contractor_authorisation_limit,category,servicegroup,client,property,billingcard,assigned_to,costcentre,author,updated_by,status
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          ref:
            type:
              - string
              - "null"
          description:
            type:
              - string
          is_active:
            type:
              - boolean
          extra_fields:
            type:
              - object
          due:
            type:
              - string
              - "null"
            format: date
          pm_date:
            type:
              - string
              - "null"
            format: date
          tolerance_start:
            type:
              - string
              - "null"
            format: date
          tolerance_end:
            type:
              - string
              - "null"
            format: date
          name:
            type:
              - string
          scope_of_works:
            type:
              - string
          address:
            type:
              - string
          coord_lat:
            type:
              - number
              - "null"
          coord_lng:
            type:
              - number
              - "null"
          access_procedure:
            type:
              - string
          access_schedule:
            type:
              - string
          access_code:
            type:
              - string
          priority:
            type:
              - integer
          authorisation_amount:
            type:
              - string
              - "null"
            format: decimal
          app_link:
            type:
              - string
          timezone:
            type:
              - string
          contractor_authorisation_limit:
            type:
              - string
              - "null"
            format: decimal
          category_id:
            type:
              - integer
          servicegroup_id:
            type:
              - integer
              - "null"
          client_id:
            type:
              - integer
              - "null"
          property_id:
            type:
              - integer
              - "null"
          billingcard_id:
            type:
              - integer
              - "null"
          assigned_to_id:
            type:
              - integer
              - "null"
          costcentre_id:
            type:
              - integer
              - "null"
          author_id:
            type:
              - integer
              - "null"
          updated_by_id:
            type:
              - string
              - "null"
          status_id:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - due
            value: '{{ record["attributes"]["due"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - pm_date
            value: '{{ record["attributes"]["pm_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - tolerance_start
            value: '{{ record["attributes"]["tolerance_start"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - tolerance_end
            value: '{{ record["attributes"]["tolerance_end"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - scope_of_works
            value: '{{ record["attributes"]["scope_of_works"] }}'
          - type: AddedFieldDefinition
            path:
              - address
            value: '{{ record["attributes"]["address"] }}'
          - type: AddedFieldDefinition
            path:
              - coord_lat
            value: '{{ record["attributes"]["coord_lat"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - coord_lng
            value: '{{ record["attributes"]["coord_lng"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - access_procedure
            value: '{{ record["attributes"]["access_procedure"] }}'
          - type: AddedFieldDefinition
            path:
              - access_schedule
            value: '{{ record["attributes"]["access_schedule"] }}'
          - type: AddedFieldDefinition
            path:
              - access_code
            value: '{{ record["attributes"]["access_code"] }}'
          - type: AddedFieldDefinition
            path:
              - priority
            value: '{{ record["attributes"]["priority"] }}'
          - type: AddedFieldDefinition
            path:
              - authorisation_amount
            value: '{{ record["attributes"]["authorisation_amount"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - app_link
            value: '{{ record["attributes"]["app_link"] }}'
          - type: AddedFieldDefinition
            path:
              - timezone
            value: '{{ record["attributes"]["timezone"] }}'
          - type: AddedFieldDefinition
            path:
              - contractor_authorisation_limit
            value: '{{ record["attributes"]["contractor_authorisation_limit"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - category_id
            value: '{{ record["relationships"]["category"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - servicegroup_id
            value: '{{ record["relationships"]["servicegroup"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - client_id
            value: '{{ record["relationships"]["client"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - property_id
            value: '{{ record["relationships"]["property"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - billingcard_id
            value: '{{ record["relationships"]["billingcard"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - assigned_to_id
            value: '{{ record["relationships"]["assigned_to"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - costcentre_id
            value: '{{ record["relationships"]["costcentre"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - author_id
            value: '{{ record["relationships"]["author"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - updated_by_id
            value: '{{ record["relationships"]["updated_by"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - status_id
            value: '{{ record["relationships"]["status"]["data"]["id"] }}'
  - type: DeclarativeStream
    name: taskcategories
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/taskcategories/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[TaskCategory]: id,name,created,updated
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          name:
            type:
              - string
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
  - type: DeclarativeStream
    name: clients
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/clients/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Client]: id,created,updated,ref,name,is_active,contact_name,contact_organisation,contact_mobile,contact_phone_bh,contact_phone_ah,contact_email,contact_email_cc,contact_address,report_requirements,report_attention,report_email_to,report_email_cc,report_manual,billing_organisation,billing_requirements,billing_attention,billing_email_to,billing_email_cc,billing_manual,billing_address,billing_fixedprice,quoting_autoreminders_enabled,quoting_requirements,notes,address,material_markup,extra_fields,sector,billingcard,pricetier
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          ref:
            type:
              - string
          name:
            type:
              - string
          is_active:
            type:
              - boolean
          contact_name:
            type:
              - string
          contact_organisation:
            type:
              - string
          contact_mobile:
            type:
              - string
          contact_phone_bh:
            type:
              - string
          contact_phone_ah:
            type:
              - string
          contact_email:
            type:
              - string
            format: email
          contact_email_cc:
            type:
              - string
          contact_address:
            type:
              - string
          report_requirements:
            type:
              - string
          report_attention:
            type:
              - string
          report_email_to:
            type:
              - string
            format: email
          report_email_cc:
            type:
              - string
          report_manual:
            type:
              - boolean
          billing_organisation:
            type:
              - string
          billing_requirements:
            type:
              - string
          billing_attention:
            type:
              - string
          billing_email_to:
            type:
              - string
            format: email
          billing_email_cc:
            type:
              - string
          billing_manual:
            type:
              - boolean
          billing_address:
            type:
              - string
          billing_fixedprice:
            type:
              - boolean
          quoting_autoreminders_enabled:
            type:
              - boolean
          quoting_requirements:
            type:
              - string
          notes:
            type:
              - string
          address:
            type:
              - string
          material_markup:
            type:
              - string
              - "null"
            format: decimal
          extra_fields:
            type:
              - object
          sector:
            type:
              - string
          billingcard_id:
            type:
              - integer
              - "null"
          pricetier_id:
            type:
              - integer
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_name
            value: '{{ record["attributes"]["contact_name"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_organisation
            value: '{{ record["attributes"]["contact_organisation"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_mobile
            value: '{{ record["attributes"]["contact_mobile"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_phone_bh
            value: '{{ record["attributes"]["contact_phone_bh"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_phone_ah
            value: '{{ record["attributes"]["contact_phone_ah"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_email
            value: '{{ record["attributes"]["contact_email"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_email_cc
            value: '{{ record["attributes"]["contact_email_cc"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_address
            value: '{{ record["attributes"]["contact_address"] }}'
          - type: AddedFieldDefinition
            path:
              - report_requirements
            value: '{{ record["attributes"]["report_requirements"] }}'
          - type: AddedFieldDefinition
            path:
              - report_attention
            value: '{{ record["attributes"]["report_attention"] }}'
          - type: AddedFieldDefinition
            path:
              - report_email_to
            value: '{{ record["attributes"]["report_email_to"] }}'
          - type: AddedFieldDefinition
            path:
              - report_email_cc
            value: '{{ record["attributes"]["report_email_cc"] }}'
          - type: AddedFieldDefinition
            path:
              - report_manual
            value: '{{ record["attributes"]["report_manual"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_organisation
            value: '{{ record["attributes"]["billing_organisation"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_requirements
            value: '{{ record["attributes"]["billing_requirements"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_attention
            value: '{{ record["attributes"]["billing_attention"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_email_to
            value: '{{ record["attributes"]["billing_email_to"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_email_cc
            value: '{{ record["attributes"]["billing_email_cc"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_manual
            value: '{{ record["attributes"]["billing_manual"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_address
            value: '{{ record["attributes"]["billing_address"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_fixedprice
            value: '{{ record["attributes"]["billing_fixedprice"] }}'
          - type: AddedFieldDefinition
            path:
              - quoting_autoreminders_enabled
            value: '{{ record["attributes"]["quoting_autoreminders_enabled"] }}'
          - type: AddedFieldDefinition
            path:
              - quoting_requirements
            value: '{{ record["attributes"]["quoting_requirements"] }}'
          - type: AddedFieldDefinition
            path:
              - notes
            value: '{{ record["attributes"]["notes"] }}'
          - type: AddedFieldDefinition
            path:
              - address
            value: '{{ record["attributes"]["address"] }}'
          - type: AddedFieldDefinition
            path:
              - material_markup
            value: '{{ record["attributes"]["material_markup"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - sector
            value: '{{ record["attributes"]["sector"] }}'
          - type: AddedFieldDefinition
            path:
              - billingcard_id
            value: '{{ record["relationships"]["billingcard"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - pricetier_id
            value: '{{ record["relationships"]["pricetier"]["data"]["id"] }}'
  - type: DeclarativeStream
    name: clientgroups
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/clientgroups/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[ClientGroup]: id,created,updated,name,sector,is_active
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
          sector:
            type:
              - string
          is_active:
            type:
              - boolean
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - sector
            value: '{{ record["attributes"]["sector"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
  - type: DeclarativeStream
    name: properties
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/properties/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Property]: id,created,updated,address,coords,timezone,access_inductionreq,access_logbookreq,access_schedule,access_signaturereq,billing_manual,building_tenancies,client_signature_required,name,ref,report_manual,status,bsecure_resolved_guid,extra_fields,tags
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          address:
            type:
              - string
          coords:
            type:
              - string
              - "null"
          timezone:
            type:
              - string
          access_inductionreq:
            type:
              - boolean
          access_logbookreq:
            type:
              - boolean
          access_schedule:
            type:
              - string
          access_signaturereq:
            type:
              - boolean
          billing_manual:
            type:
              - boolean
          building_tenancies:
            type:
              - integer
              - "null"
          client_signature_required:
            type:
              - boolean
          name:
            type:
              - string
          ref:
            type:
              - string
          report_manual:
            type:
              - boolean
          status:
            type:
              - string
          bsecure_resolved_guid:
            type:
              - string
              - "null"
            format: uuid
          extra_fields:
            type:
              - object
          tags:
            type:
              - array
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - address
            value: '{{ record["attributes"]["address"] }}'
          - type: AddedFieldDefinition
            path:
              - coords
            value: '{{ record["attributes"]["coords"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - timezone
            value: '{{ record["attributes"]["timezone"] }}'
          - type: AddedFieldDefinition
            path:
              - access_inductionreq
            value: '{{ record["attributes"]["access_inductionreq"] }}'
          - type: AddedFieldDefinition
            path:
              - access_logbookreq
            value: '{{ record["attributes"]["access_logbookreq"] }}'
          - type: AddedFieldDefinition
            path:
              - access_schedule
            value: '{{ record["attributes"]["access_schedule"] }}'
          - type: AddedFieldDefinition
            path:
              - access_signaturereq
            value: '{{ record["attributes"]["access_signaturereq"] }}'
          - type: AddedFieldDefinition
            path:
              - billing_manual
            value: '{{ record["attributes"]["billing_manual"] }}'
          - type: AddedFieldDefinition
            path:
              - building_tenancies
            value: '{{ record["attributes"]["building_tenancies"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - client_signature_required
            value: '{{ record["attributes"]["client_signature_required"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - report_manual
            value: '{{ record["attributes"]["report_manual"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - bsecure_resolved_guid
            value: '{{ record["attributes"]["bsecure_resolved_guid"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - tags
            value: '{{ record["relationships"]["tags"]["data"] }}'
  - type: DeclarativeStream
    name: invoices
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/invoices/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Invoice]: id,created,updated,description,authorisation_ref,created,currency,date,due_date,extra_fields,gst,is_overdue,is_sent,number,partner_uid,ref,status,subtotal,synced,total,property,task
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          description:
            type:
              - string
          authorisation_ref:
            type:
              - string
          currency:
            type:
              - string
          date:
            type:
              - string
            format: date
          due_date:
            type:
              - string
              - "null"
            format: date
          extra_fields:
            type:
              - object
          gst:
            type:
              - string
            format: decimal
          is_overdue:
            type:
              - string
          is_sent:
            type:
              - boolean
          number:
            type:
              - string
          partner_uid:
            type:
              - string
              - "null"
          ref:
            type:
              - string
          status:
            type:
              - string
          subtotal:
            type:
              - string
            format: decimal
          synced:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          total:
            type:
              - string
            format: decimal
          property_id:
            type:
              - integer
              - "null"
          task_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - authorisation_ref
            value: '{{ record["attributes"]["authorisation_ref"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - currency
            value: '{{ record["attributes"]["currency"] }}'
          - type: AddedFieldDefinition
            path:
              - date
            value: '{{ record["attributes"]["date"] }}'
          - type: AddedFieldDefinition
            path:
              - due_date
            value: '{{ record["attributes"]["due_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - gst
            value: '{{ record["attributes"]["gst"] }}'
          - type: AddedFieldDefinition
            path:
              - is_overdue
            value: '{{ record["attributes"]["is_overdue"] }}'
          - type: AddedFieldDefinition
            path:
              - is_sent
            value: '{{ record["attributes"]["is_sent"] }}'
          - type: AddedFieldDefinition
            path:
              - number
            value: '{{ record["attributes"]["number"] }}'
          - type: AddedFieldDefinition
            path:
              - partner_uid
            value: '{{ record["attributes"]["partner_uid"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - subtotal
            value: '{{ record["attributes"]["subtotal"] }}'
          - type: AddedFieldDefinition
            path:
              - synced
            value: '{{ record["attributes"]["synced"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - total
            value: '{{ record["attributes"]["total"] }}'
          - type: AddedFieldDefinition
            path:
              - property_id
            value: '{{ record["relationships"]["property"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - task_id
            value: '{{ record["relationships"]["task"]["data"]["id"] or "None"}}'
  - type: DeclarativeStream
    name: projects
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/projects/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Project]: id,created,updated,status,ref,name,is_active,category,scope_of_works,retention_rate,final_rebate_rate,expected_start_date,expected_completion_date,actual_start_date,retention_date
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          status:
            type:
              - string
          ref:
            type:
              - string
          name:
            type:
              - string
          is_active:
            type:
              - boolean
          category:
            type:
              - string
          scope_of_works:
            type:
              - string
          retention_rate:
            type:
              - string
            format: decimal
          final_rebate_rate:
            type:
              - string
            format: decimal
          expected_start_date:
            type:
              - string
            format: date
          expected_completion_date:
            type:
              - string
            format: date
          actual_start_date:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          retention_date:
            type:
              - string
              - "null"
            format: date
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - category
            value: '{{ record["attributes"]["category"] }}'
          - type: AddedFieldDefinition
            path:
              - scope_of_works
            value: '{{ record["attributes"]["scope_of_works"] }}'
          - type: AddedFieldDefinition
            path:
              - retention_rate
            value: '{{ record["attributes"]["retention_rate"] }}'
          - type: AddedFieldDefinition
            path:
              - final_rebate_rate
            value: '{{ record["attributes"]["final_rebate_rate"] }}'
          - type: AddedFieldDefinition
            path:
              - expected_start_date
            value: '{{ record["attributes"]["expected_start_date"] }}'
          - type: AddedFieldDefinition
            path:
              - expected_completion_date
            value: '{{ record["attributes"]["expected_completion_date"] }}'
          - type: AddedFieldDefinition
            path:
              - actual_start_date
            value: '{{ record["attributes"]["actual_start_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - retention_date
            value: '{{ record["attributes"]["retention_date"] or "None"}}'
  - type: DeclarativeStream
    name: servicequotes
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/servicequotes/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[ServiceQuote]: id,description,created,updated,uuid,ref,status,status_changed_submitted,status_changed_approved,expiry_date,review_date,template,template_name,scope_of_works_format,upload_path,property_access_schedule,authorisation_date,product_subtotal
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          description:
            type:
              - string
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          uuid:
            type:
              - string
            format: uuid
          ref:
            type:
              - string
          status:
            type:
              - string
          status_changed_submitted:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          status_changed_approved:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          expiry_date:
            type:
              - string
              - "null"
            format: date
          review_date:
            type:
              - string
              - "null"
            format: date
          template:
            type:
              - string
          template_name:
            type:
              - string
          scope_of_works_format:
            type:
              - string
          upload_path:
            type:
              - string
          property_access_schedule:
            type:
              - string
          authorisation_date:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          product_subtotal:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - uuid
            value: '{{ record["attributes"]["uuid"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - status_changed_submitted
            value: '{{ record["attributes"]["status_changed_submitted"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - status_changed_approved
            value: '{{ record["attributes"]["status_changed_approved"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - expiry_date
            value: '{{ record["attributes"]["expiry_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - review_date
            value: '{{ record["attributes"]["review_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - template
            value: '{{ record["attributes"]["template"] }}'
          - type: AddedFieldDefinition
            path:
              - template_name
            value: '{{ record["attributes"]["template_name"] }}'
          - type: AddedFieldDefinition
            path:
              - scope_of_works_format
            value: '{{ record["attributes"]["scope_of_works_format"] }}'
          - type: AddedFieldDefinition
            path:
              - upload_path
            value: '{{ record["attributes"]["upload_path"] }}'
          - type: AddedFieldDefinition
            path:
              - property_access_schedule
            value: '{{ record["attributes"]["property_access_schedule"] }}'
          - type: AddedFieldDefinition
            path:
              - authorisation_date
            value: '{{ record["attributes"]["authorisation_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - product_subtotal
            value: '{{ record["attributes"]["product_subtotal"] }}'
  - type: DeclarativeStream
    name: defectquotes
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/defectquotes/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[DefectQuote]: id,description,ref,created,updated,status,date,due_date,expiry_date,last_actioned,email_template,reminder_email_template,scope_of_works
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          description:
            type:
              - string
          ref:
            type:
              - string
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          status:
            type:
              - string
          date:
            type:
              - string
              - "null"
            format: date
          due_date:
            type:
              - string
              - "null"
            format: date
          expiry_date:
            type:
              - string
              - "null"
            format: date
          last_actioned:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          email_template:
            type:
              - string
          reminder_email_template:
            type:
              - string
          scope_of_works:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - date
            value: '{{ record["attributes"]["date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - due_date
            value: '{{ record["attributes"]["due_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - expiry_date
            value: '{{ record["attributes"]["expiry_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - last_actioned
            value: '{{ record["attributes"]["last_actioned"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - email_template
            value: '{{ record["attributes"]["email_template"] }}'
          - type: AddedFieldDefinition
            path:
              - reminder_email_template
            value: '{{ record["attributes"]["reminder_email_template"] }}'
          - type: AddedFieldDefinition
            path:
              - scope_of_works
            value: '{{ record["attributes"]["scope_of_works"] }}'
  - type: DeclarativeStream
    name: suppliers
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/suppliers/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Supplier]: id,created,updated,is_active,name,partner_uid,accounts_name,purchasing_name
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          is_active:
            type:
              - boolean
          name:
            type:
              - string
          partner_uid:
            type:
              - string
              - "null"
          accounts_name:
            type:
              - string
          purchasing_name:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - partner_uid
            value: '{{ record["attributes"]["partner_uid"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - accounts_name
            value: '{{ record["attributes"]["accounts_name"] }}'
          - type: AddedFieldDefinition
            path:
              - purchasing_name
            value: '{{ record["attributes"]["purchasing_name"] }}'
  - type: DeclarativeStream
    name: purchaseorders
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/purchaseorders/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[PurchaseOrder]: id,created,updated,ref,status,all_goods_received,date,total,supplier_ref,created_via,has_manually_added_costs,currency,fx_rate
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          ref:
            type:
              - string
          status:
            type:
              - string
          all_goods_received:
            type:
              - boolean
              - "null"
          date:
            type:
              - string
              - "null"
            format: date
          total:
            type:
              - string
          supplier_ref:
            type:
              - string
          created_via:
            type:
              - string
          has_manually_added_costs:
            type:
              - string
          currency:
            type:
              - string
          fx_rate:
            type:
              - string
            format: decimal
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - all_goods_received
            value: '{{ record["attributes"]["all_goods_received"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - date
            value: '{{ record["attributes"]["date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - total
            value: '{{ record["attributes"]["total"] }}'
          - type: AddedFieldDefinition
            path:
              - supplier_ref
            value: '{{ record["attributes"]["supplier_ref"] }}'
          - type: AddedFieldDefinition
            path:
              - created_via
            value: '{{ record["attributes"]["created_via"] }}'
          - type: AddedFieldDefinition
            path:
              - has_manually_added_costs
            value: '{{ record["attributes"]["has_manually_added_costs"] }}'
          - type: AddedFieldDefinition
            path:
              - currency
            value: '{{ record["attributes"]["currency"] }}'
          - type: AddedFieldDefinition
            path:
              - fx_rate
            value: '{{ record["attributes"]["fx_rate"] }}'
  - type: DeclarativeStream
    name: routines
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/routines/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Routine]: id,created,updated,display_name,due,tolerance_period_start,tolerance_period_end,status,is_processing
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          display_name:
            type:
              - string
          due:
            type:
              - string
            format: date
          tolerance_period_start:
            type:
              - string
              - "null"
            format: date
          tolerance_period_end:
            type:
              - string
              - "null"
            format: date
          status:
            type:
              - string
          is_processing:
            type:
              - boolean
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - display_name
            value: '{{ record["attributes"]["display_name"] }}'
          - type: AddedFieldDefinition
            path:
              - due
            value: '{{ record["attributes"]["due"] }}'
          - type: AddedFieldDefinition
            path:
              - tolerance_period_start
            value: '{{ record["attributes"]["tolerance_period_start"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - tolerance_period_end
            value: '{{ record["attributes"]["tolerance_period_end"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - is_processing
            value: '{{ record["attributes"]["is_processing"] }}'
  - type: DeclarativeStream
    name: billingcards
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/billingcards/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[BillingCard]: id,name,created,updated,is_active
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          name:
            type:
              - string
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          is_active:
            type:
              - boolean
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
  - type: DeclarativeStream
    name: purchaseorderbills
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/purchaseorderbills/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[PurchaseOrderBill]: id,created,updated,status,invoice_number,invoice_date
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          status:
            type:
              - string
          invoice_number:
            type:
              - string
          invoice_date:
            type:
              - string
            format: date
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - invoice_number
            value: '{{ record["attributes"]["invoice_number"] }}'
          - type: AddedFieldDefinition
            path:
              - invoice_date
            value: '{{ record["attributes"]["invoice_date"] }}'
  - type: DeclarativeStream
    name: purchaseorderdockets
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/purchaseorderdockets/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[PurchaseOrderDocket]: id,created,updated,number,date,status
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          number:
            type:
              - string
          date:
            type:
              - string
            format: date
          status:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - number
            value: '{{ record["attributes"]["number"] }}'
          - type: AddedFieldDefinition
            path:
              - date
            value: '{{ record["attributes"]["date"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
  - type: DeclarativeStream
    name: invoicelineitems
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/invoicelineitems/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[LineItem]: id,created,updated,description,created,index,account_code,quantity,unit_price,gst,total,taxcode,taxrate
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          description:
            type:
              - string
          index:
            type:
              - integer
          account_code:
            type:
              - string
          quantity:
            type:
              - string
            format: decimal
          unit_price:
            type:
              - string
            format: decimal
          gst:
            type:
              - string
            format: decimal
          total:
            type:
              - string
            format: decimal
          taxcode:
            type:
              - string
          taxrate:
            type:
              - string
            format: decimal
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - index
            value: '{{ record["attributes"]["index"] }}'
          - type: AddedFieldDefinition
            path:
              - account_code
            value: '{{ record["attributes"]["account_code"] }}'
          - type: AddedFieldDefinition
            path:
              - quantity
            value: '{{ record["attributes"]["quantity"] }}'
          - type: AddedFieldDefinition
            path:
              - unit_price
            value: '{{ record["attributes"]["unit_price"] }}'
          - type: AddedFieldDefinition
            path:
              - gst
            value: '{{ record["attributes"]["gst"] }}'
          - type: AddedFieldDefinition
            path:
              - total
            value: '{{ record["attributes"]["total"] }}'
          - type: AddedFieldDefinition
            path:
              - taxcode
            value: '{{ record["attributes"]["taxcode"] }}'
          - type: AddedFieldDefinition
            path:
              - taxrate
            value: '{{ record["attributes"]["taxrate"] }}'
  - type: DeclarativeStream
    name: users
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/users/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[User]: id,updated,name,email,partner_uid,date_joined,last_login,last_access,is_active,is_staff,is_superuser,license,addons,rate,sell_rate,extra_fields,purchase_order_approval_limit,defectquote_approval_limit
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
          email:
            type:
              - string
            format: email
          partner_uid:
            type:
              - string
          date_joined:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          last_login:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          last_access:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          is_active:
            type:
              - boolean
          is_staff:
            type:
              - string
          is_superuser:
            type:
              - boolean
          license:
            type:
              - string
          addons:
            type:
              - array
          rate:
            type:
              - string
              - "null"
            format: decimal
          sell_rate:
            type:
              - string
              - "null"
            format: decimal
          extra_fields:
            type:
              - object
          purchase_order_approval_limit:
            type:
              - string
              - "null"
            format: decimal
          defectquote_approval_limit:
            type:
              - string
              - "null"
            format: decimal
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - email
            value: '{{ record["attributes"]["email"] }}'
          - type: AddedFieldDefinition
            path:
              - partner_uid
            value: '{{ record["attributes"]["partner_uid"] }}'
          - type: AddedFieldDefinition
            path:
              - date_joined
            value: '{{ record["attributes"]["date_joined"] }}'
          - type: AddedFieldDefinition
            path:
              - last_login
            value: '{{ record["attributes"]["last_login"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - last_access
            value: '{{ record["attributes"]["last_access"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - is_staff
            value: '{{ record["attributes"]["is_staff"] }}'
          - type: AddedFieldDefinition
            path:
              - is_superuser
            value: '{{ record["attributes"]["is_superuser"] }}'
          - type: AddedFieldDefinition
            path:
              - license
            value: '{{ record["attributes"]["license"] }}'
          - type: AddedFieldDefinition
            path:
              - addons
            value: '{{ record["attributes"]["addons"] }}'
          - type: AddedFieldDefinition
            path:
              - rate
            value: '{{ record["attributes"]["rate"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - sell_rate
            value: '{{ record["attributes"]["sell_rate"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - purchase_order_approval_limit
            value: '{{ record["attributes"]["purchase_order_approval_limit"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - defectquote_approval_limit
            value: '{{ record["attributes"]["defectquote_approval_limit"] or "None"}}'
  - type: DeclarativeStream
    name: servicegroups
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/servicegroups/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[ServiceGroup]: id,created,updated,name
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
  - type: DeclarativeStream
    name: costcentres
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/costcentres/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[CostCentre]: id,created,updated,name,income_account_code,expense_account_code,is_active,is_default,tracking_categories,branch,taskcategory
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
          income_account_code:
            type:
              - string
          expense_account_code:
            type:
              - string
          is_active:
            type:
              - boolean
          is_default:
            type:
              - boolean
          tracking_categories:
            type:
              - object
          branch_id:
            type:
              - integer
              - "null"
          taskcategory_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - income_account_code
            value: '{{ record["attributes"]["income_account_code"] }}'
          - type: AddedFieldDefinition
            path:
              - expense_account_code
            value: '{{ record["attributes"]["expense_account_code"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - is_default
            value: '{{ record["attributes"]["is_default"] }}'
          - type: AddedFieldDefinition
            path:
              - tracking_categories
            value: '{{ record["attributes"]["tracking_categories"] }}'
          - type: AddedFieldDefinition
            path:
              - branch_id
            value: '{{ record["relationships"]["branch"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - taskcategory_id
            value: '{{ record["relationships"]["taskcategory"]["data"]["id"] or "None"}}'
  - type: DeclarativeStream
    name: purchaseorderlineitems
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/purchaseorderlineitems/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[PurchaseOrderLineItem]: id,created,updated,description,unit_price,quantity,subtotal,gst,total,taxcode,taxrate,index,purchaseorder_ref,is_committed,is_incurred,billed_quantity,docketed_quantity,has_dockets,purchaseorder,product
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          description:
            type:
              - string
          unit_price:
            type:
              - string
            format: decimal
          quantity:
            type:
              - string
            format: decimal
          subtotal:
            type:
              - string
            format: decimal
          gst:
            type:
              - string
          total:
            type:
              - string
          taxcode:
            type:
              - string
          taxrate:
            type:
              - string
            format: decimal
          index:
            type:
              - integer
          purchaseorder_ref:
            type:
              - string
          is_committed:
            type:
              - string
          is_incurred:
            type:
              - string
          billed_quantity:
            type:
              - string
            format: decimal
          docketed_quantity:
            type:
              - string
            format: decimal
          has_dockets:
            type:
              - boolean
          purchaseorder_id:
            type:
              - integer
          product_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - unit_price
            value: '{{ record["attributes"]["unit_price"] }}'
          - type: AddedFieldDefinition
            path:
              - quantity
            value: '{{ record["attributes"]["quantity"] }}'
          - type: AddedFieldDefinition
            path:
              - subtotal
            value: '{{ record["attributes"]["subtotal"] }}'
          - type: AddedFieldDefinition
            path:
              - gst
            value: '{{ record["attributes"]["gst"] }}'
          - type: AddedFieldDefinition
            path:
              - total
            value: '{{ record["attributes"]["total"] }}'
          - type: AddedFieldDefinition
            path:
              - taxcode
            value: '{{ record["attributes"]["taxcode"] }}'
          - type: AddedFieldDefinition
            path:
              - taxrate
            value: '{{ record["attributes"]["taxrate"] }}'
          - type: AddedFieldDefinition
            path:
              - index
            value: '{{ record["attributes"]["index"] }}'
          - type: AddedFieldDefinition
            path:
              - purchaseorder_ref
            value: '{{ record["attributes"]["purchaseorder_ref"] }}'
          - type: AddedFieldDefinition
            path:
              - is_committed
            value: '{{ record["attributes"]["is_committed"] }}'
          - type: AddedFieldDefinition
            path:
              - is_incurred
            value: '{{ record["attributes"]["is_incurred"] }}'
          - type: AddedFieldDefinition
            path:
              - billed_quantity
            value: '{{ record["attributes"]["billed_quantity"] }}'
          - type: AddedFieldDefinition
            path:
              - docketed_quantity
            value: '{{ record["attributes"]["docketed_quantity"] }}'
          - type: AddedFieldDefinition
            path:
              - has_dockets
            value: '{{ record["attributes"]["has_dockets"] }}'
          - type: AddedFieldDefinition
            path:
              - purchaseorder_id
            value: '{{ record["relationships"]["purchaseorder"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - product_id
            value: '{{ record["relationships"]["product"]["data"]["id"] or "None"}}'
  - type: DeclarativeStream
    name: purchaseorderbilllineitems
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/purchaseorderbilllineitems/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[PurchaseOrderBillLineItem]: id,created,updated,description,unit_price,quantity,subtotal,gst,total,taxcode,taxrate,index,account_code,purchaseorderbill,purchaseorderlineitem,product
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          description:
            type:
              - string
          unit_price:
            type:
              - string
            format: decimal
          quantity:
            type:
              - string
            format: decimal
          subtotal:
            type:
              - string
            format: decimal
          gst:
            type:
              - string
          total:
            type:
              - string
          taxcode:
            type:
              - string
          taxrate:
            type:
              - string
            format: decimal
          index:
            type:
              - integer
          account_code:
            type:
              - string
          purchaseorderbill_id:
            type:
              - integer
          purchaseorderlineitem_id:
            type:
              - integer
              - "null"
          product_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - unit_price
            value: '{{ record["attributes"]["unit_price"] }}'
          - type: AddedFieldDefinition
            path:
              - quantity
            value: '{{ record["attributes"]["quantity"] }}'
          - type: AddedFieldDefinition
            path:
              - subtotal
            value: '{{ record["attributes"]["subtotal"] }}'
          - type: AddedFieldDefinition
            path:
              - gst
            value: '{{ record["attributes"]["gst"] }}'
          - type: AddedFieldDefinition
            path:
              - total
            value: '{{ record["attributes"]["total"] }}'
          - type: AddedFieldDefinition
            path:
              - taxcode
            value: '{{ record["attributes"]["taxcode"] }}'
          - type: AddedFieldDefinition
            path:
              - taxrate
            value: '{{ record["attributes"]["taxrate"] }}'
          - type: AddedFieldDefinition
            path:
              - index
            value: '{{ record["attributes"]["index"] }}'
          - type: AddedFieldDefinition
            path:
              - account_code
            value: '{{ record["attributes"]["account_code"] }}'
          - type: AddedFieldDefinition
            path:
              - purchaseorderbill_id
            value: '{{ record["relationships"]["purchaseorderbill"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - purchaseorderlineitem_id
            value:
              '{{ record["relationships"]["purchaseorderlineitem"]["data"]["id"] or
              "None"}}'
          - type: AddedFieldDefinition
            path:
              - product_id
            value: '{{ record["relationships"]["product"]["data"]["id"] or "None"}}'
  - type: DeclarativeStream
    name: accreditationtypes
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/accreditationtypes/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[AccreditationType]: id,name,type,property_specific,extra_fields
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          name:
            type:
              - string
          type:
            type:
              - string
          property_specific:
            type:
              - boolean
          extra_fields:
            type:
              - object
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - type
            value: '{{ record["attributes"]["type"] }}'
          - type: AddedFieldDefinition
            path:
              - property_specific
            value: '{{ record["attributes"]["property_specific"] }}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
  - type: DeclarativeStream
    name: accreditations
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/accreditations/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Accreditation]: id,created,updated,status,expiry,number,extra_fields,property,accreditationtype,technician
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          status:
            type:
              - string
          expiry:
            type:
              - string
              - "null"
            format: date
          number:
            type:
              - string
          extra_fields:
            type:
              - object
          property_id:
            type:
              - integer
              - "null"
          accreditationtype_id:
            type:
              - integer
          technician_id:
            type:
              - integer
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - expiry
            value: '{{ record["attributes"]["expiry"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - number
            value: '{{ record["attributes"]["number"] }}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - property_id
            value: '{{ record["relationships"]["property"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - accreditationtype_id
            value: '{{ record["relationships"]["accreditationtype"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - technician_id
            value: '{{ record["relationships"]["technician"]["data"]["id"] }}'
  - type: DeclarativeStream
    name: branches
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/branches/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Branch]: id,created,updated,name,code,address,business_hours,email,phone,fax,property_count,user_count,material_markup,extra_fields,subcontracted_task_safety_requirements,subcontracted_task_service_requirements,default_warehouse
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
          code:
            type:
              - string
          address:
            type:
              - string
          business_hours:
            type:
              - string
              - "null"
          email:
            type:
              - string
            format: email
          phone:
            type:
              - string
          fax:
            type:
              - string
          property_count:
            type:
              - integer
          user_count:
            type:
              - integer
          material_markup:
            type:
              - string
              - "null"
            format: decimal
          extra_fields:
            type:
              - object
          subcontracted_task_safety_requirements:
            type:
              - string
          subcontracted_task_service_requirements:
            type:
              - string
          default_warehouse_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - code
            value: '{{ record["attributes"]["code"] }}'
          - type: AddedFieldDefinition
            path:
              - address
            value: '{{ record["attributes"]["address"] }}'
          - type: AddedFieldDefinition
            path:
              - business_hours
            value: '{{ record["attributes"]["business_hours"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - email
            value: '{{ record["attributes"]["email"] }}'
          - type: AddedFieldDefinition
            path:
              - phone
            value: '{{ record["attributes"]["phone"] }}'
          - type: AddedFieldDefinition
            path:
              - fax
            value: '{{ record["attributes"]["fax"] }}'
          - type: AddedFieldDefinition
            path:
              - property_count
            value: '{{ record["attributes"]["property_count"] }}'
          - type: AddedFieldDefinition
            path:
              - user_count
            value: '{{ record["attributes"]["user_count"] }}'
          - type: AddedFieldDefinition
            path:
              - material_markup
            value: '{{ record["attributes"]["material_markup"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - subcontracted_task_safety_requirements
            value: '{{ record["attributes"]["subcontracted_task_safety_requirements"] }}'
          - type: AddedFieldDefinition
            path:
              - subcontracted_task_service_requirements
            value: '{{ record["attributes"]["subcontracted_task_service_requirements"] }}'
          - type: AddedFieldDefinition
            path:
              - default_warehouse_id
            value: '{{ record["relationships"]["default_warehouse"]["data"]["id"] or "None"}}'
  - type: DeclarativeStream
    name: creditnotes
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/creditnotes/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[CreditNote]: id,status,date,subtotal,tax,total,description,number,partner_uid,extra_fields,invoice,lineitems
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          status:
            type:
              - string
          date:
            type:
              - string
            format: date
          subtotal:
            type:
              - string
            format: decimal
          tax:
            type:
              - string
            format: decimal
          total:
            type:
              - string
            format: decimal
          description:
            type:
              - string
          number:
            type:
              - string
          partner_uid:
            type:
              - string
              - "null"
          extra_fields:
            type:
              - object
          invoice_id:
            type:
              - integer
          lineitems:
            type:
              - array
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - date
            value: '{{ record["attributes"]["date"] }}'
          - type: AddedFieldDefinition
            path:
              - subtotal
            value: '{{ record["attributes"]["subtotal"] }}'
          - type: AddedFieldDefinition
            path:
              - tax
            value: '{{ record["attributes"]["tax"] }}'
          - type: AddedFieldDefinition
            path:
              - total
            value: '{{ record["attributes"]["total"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - number
            value: '{{ record["attributes"]["number"] }}'
          - type: AddedFieldDefinition
            path:
              - partner_uid
            value: '{{ record["attributes"]["partner_uid"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - invoice_id
            value: '{{ record["relationships"]["invoice"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - lineitems
            value: '{{ record["relationships"]["lineitems"]["data"] }}'
  - type: DeclarativeStream
    name: creditnotelineitems
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/creditnotelineitems/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[CreditNoteLineItem]: id,account_code,description,unit_price,quantity,subtotal,tax,total,taxcode,taxrate,creditnote,product
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          account_code:
            type:
              - string
          description:
            type:
              - string
          unit_price:
            type:
              - string
            format: decimal
          quantity:
            type:
              - string
            format: decimal
          subtotal:
            type:
              - string
            format: decimal
          tax:
            type:
              - string
            format: decimal
          total:
            type:
              - string
            format: decimal
          taxcode:
            type:
              - string
          taxrate:
            type:
              - string
            format: decimal
          creditnote_id:
            type:
              - integer
          product_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - account_code
            value: '{{ record["attributes"]["account_code"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - unit_price
            value: '{{ record["attributes"]["unit_price"] }}'
          - type: AddedFieldDefinition
            path:
              - quantity
            value: '{{ record["attributes"]["quantity"] }}'
          - type: AddedFieldDefinition
            path:
              - subtotal
            value: '{{ record["attributes"]["subtotal"] }}'
          - type: AddedFieldDefinition
            path:
              - tax
            value: '{{ record["attributes"]["tax"] }}'
          - type: AddedFieldDefinition
            path:
              - total
            value: '{{ record["attributes"]["total"] }}'
          - type: AddedFieldDefinition
            path:
              - taxcode
            value: '{{ record["attributes"]["taxcode"] }}'
          - type: AddedFieldDefinition
            path:
              - taxrate
            value: '{{ record["attributes"]["taxrate"] }}'
          - type: AddedFieldDefinition
            path:
              - creditnote_id
            value: '{{ record["relationships"]["creditnote"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - product_id
            value: '{{ record["relationships"]["product"]["data"]["id"] or "None"}}'
  - type: DeclarativeStream
    name: remarks
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/remarks/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Remark]: id,created,updated,deleted,identified,ref,is_active,inactive_date,severity,notes,description,resolution,location,last_verified_date,is_published,quoted_date,quote_ref,quote_status,type,asset,assigned_contractor,created_by,created_by_contractor,extra_fields,status
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          deleted:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          identified:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          ref:
            type:
              - string
          is_active:
            type:
              - boolean
          inactive_date:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          severity:
            type:
              - integer
          notes:
            type:
              - string
          description:
            type:
              - string
          resolution:
            type:
              - string
          location:
            type:
              - string
          last_verified_date:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          is_published:
            type:
              - boolean
          quoted_date:
            type:
              - string
            format: date
          quote_ref:
            type:
              - string
          quote_status:
            type:
              - string
          type_id:
            type:
              - integer
          asset_id:
            type:
              - integer
          assigned_contractor_id:
            type:
              - integer
              - "null"
          created_by_id:
            type:
              - integer
              - "null"
          created_by_contractor_id:
            type:
              - integer
              - "null"
          extra_fields:
            type:
              - object
          status:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - deleted
            value: '{{ record["attributes"]["deleted"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - identified
            value: '{{ record["attributes"]["identified"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - inactive_date
            value: '{{ record["attributes"]["inactive_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - severity
            value: '{{ record["attributes"]["severity"] }}'
          - type: AddedFieldDefinition
            path:
              - notes
            value: '{{ record["attributes"]["notes"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - resolution
            value: '{{ record["attributes"]["resolution"] }}'
          - type: AddedFieldDefinition
            path:
              - location
            value: '{{ record["attributes"]["location"] }}'
          - type: AddedFieldDefinition
            path:
              - last_verified_date
            value: '{{ record["attributes"]["last_verified_date"] }}'
          - type: AddedFieldDefinition
            path:
              - is_published
            value: '{{ record["attributes"]["is_published"] }}'
          - type: AddedFieldDefinition
            path:
              - quoted_date
            value: '{{ record["attributes"]["quoted_date"] }}'
          - type: AddedFieldDefinition
            path:
              - quote_ref
            value: '{{ record["attributes"]["quote_ref"] }}'
          - type: AddedFieldDefinition
            path:
              - quote_status
            value: '{{ record["attributes"]["quote_status"] }}'
          - type: AddedFieldDefinition
            path:
              - type_id
            value: '{{ record["relationships"]["type"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - asset_id
            value: '{{ record["relationships"]["asset"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - assigned_contractor_id
            value: '{{ record["relationships"]["assigned_contractor"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - created_by_id
            value: '{{ record["relationships"]["created_by"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - created_by_contractor_id
            value:
              '{{ record["relationships"]["created_by_contractor"]["data"]["id"] or
              "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
  - type: DeclarativeStream
    name: assettypes
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/assettypes/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[AssetType]: id,created,updated,deleted,is_active,is_starred,is_esm,name,description,code,icon,standard_maintenance,standard_performance,standard_installation,standard_excerpt,is_lifecycle_enabled,total_nominal_life,category,subcategory,fire_industry_classification,inspection_criteria,sequence_group,sequence_name,is_sequential_ref,asset_count,is_majorservice_applicable,is_component_default,extra_fields,can_bulk_perform_servicetasks,tags,variants,applicable_routines,excluded_routinelevels,default_replacement_product
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          deleted:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          is_active:
            type:
              - boolean
          is_starred:
            type:
              - boolean
          is_esm:
            type:
              - boolean
          name:
            type:
              - string
          description:
            type:
              - string
          code:
            type:
              - string
          icon:
            type:
              - string
          standard_maintenance:
            type:
              - string
          standard_performance:
            type:
              - string
          standard_installation:
            type:
              - string
          standard_excerpt:
            type:
              - string
          is_lifecycle_enabled:
            type:
              - boolean
          total_nominal_life:
            type:
              - integer
              - "null"
          category:
            type:
              - string
          subcategory:
            type:
              - string
          fire_industry_classification:
            type:
              - string
          inspection_criteria:
            type:
              - string
          sequence_group:
            type:
              - string
          sequence_name:
            type:
              - string
          is_sequential_ref:
            type:
              - boolean
          asset_count:
            type:
              - integer
          is_majorservice_applicable:
            type:
              - boolean
          is_component_default:
            type:
              - boolean
          extra_fields:
            type:
              - object
          can_bulk_perform_servicetasks:
            type:
              - boolean
          tags:
            type:
              - array
          variants:
            type:
              - array
          applicable_routines:
            type:
              - array
          excluded_routinelevels:
            type:
              - array
          default_replacement_product_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - deleted
            value: '{{ record["attributes"]["deleted"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - is_starred
            value: '{{ record["attributes"]["is_starred"] }}'
          - type: AddedFieldDefinition
            path:
              - is_esm
            value: '{{ record["attributes"]["is_esm"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - code
            value: '{{ record["attributes"]["code"] }}'
          - type: AddedFieldDefinition
            path:
              - icon
            value: '{{ record["attributes"]["icon"] }}'
          - type: AddedFieldDefinition
            path:
              - standard_maintenance
            value: '{{ record["attributes"]["standard_maintenance"] }}'
          - type: AddedFieldDefinition
            path:
              - standard_performance
            value: '{{ record["attributes"]["standard_performance"] }}'
          - type: AddedFieldDefinition
            path:
              - standard_installation
            value: '{{ record["attributes"]["standard_installation"] }}'
          - type: AddedFieldDefinition
            path:
              - standard_excerpt
            value: '{{ record["attributes"]["standard_excerpt"] }}'
          - type: AddedFieldDefinition
            path:
              - is_lifecycle_enabled
            value: '{{ record["attributes"]["is_lifecycle_enabled"] }}'
          - type: AddedFieldDefinition
            path:
              - total_nominal_life
            value: '{{ record["attributes"]["total_nominal_life"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - category
            value: '{{ record["attributes"]["category"] }}'
          - type: AddedFieldDefinition
            path:
              - subcategory
            value: '{{ record["attributes"]["subcategory"] }}'
          - type: AddedFieldDefinition
            path:
              - fire_industry_classification
            value: '{{ record["attributes"]["fire_industry_classification"] }}'
          - type: AddedFieldDefinition
            path:
              - inspection_criteria
            value: '{{ record["attributes"]["inspection_criteria"] }}'
          - type: AddedFieldDefinition
            path:
              - sequence_group
            value: '{{ record["attributes"]["sequence_group"] }}'
          - type: AddedFieldDefinition
            path:
              - sequence_name
            value: '{{ record["attributes"]["sequence_name"] }}'
          - type: AddedFieldDefinition
            path:
              - is_sequential_ref
            value: '{{ record["attributes"]["is_sequential_ref"] }}'
          - type: AddedFieldDefinition
            path:
              - asset_count
            value: '{{ record["attributes"]["asset_count"] }}'
          - type: AddedFieldDefinition
            path:
              - is_majorservice_applicable
            value: '{{ record["attributes"]["is_majorservice_applicable"] }}'
          - type: AddedFieldDefinition
            path:
              - is_component_default
            value: '{{ record["attributes"]["is_component_default"] }}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - can_bulk_perform_servicetasks
            value: '{{ record["attributes"]["can_bulk_perform_servicetasks"] }}'
          - type: AddedFieldDefinition
            path:
              - tags
            value: '{{ record["relationships"]["tags"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - variants
            value: '{{ record["relationships"]["variants"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - applicable_routines
            value: '{{ record["relationships"]["applicable_routines"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - excluded_routinelevels
            value: '{{ record["relationships"]["excluded_routinelevels"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - default_replacement_product_id
            value:
              '{{ record["relationships"]["default_replacement_product"]["data"]["id"]
              or "None"}}'
  - type: DeclarativeStream
    name: assettypevariants
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/assettypevariants/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[AssetTypeVariant]: id,created,updated,deleted,name,sequence_name,is_active,icon,extra_fields,type,default_replacement_product
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          deleted:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
          sequence_name:
            type:
              - string
          is_active:
            type:
              - boolean
          icon:
            type:
              - string
          extra_fields:
            type:
              - object
          type_id:
            type:
              - integer
          default_replacement_product_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - deleted
            value: '{{ record["attributes"]["deleted"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - sequence_name
            value: '{{ record["attributes"]["sequence_name"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - icon
            value: '{{ record["attributes"]["icon"] }}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - type_id
            value: '{{ record["relationships"]["type"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - default_replacement_product_id
            value:
              '{{ record["relationships"]["default_replacement_product"]["data"]["id"]
              or "None"}}'
  - type: DeclarativeStream
    name: assets
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/assets/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Asset]: id,created,updated,deleted,is_active,internal_note,contractor_note,contractor_ref,is_silent,is_notoncofo,uptick_ref,ref,iotdevice,label,location,standard_maintenance,standard_performance,standard_installation,compliant,status,inspection_ref,barcode,inspection_order,serviced_date,base_date,installation_date,total_expected_life,asset_condition,inspected_date,make,model,size,signoff_date,signoff_method,guid,coord_lat,coord_lng,bsecure_latest_sticker_guid,bsecure_resolved_guid,extra_fields,tags,type,variant,product,property,contractor,serviced_by,servicelevels,floorplan_location,system,components,last_service_result,highest_severity
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          deleted:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          is_active:
            type:
              - boolean
          internal_note:
            type:
              - string
          contractor_note:
            type:
              - string
          contractor_ref:
            type:
              - string
          is_silent:
            type:
              - boolean
          is_notoncofo:
            type:
              - boolean
          uptick_ref:
            type:
              - string
          ref:
            type:
              - string
          iotdevice_id:
            type:
              - integer
              - "null"
          label:
            type:
              - string
          location:
            type:
              - string
          standard_maintenance:
            type:
              - string
          standard_performance:
            type:
              - string
          standard_installation:
            type:
              - string
          compliant:
            type:
              - boolean
              - "null"
          status:
            type:
              - string
          inspection_ref:
            type:
              - string
          barcode:
            type:
              - string
          inspection_order:
            type:
              - integer
          serviced_date:
            type:
              - string
              - "null"
            format: date
          base_date:
            type:
              - string
              - "null"
            format: date
          installation_date:
            type:
              - string
              - "null"
            format: date
          total_expected_life:
            type:
              - integer
              - "null"
          asset_condition:
            type:
              - string
              - "null"
          inspected_date:
            type:
              - string
              - "null"
            format: date
          make:
            type:
              - string
          model:
            type:
              - string
          size:
            type:
              - string
          signoff_date:
            type:
              - string
              - "null"
            format: date
          signoff_method:
            type:
              - string
          guid:
            type:
              - string
            format: uuid
          coord_lat:
            type:
              - number
              - "null"
          coord_lng:
            type:
              - number
              - "null"
          bsecure_latest_sticker_guid:
            type:
              - string
              - "null"
            format: uuid
          bsecure_resolved_guid:
            type:
              - string
              - "null"
            format: uuid
          extra_fields:
            type:
              - object
          tags:
            type:
              - array
          type_id:
            type:
              - integer
          variant_id:
            type:
              - integer
              - "null"
          product_id:
            type:
              - integer
              - "null"
          property_id:
            type:
              - integer
          contractor_id:
            type:
              - integer
              - "null"
          serviced_by_id:
            type:
              - integer
              - "null"
          servicelevels:
            type:
              - array
          floorplan_location_id:
            type:
              - integer
          system_id:
            type:
              - integer
              - "null"
          components:
            type:
              - array
          last_service_result:
            type:
              - string
          highest_severity:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - deleted
            value: '{{ record["attributes"]["deleted"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - internal_note
            value: '{{ record["attributes"]["internal_note"] }}'
          - type: AddedFieldDefinition
            path:
              - contractor_note
            value: '{{ record["attributes"]["contractor_note"] }}'
          - type: AddedFieldDefinition
            path:
              - contractor_ref
            value: '{{ record["attributes"]["contractor_ref"] }}'
          - type: AddedFieldDefinition
            path:
              - is_silent
            value: '{{ record["attributes"]["is_silent"] }}'
          - type: AddedFieldDefinition
            path:
              - is_notoncofo
            value: '{{ record["attributes"]["is_notoncofo"] }}'
          - type: AddedFieldDefinition
            path:
              - uptick_ref
            value: '{{ record["attributes"]["uptick_ref"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - iotdevice_id
            value: '{{ record["relationships"]["iotdevice"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - label
            value: '{{ record["attributes"]["label"] }}'
          - type: AddedFieldDefinition
            path:
              - location
            value: '{{ record["attributes"]["location"] }}'
          - type: AddedFieldDefinition
            path:
              - standard_maintenance
            value: '{{ record["attributes"]["standard_maintenance"] }}'
          - type: AddedFieldDefinition
            path:
              - standard_performance
            value: '{{ record["attributes"]["standard_performance"] }}'
          - type: AddedFieldDefinition
            path:
              - standard_installation
            value: '{{ record["attributes"]["standard_installation"] }}'
          - type: AddedFieldDefinition
            path:
              - compliant
            value: '{{ record["attributes"]["compliant"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - inspection_ref
            value: '{{ record["attributes"]["inspection_ref"] }}'
          - type: AddedFieldDefinition
            path:
              - barcode
            value: '{{ record["attributes"]["barcode"] }}'
          - type: AddedFieldDefinition
            path:
              - inspection_order
            value: '{{ record["attributes"]["inspection_order"] }}'
          - type: AddedFieldDefinition
            path:
              - serviced_date
            value: '{{ record["attributes"]["serviced_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - base_date
            value: '{{ record["attributes"]["base_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - installation_date
            value: '{{ record["attributes"]["installation_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - total_expected_life
            value: '{{ record["attributes"]["total_expected_life"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - asset_condition
            value: '{{ record["attributes"]["asset_condition"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - inspected_date
            value: '{{ record["attributes"]["inspected_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - make
            value: '{{ record["attributes"]["make"] }}'
          - type: AddedFieldDefinition
            path:
              - model
            value: '{{ record["attributes"]["model"] }}'
          - type: AddedFieldDefinition
            path:
              - size
            value: '{{ record["attributes"]["size"] }}'
          - type: AddedFieldDefinition
            path:
              - signoff_date
            value: '{{ record["attributes"]["signoff_date"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - signoff_method
            value: '{{ record["attributes"]["signoff_method"] }}'
          - type: AddedFieldDefinition
            path:
              - guid
            value: '{{ record["attributes"]["guid"] }}'
          - type: AddedFieldDefinition
            path:
              - coord_lat
            value: '{{ record["attributes"]["coord_lat"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - coord_lng
            value: '{{ record["attributes"]["coord_lng"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - bsecure_latest_sticker_guid
            value: '{{ record["attributes"]["bsecure_latest_sticker_guid"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - bsecure_resolved_guid
            value: '{{ record["attributes"]["bsecure_resolved_guid"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - tags
            value: '{{ record["relationships"]["tags"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - type_id
            value: '{{ record["relationships"]["type"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - variant_id
            value: '{{ record["relationships"]["variant"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - product_id
            value: '{{ record["relationships"]["product"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - property_id
            value: '{{ record["relationships"]["property"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - contractor_id
            value: '{{ record["relationships"]["contractor"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - serviced_by_id
            value: '{{ record["relationships"]["serviced_by"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - servicelevels
            value: '{{ record["relationships"]["servicelevels"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - floorplan_location_id
            value: '{{ record["relationships"]["floorplan_location"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - system_id
            value: '{{ record["relationships"]["system"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - components
            value: '{{ record["relationships"]["components"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - last_service_result
            value: '{{ record["attributes"]["last_service_result"] }}'
          - type: AddedFieldDefinition
            path:
              - highest_severity
            value: '{{ record["attributes"]["highest_severity"] }}'
  - type: DeclarativeStream
    name: products
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/products/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Product]: id,created,updated,deleted,name,type,description,code,sku,upc,account_code,expense_account_code,default_taxcode,internal_note,is_starred,is_active,is_stocked,cost_price,unit_description,unit_price,current_price,category,subcategory,markup,estimated_time,partner_uid,autocomplete_label,tracking_categories,extra_fields,supplier,accounting_organisation,is_attendancefee,included_labour,included_travel,labour_increment,last_used,latest_unit_cost
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          deleted:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
          type:
            type:
              - string
          description:
            type:
              - string
          code:
            type:
              - string
              - "null"
          sku:
            type:
              - string
          upc:
            type:
              - string
          account_code:
            type:
              - string
          expense_account_code:
            type:
              - string
          default_taxcode:
            type:
              - string
          internal_note:
            type:
              - string
          is_starred:
            type:
              - boolean
          is_active:
            type:
              - boolean
          is_stocked:
            type:
              - boolean
          cost_price:
            type:
              - string
            format: decimal
          unit_description:
            type:
              - string
          unit_price:
            type:
              - string
          current_price:
            type:
              - string
          category:
            type:
              - string
          subcategory:
            type:
              - string
          markup:
            type:
              - string
            format: decimal
          estimated_time:
            type:
              - integer
          partner_uid:
            type:
              - string
              - "null"
          autocomplete_label:
            type:
              - string
          tracking_categories:
            type:
              - object
          extra_fields:
            type:
              - object
          supplier_id:
            type:
              - integer
              - "null"
          accounting_organisation_id:
            type:
              - integer
              - "null"
          is_attendancefee:
            type:
              - boolean
          included_labour:
            type:
              - integer
          included_travel:
            type:
              - integer
          labour_increment:
            type:
              - integer
          last_used:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          latest_unit_cost:
            type:
              - string
            format: decimal
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - deleted
            value: '{{ record["attributes"]["deleted"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - type
            value: '{{ record["attributes"]["type"] }}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - code
            value: '{{ record["attributes"]["code"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - sku
            value: '{{ record["attributes"]["sku"] }}'
          - type: AddedFieldDefinition
            path:
              - upc
            value: '{{ record["attributes"]["upc"] }}'
          - type: AddedFieldDefinition
            path:
              - account_code
            value: '{{ record["attributes"]["account_code"] }}'
          - type: AddedFieldDefinition
            path:
              - expense_account_code
            value: '{{ record["attributes"]["expense_account_code"] }}'
          - type: AddedFieldDefinition
            path:
              - default_taxcode
            value: '{{ record["attributes"]["default_taxcode"] }}'
          - type: AddedFieldDefinition
            path:
              - internal_note
            value: '{{ record["attributes"]["internal_note"] }}'
          - type: AddedFieldDefinition
            path:
              - is_starred
            value: '{{ record["attributes"]["is_starred"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - is_stocked
            value: '{{ record["attributes"]["is_stocked"] }}'
          - type: AddedFieldDefinition
            path:
              - cost_price
            value: '{{ record["attributes"]["cost_price"] }}'
          - type: AddedFieldDefinition
            path:
              - unit_description
            value: '{{ record["attributes"]["unit_description"] }}'
          - type: AddedFieldDefinition
            path:
              - unit_price
            value: '{{ record["attributes"]["unit_price"] }}'
          - type: AddedFieldDefinition
            path:
              - current_price
            value: '{{ record["attributes"]["current_price"] }}'
          - type: AddedFieldDefinition
            path:
              - category
            value: '{{ record["attributes"]["category"] }}'
          - type: AddedFieldDefinition
            path:
              - subcategory
            value: '{{ record["attributes"]["subcategory"] }}'
          - type: AddedFieldDefinition
            path:
              - markup
            value: '{{ record["attributes"]["markup"] }}'
          - type: AddedFieldDefinition
            path:
              - estimated_time
            value: '{{ record["attributes"]["estimated_time"] }}'
          - type: AddedFieldDefinition
            path:
              - partner_uid
            value: '{{ record["attributes"]["partner_uid"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - autocomplete_label
            value: '{{ record["attributes"]["autocomplete_label"] }}'
          - type: AddedFieldDefinition
            path:
              - tracking_categories
            value: '{{ record["attributes"]["tracking_categories"] }}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - supplier_id
            value: '{{ record["relationships"]["supplier"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - accounting_organisation_id
            value:
              '{{ record["relationships"]["accounting_organisation"]["data"]["id"]
              or "None"}}'
          - type: AddedFieldDefinition
            path:
              - is_attendancefee
            value: '{{ record["attributes"]["is_attendancefee"] }}'
          - type: AddedFieldDefinition
            path:
              - included_labour
            value: '{{ record["attributes"]["included_labour"] }}'
          - type: AddedFieldDefinition
            path:
              - included_travel
            value: '{{ record["attributes"]["included_travel"] }}'
          - type: AddedFieldDefinition
            path:
              - labour_increment
            value: '{{ record["attributes"]["labour_increment"] }}'
          - type: AddedFieldDefinition
            path:
              - last_used
            value: '{{ record["attributes"]["last_used"] }}'
          - type: AddedFieldDefinition
            path:
              - latest_unit_cost
            value: '{{ record["attributes"]["latest_unit_cost"] }}'
  - type: DeclarativeStream
    name: rounds
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/rounds/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Round]: id,created,updated,deleted,name,is_active,notes,due,task_count,task_breakdown,chieftan,technician,branch
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          deleted:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
          is_active:
            type:
              - boolean
          notes:
            type:
              - string
              - "null"
          due:
            type:
              - string
              - "null"
            format: date
          task_count:
            type:
              - string
          task_breakdown:
            type:
              - string
          chieftan_id:
            type:
              - integer
              - "null"
          technician_id:
            type:
              - integer
              - "null"
          branch_id:
            type:
              - integer
              - "null"
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - deleted
            value: '{{ record["attributes"]["deleted"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - notes
            value: '{{ record["attributes"]["notes"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - due
            value: '{{ record["attributes"]["due"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - task_count
            value: '{{ record["attributes"]["task_count"] }}'
          - type: AddedFieldDefinition
            path:
              - task_breakdown
            value: '{{ record["attributes"]["task_breakdown"] }}'
          - type: AddedFieldDefinition
            path:
              - chieftan_id
            value: '{{ record["relationships"]["chieftan"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - technician_id
            value: '{{ record["relationships"]["technician"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - branch_id
            value: '{{ record["relationships"]["branch"]["data"]["id"] or "None"}}'
  - type: DeclarativeStream
    name: tasksessions
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/tasksessions/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[TaskSession]: id,created,updated,trashed,submitted,is_approved,is_submitted,type,started,finished,started_coord_lat,started_coord_lng,finished_coord_lat,finished_coord_lng,original_started,original_finished,description,rate,timezone,multiplier,multiplier_label,sell_rate,hours,cost,sell,submitted_at,approved_at,task,technician,sell_product,submitted_by,approved_by,sell_hours,duration,duration_hours,status,payroll_date,appointment_attendance,is_suspicious_started,is_suspicious_finished
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          trashed:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          submitted:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          is_approved:
            type:
              - boolean
          is_submitted:
            type:
              - boolean
          type_id:
            type:
              - integer
          started:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          finished:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          started_coord_lat:
            type:
              - number
              - "null"
          started_coord_lng:
            type:
              - number
              - "null"
          finished_coord_lat:
            type:
              - number
              - "null"
          finished_coord_lng:
            type:
              - number
              - "null"
          original_started:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          original_finished:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          description:
            type:
              - string
          rate:
            type:
              - string
              - "null"
            format: decimal
          timezone:
            type:
              - string
          multiplier:
            type:
              - string
            format: decimal
          multiplier_label:
            type:
              - string
          sell_rate:
            type:
              - string
              - "null"
            format: decimal
          hours:
            type:
              - string
              - "null"
            format: decimal
          cost:
            type:
              - string
              - "null"
            format: decimal
          sell:
            type:
              - string
              - "null"
            format: decimal
          submitted_at:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          approved_at:
            type:
              - string
              - "null"
            format: date-time
            airbyte_type: timestamp_with_timezone
          task_id:
            type:
              - integer
              - "null"
          technician_id:
            type:
              - integer
          sell_product_id:
            type:
              - integer
              - "null"
          submitted_by_id:
            type:
              - string
              - "null"
          approved_by_id:
            type:
              - string
              - "null"
          sell_hours:
            type:
              - string
          duration:
            type:
              - integer
          duration_hours:
            type:
              - string
            format: decimal
          status:
            type:
              - string
          payroll_date:
            type:
              - string
            format: date
          appointment_attendance:
            type:
              - string
          is_suspicious_started:
            type:
              - boolean
          is_suspicious_finished:
            type:
              - boolean
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - trashed
            value: '{{ record["attributes"]["trashed"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - submitted
            value: '{{ record["attributes"]["submitted"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - is_approved
            value: '{{ record["attributes"]["is_approved"] }}'
          - type: AddedFieldDefinition
            path:
              - is_submitted
            value: '{{ record["attributes"]["is_submitted"] }}'
          - type: AddedFieldDefinition
            path:
              - type_id
            value: '{{ record["relationships"]["type"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - started
            value: '{{ record["attributes"]["started"] }}'
          - type: AddedFieldDefinition
            path:
              - finished
            value: '{{ record["attributes"]["finished"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - started_coord_lat
            value: '{{ record["attributes"]["started_coord_lat"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - started_coord_lng
            value: '{{ record["attributes"]["started_coord_lng"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - finished_coord_lat
            value: '{{ record["attributes"]["finished_coord_lat"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - finished_coord_lng
            value: '{{ record["attributes"]["finished_coord_lng"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - original_started
            value: '{{ record["attributes"]["original_started"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - original_finished
            value: '{{ record["attributes"]["original_finished"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - description
            value: '{{ record["attributes"]["description"] }}'
          - type: AddedFieldDefinition
            path:
              - rate
            value: '{{ record["attributes"]["rate"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - timezone
            value: '{{ record["attributes"]["timezone"] }}'
          - type: AddedFieldDefinition
            path:
              - multiplier
            value: '{{ record["attributes"]["multiplier"] }}'
          - type: AddedFieldDefinition
            path:
              - multiplier_label
            value: '{{ record["attributes"]["multiplier_label"] }}'
          - type: AddedFieldDefinition
            path:
              - sell_rate
            value: '{{ record["attributes"]["sell_rate"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - hours
            value: '{{ record["attributes"]["hours"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - cost
            value: '{{ record["attributes"]["cost"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - sell
            value: '{{ record["attributes"]["sell"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - submitted_at
            value: '{{ record["attributes"]["submitted_at"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - approved_at
            value: '{{ record["attributes"]["approved_at"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - task_id
            value: '{{ record["relationships"]["task"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - technician_id
            value: '{{ record["relationships"]["technician"]["data"]["id"] }}'
          - type: AddedFieldDefinition
            path:
              - sell_product_id
            value: '{{ record["relationships"]["sell_product"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - submitted_by_id
            value: '{{ record["relationships"]["submitted_by"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - approved_by_id
            value: '{{ record["relationships"]["approved_by"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - sell_hours
            value: '{{ record["attributes"]["sell_hours"] }}'
          - type: AddedFieldDefinition
            path:
              - duration
            value: '{{ record["attributes"]["duration"] }}'
          - type: AddedFieldDefinition
            path:
              - duration_hours
            value: '{{ record["attributes"]["duration_hours"] }}'
          - type: AddedFieldDefinition
            path:
              - status
            value: '{{ record["attributes"]["status"] }}'
          - type: AddedFieldDefinition
            path:
              - payroll_date
            value: '{{ record["attributes"]["payroll_date"] }}'
          - type: AddedFieldDefinition
            path:
              - appointment_attendance
            value: '{{ record["attributes"]["appointment_attendance"] }}'
          - type: AddedFieldDefinition
            path:
              - is_suspicious_started
            value: '{{ record["attributes"]["is_suspicious_started"] }}'
          - type: AddedFieldDefinition
            path:
              - is_suspicious_finished
            value: '{{ record["attributes"]["is_suspicious_finished"] }}'
  - type: DeclarativeStream
    name: contractors
    primary_key:
      - id
    incremental_sync:
      $ref: "#/definitions/linked/DeclarativeStream/incremental_sync"
    retriever:
      $ref: "#/definitions/linked/BaseSimpleRetriever"
      requester:
        $ref: "#/definitions/linked/BaseSimpleRetriever/requester"
        url: '{{ config["base_url"] }}/api/v2.14/contractors/'
        request_parameters:
          ordering: -updated
          show_deleted: "true"
          fields[Contractor]: id,created,updated,name,ref,primary_contact,email,email_cc,contact_mobile,contact_bh,contact_ah,address,notes,is_starred,is_active,partner_uid,extra_fields,category,tags,skill,serviceareas,zones,account,supplier,accounting_organisation,asset_count
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        additionalProperties: true
        properties:
          id:
            type:
              - integer
          created:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          updated:
            type:
              - string
            format: date-time
            airbyte_type: timestamp_with_timezone
          name:
            type:
              - string
          ref:
            type:
              - string
          primary_contact:
            type:
              - string
          email:
            type:
              - string
            format: email
          email_cc:
            type:
              - string
          contact_mobile:
            type:
              - string
          contact_bh:
            type:
              - string
          contact_ah:
            type:
              - string
          address:
            type:
              - string
              - "null"
          notes:
            type:
              - string
              - "null"
          is_starred:
            type:
              - boolean
          is_active:
            type:
              - boolean
          partner_uid:
            type:
              - string
              - "null"
          extra_fields:
            type:
              - object
          category_id:
            type:
              - integer
              - "null"
          tags:
            type:
              - array
          skill:
            type:
              - array
          serviceareas:
            type:
              - array
          zones:
            type:
              - array
          account_id:
            type:
              - integer
              - "null"
          supplier_id:
            type:
              - integer
              - "null"
          accounting_organisation_id:
            type:
              - integer
              - "null"
          asset_count:
            type:
              - string
    transformations:
      - type: AddFields
        fields:
          - type: AddedFieldDefinition
            path:
              - id
            value: '{{ record["id"] }}'
          - type: AddedFieldDefinition
            path:
              - created
            value: '{{ record["attributes"]["created"] }}'
          - type: AddedFieldDefinition
            path:
              - updated
            value: '{{ record["attributes"]["updated"] }}'
          - type: AddedFieldDefinition
            path:
              - name
            value: '{{ record["attributes"]["name"] }}'
          - type: AddedFieldDefinition
            path:
              - ref
            value: '{{ record["attributes"]["ref"] }}'
          - type: AddedFieldDefinition
            path:
              - primary_contact
            value: '{{ record["attributes"]["primary_contact"] }}'
          - type: AddedFieldDefinition
            path:
              - email
            value: '{{ record["attributes"]["email"] }}'
          - type: AddedFieldDefinition
            path:
              - email_cc
            value: '{{ record["attributes"]["email_cc"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_mobile
            value: '{{ record["attributes"]["contact_mobile"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_bh
            value: '{{ record["attributes"]["contact_bh"] }}'
          - type: AddedFieldDefinition
            path:
              - contact_ah
            value: '{{ record["attributes"]["contact_ah"] }}'
          - type: AddedFieldDefinition
            path:
              - address
            value: '{{ record["attributes"]["address"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - notes
            value: '{{ record["attributes"]["notes"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - is_starred
            value: '{{ record["attributes"]["is_starred"] }}'
          - type: AddedFieldDefinition
            path:
              - is_active
            value: '{{ record["attributes"]["is_active"] }}'
          - type: AddedFieldDefinition
            path:
              - partner_uid
            value: '{{ record["attributes"]["partner_uid"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - extra_fields
            value: '{{ record["attributes"]["extra_fields"] }}'
          - type: AddedFieldDefinition
            path:
              - category_id
            value: '{{ record["relationships"]["category"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - tags
            value: '{{ record["relationships"]["tags"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - skill
            value: '{{ record["relationships"]["skill"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - serviceareas
            value: '{{ record["relationships"]["serviceareas"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - zones
            value: '{{ record["relationships"]["zones"]["data"] }}'
          - type: AddedFieldDefinition
            path:
              - account_id
            value: '{{ record["relationships"]["account"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - supplier_id
            value: '{{ record["relationships"]["supplier"]["data"]["id"] or "None"}}'
          - type: AddedFieldDefinition
            path:
              - accounting_organisation_id
            value:
              '{{ record["relationships"]["accounting_organisation"]["data"]["id"]
              or "None"}}'
          - type: AddedFieldDefinition
            path:
              - asset_count
            value: '{{ record["attributes"]["asset_count"] }}'
