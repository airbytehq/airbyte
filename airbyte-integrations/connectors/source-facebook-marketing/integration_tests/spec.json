{
  "documentationUrl": "https://docs.airbyte.io/integrations/sources/facebook-marketing",
  "changelogUrl": "https://docs.airbyte.io/integrations/sources/facebook-marketing",
  "connectionSpecification": {
    "title": "Source Facebook Marketing",
    "type": "object",
    "properties": {
      "account_id": {
        "title": "Account ID",
        "description": "The Facebook Ad Account ID. Required for all requests in pair with Personal Access Token.",
        "type": "string"
      },
      "access_token": {
        "title": "Access Token",
        "description": "Access Token for making authenticated requests.",
        "airbyte_secret": true,
        "type": "string"
      },
      "start_date": {
        "title": "Start Date",
        "description": "UTC date and time in the format 2017-01-25T00:00:00Z. Any data before this date will not be replicated.",
        "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$",
        "examples": ["2017-01-25T00:00:00Z"],
        "type": "string",
        "format": "date-time"
      },
      "end_date": {
        "title": "End Date",
        "description": "UTC date and time in the format 2017-01-25T00:00:00Z. All data generated between Start Date and this date will be replicated. Any data after this date will not be replicated. Not setting this option will result in always syncing the latest data.",
        "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$",
        "examples": ["2017-01-26T00:00:00Z"],
        "type": "string",
        "format": "date-time"
      },
      "fetch_thumbnail_images": {
        "title": "Fetch Thumbnail Images",
        "description": "In each Ad Creative, fetch the thumbnail_url and store the result in thumbnail_data_url",
        "default": false,
        "type": "boolean"
      },
      "include_deleted": {
        "title": "Include Deleted",
        "description": "Include data from deleted campaigns, ads and adsets.",
        "default": false,
        "type": "boolean"
      },
      "insights_lookback_window": {
        "title": "Insights Lookback Window",
        "description": "The attribution window for actions. That is, the maximum number of days allowed between when a user views or clicks an ad, and takes an action, to attribute their action to the ad.",
        "default": 28,
        "minimum": 0,
        "maximum": 28,
        "type": "integer"
      },
      "insights_days_per_job": {
        "title": "Insights Days Per Job",
        "description": "The number of days to sync in one job. The more data you have - the smaller you want this parameter to be.",
        "default": 7,
        "minimum": 1,
        "maximum": 30,
        "type": "integer"
      },
      "custom_insights": {
        "title": "Custom Insights",
        "description": "A list which contains insights entries, each entry must have the Name and can contains Fields, Breakdowns or Action Breakdowns.",
        "type": "array",
        "items": {
          "title": "InsightConfig",
          "type": "object",
          "properties": {
            "name": {
              "title": "Name",
              "description": "The name of Insight.",
              "type": "string"
            },
            "fields": {
              "title": "Fields",
              "description": "A list of chosen Fields.",
              "default": [],
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "breakdowns": {
              "title": "Breakdowns",
              "description": "A list of chosen Breakdowns.",
              "default": [],
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "action_breakdowns": {
              "title": "Action Breakdowns",
              "description": "A list of chosen Action Breakdowns.",
              "default": [],
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": ["name"]
        }
      }
    },
    "required": ["account_id", "access_token", "start_date"],
    "definitions": {
      "InsightConfig": {
        "title": "InsightConfig",
        "type": "object",
        "properties": {
          "name": {
            "title": "Name",
            "description": "The name of Insight.",
            "type": "string"
          },
          "fields": {
            "title": "Fields",
            "description": "A list of chosen Fields.",
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "breakdowns": {
            "title": "Breakdowns",
            "description": "A list of chosen Breakdowns.",
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "action_breakdowns": {
            "title": "Action Breakdowns",
            "description": "A list of chosen Action Breakdowns.",
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": ["name"]
      }
    }
  },
  "supportsIncremental": true,
  "supported_destination_sync_modes": ["append"],
  "authSpecification": {
    "auth_type": "oauth2.0",
    "oauth2Specification": {
      "rootObject": [],
      "oauthFlowInitParameters": [],
      "oauthFlowOutputParameters": [["access_token"]]
    }
  }
}
