### Create a Python Airbyte Source
1. If you are trying to create an Airbyte Source from a Singer Tap, you should follow [this guide](https://github.com/airbytehq/airbyte/blob/master/airbyte-integrations/connector-templates/singer-source/README.md) instead.
1. Copy the template into a directory with your integration name. `cp -r airbyte-integrations/connector-templates/python-source airbyte-integrations/connectors/source-SOURCENAME`.
1. ```
   mv airbyte-integrations/connectors/source-SOURCENAME/template_python_source airbyte-integrations/connectors/source-SOURCENAME/SOURCENAME_source
   ``` 
1. Update the name, description, and dependencies in `setup.py`
    1. Note that all of your dependencies should go in `setup.py`, NOT `requirements.txt`. The requirements file is only used to connect internal Airbyte dependencies for local development. 
1. Update the `Dockerfile` to point `CODE_PATH` and `AIRBYTE_IMPL_MODULE` at `SOURCENAME_source`
1. Edit the classname in `SOURCENAME_source/source.py` and update the `Dockerfile` to point `AIRBYTE_IMPL_PATH` to that classname.
1. Update the `io.airbyte.name` label in the `Dockerfile` to `airbyte/source-SOURCENAME`
1. Define a specification for the configuration when connecting to the source by modifying `SOURCENAME_source/spec.json`.
    1. This spec uses JsonSchema to define properties and validations.
    1. Ultimately, configurations that match this schema will be generated by the Airbyte UI and passed to your integration as input. You can also manually generate config files and pass them to the integration CLI.
1. `SOURCENAME_source/source.py` is where you actually implement your integration.
    1. All of your logging should be done through the `logger` object passed into each method.
           1. All logs from an Airbyte Source must use the formatting from this logger to be shown in the UI by the Airbyte orchestrator.
    1. `check` should check if a connection can be established to a source given a config that matches your specification.
    1. `discover` will need to create an `AirbyteCatalog` that represents the possible output streams/schemas given the config provided.
    1. `read` provides a generator that produces `AirbyteMessage`
        1. You can choose to output a state message at the end of a run (and consume the state at the beginning to alter behavior).
1. Update the `sample_files` directory with an example config and catalog (discover output).
1. We highly recommend creating tests for your integration. 
    1. Since some tests may require external APIs, you may need to give instructions on how to set up a testing instance for CI testing.
1. Update `README.md` to document the usage of your integration. 
1. Add your source to the source registry in `airbyte-config/init`.

Please reach out in a GitHub Issue or Slack if you run into any issues developing a source. We're happy to help!

# Python Airbyte Source Development

Prepare development environment:
```
cd airbyte-integrations/connector-templates/python-source

# create & activate virtualenv
virtualenv build/venv
source build/venv/bin/activate

# install necessary dependencies
pip install -r requirements.txt
```

Test locally:
```
python main_dev.py spec
python main_dev.py check --config sample_files/test_config.json
python main_dev.py discover --config sample_files/test_config.json
python main_dev.py read --config sample_files/test_config.json --catalog sample_files/test_catalog.json
```

Test image:
```
# in airbyte root directory
./gradlew :airbyte-integrations:connector-templates:python-source:buildImage
docker run --rm -v $(pwd)/airbyte-integrations/connector-templates/python-source/sample_files:/sample_files airbyte/source-template-python:dev spec
docker run --rm -v $(pwd)/airbyte-integrations/connector-templates/python-source/sample_files:/sample_files airbyte/source-template-python:dev check --config /sample_files/test_config.json
docker run --rm -v $(pwd)/airbyte-integrations/connector-templates/python-source/sample_files:/sample_files airbyte/source-template-python:dev discover --config /sample_files/test_config.json
docker run --rm -v $(pwd)/airbyte-integrations/connector-templates/python-source/sample_files:/sample_files airbyte/source-template-python:dev read --config /sample_files/test_config.json --catalog /sample_files/test_catalog.json
```
