version: "4.3.2"
definitions:
  selector:
    type: RecordSelector
    extractor:
      type: DpathExtractor
      field_path:
        - data
  requester:
    type: HttpRequester
    url_base: "https://api.northpass.com/v2"
    http_method: "GET"
    authenticator:
      type: ApiKeyAuthenticator
      api_token: "{{ config['api_key'] }}"
      inject_into:
        type: RequestOption
        field_name: X-Api-Key
        inject_into: header
    error_handler:
      type: DefaultErrorHandler
      backoff_strategies:
        - type: ConstantBackoffStrategy
          backoff_time_in_seconds: 5
      response_filters:
        - type: HttpResponseFilter
          action: RETRY
          http_codes:
            - 429
          error_message: Northpass only allows you to request 10 requests/second
        - type: HttpResponseFilter
          action: FAIL
          http_codes:
            - 401
            - 403
          failure_type: config_error
          error_message:
            Please provide a valid API key and make sure it has the proper
            permissions.
  retriever:
    type: SimpleRetriever
    record_selector:
      type: RecordSelector
      extractor:
        type: DpathExtractor
        field_path:
          - data
    paginator:
      type: DefaultPaginator
      page_token_option:
        type: RequestOption
        field_name: page
        inject_into: request_parameter
      pagination_strategy:
        type: OffsetIncrement
        inject_on_first_request: true
    requester:
      type: HttpRequester
      url_base: "https://api.northpass.com/v2"
      http_method: "GET"
      authenticator:
        type: ApiKeyAuthenticator
        api_token: "{{ config['api_key'] }}"
        inject_into:
          type: RequestOption
          field_name: X-Api-Key
          inject_into: header
      error_handler:
        type: DefaultErrorHandler
        backoff_strategies:
          - type: ConstantBackoffStrategy
            backoff_time_in_seconds: 5
        response_filters:
          - type: HttpResponseFilter
            action: RETRY
            http_codes:
              - 429
            error_message: Northpass only allows you to request 10 requests/second
          - type: HttpResponseFilter
            action: FAIL
            http_codes:
              - 401
              - 403
            failure_type: config_error
            error_message:
              Please provide a valid API key and make sure it has the proper
              permissions.
  base_stream:
    type: DeclarativeStream
    retriever:
      type: SimpleRetriever
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          field_name: page
          inject_into: request_parameter
        pagination_strategy:
          type: OffsetIncrement
          inject_on_first_request: true
      requester:
        type: HttpRequester
        url_base: "https://api.northpass.com/v2"
        http_method: "GET"
        authenticator:
          type: ApiKeyAuthenticator
          api_token: "{{ config['api_key'] }}"
          inject_into:
            type: RequestOption
            field_name: X-Api-Key
            inject_into: header
        error_handler:
          type: DefaultErrorHandler
          backoff_strategies:
            - type: ConstantBackoffStrategy
              backoff_time_in_seconds: 5
          response_filters:
            - type: HttpResponseFilter
              action: RETRY
              http_codes:
                - 429
              error_message: Northpass only allows you to request 10 requests/second
            - type: HttpResponseFilter
              action: FAIL
              http_codes:
                - 401
                - 403
              failure_type: config_error
              error_message:
                Please provide a valid API key and make sure it has the
                proper permissions.
  people_stream:
    type: DeclarativeStream
    retriever:
      type: SimpleRetriever
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          field_name: page
          inject_into: request_parameter
        pagination_strategy:
          type: OffsetIncrement
          inject_on_first_request: true
      requester:
        type: HttpRequester
        url_base: "https://api.northpass.com/v2"
        http_method: "GET"
        authenticator:
          type: ApiKeyAuthenticator
          api_token: "{{ config['api_key'] }}"
          inject_into:
            type: RequestOption
            field_name: X-Api-Key
            inject_into: header
        error_handler:
          type: DefaultErrorHandler
          backoff_strategies:
            - type: ConstantBackoffStrategy
              backoff_time_in_seconds: 5
          response_filters:
            - type: HttpResponseFilter
              action: RETRY
              http_codes:
                - 429
              error_message: Northpass only allows you to request 10 requests/second
            - type: HttpResponseFilter
              action: FAIL
              http_codes:
                - 401
                - 403
              failure_type: config_error
              error_message:
                Please provide a valid API key and make sure it has the
                proper permissions.
    name: "people"
    primary_key: "id"
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        required:
          - id
        properties:
          type:
            type:
              - string
              - "null"
          id:
            type: string
          name:
            type:
              - string
              - "null"
          email:
            type:
              - string
              - "null"
          links:
            type:
              - object
              - "null"
            properties:
              self:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
              teaching:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          disabled:
            type:
              - boolean
              - "null"
          full_name:
            type:
              - string
              - "null"
          last_name:
            type:
              - string
              - "null"
          created_at:
            type:
              - string
              - "null"
          first_name:
            type:
              - string
              - "null"
          updated_at:
            type:
              - string
              - "null"
          activated_at:
            type:
              - string
              - "null"
          invite_token:
            type:
              - string
              - "null"
          unsubscribed:
            type:
              - boolean
              - "null"
          relationships:
            type:
              - object
              - "null"
            properties:
              groups:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - array
                      - "null"
              school:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - object
                      - "null"
                    properties:
                      type:
                        type:
                          - string
                          - "null"
                      id:
                        type:
                          - string
                          - "null"
              partnerships:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - object
                        - "null"
                      properties:
                        type:
                          type:
                            - string
                            - "null"
                        id:
                          type:
                            - string
                            - "null"
          custom_avatar_url:
            type:
              - string
              - "null"
          registration_status:
            type:
              - string
              - "null"
        additionalProperties: true
    transformations:
      - type: AddFields
        fields:
          - path:
              - activated_at
            value: '{{ record["attributes"]["activated_at"] }}'
      - type: AddFields
        fields:
          - path:
              - created_at
            value: '{{ record["attributes"]["created_at"] }}'
      - type: AddFields
        fields:
          - path:
              - custom_avatar_url
            value: '{{ record["attributes"]["custom_avatar_url"] }}'
      - type: AddFields
        fields:
          - path:
              - disabled
            value: '{{ record["attributes"]["disabled"] }}'
      - type: AddFields
        fields:
          - path:
              - email
            value: '{{ record["attributes"]["email"] }}'
      - type: AddFields
        fields:
          - path:
              - first_name
            value: '{{ record["attributes"]["first_name"] }}'
      - type: AddFields
        fields:
          - path:
              - full_name
            value: '{{ record["attributes"]["full_name"] }}'
      - type: AddFields
        fields:
          - path:
              - last_name
            value: '{{ record["attributes"]["last_name"] }}'
      - type: AddFields
        fields:
          - path:
              - name
            value: '{{ record["attributes"]["name"] }}'
      - type: AddFields
        fields:
          - path:
              - registration_status
            value: '{{ record["attributes"]["registration_status"] }}'
      - type: AddFields
        fields:
          - path:
              - unsubscribed
            value: '{{ record["attributes"]["unsubscribed"] }}'
      - type: AddFields
        fields:
          - path:
              - updated_at
            value: '{{ record["attributes"]["updated_at"] }}'
      - type: AddFields
        fields:
          - path:
              - invite_token
            value: '{{ record["attributes"]["invite_token"] }}'
      - type: RemoveFields
        field_pointers:
          - - attributes
  courses_stream:
    type: DeclarativeStream
    retriever:
      type: SimpleRetriever
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          field_name: page
          inject_into: request_parameter
        pagination_strategy:
          type: OffsetIncrement
          inject_on_first_request: true
      requester:
        type: HttpRequester
        url_base: "https://api.northpass.com/v2"
        http_method: "GET"
        authenticator:
          type: ApiKeyAuthenticator
          api_token: "{{ config['api_key'] }}"
          inject_into:
            type: RequestOption
            field_name: X-Api-Key
            inject_into: header
        error_handler:
          type: DefaultErrorHandler
          backoff_strategies:
            - type: ConstantBackoffStrategy
              backoff_time_in_seconds: 5
          response_filters:
            - type: HttpResponseFilter
              action: RETRY
              http_codes:
                - 429
              error_message: Northpass only allows you to request 10 requests/second
            - type: HttpResponseFilter
              action: FAIL
              http_codes:
                - 401
                - 403
              failure_type: config_error
              error_message:
                Please provide a valid API key and make sure it has the
                proper permissions.
    name: "courses"
    primary_key: "id"
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        required:
          - id
        properties:
          type:
            type:
              - string
              - "null"
          id:
            type: string
          name:
            type:
              - string
              - "null"
          links:
            type:
              - object
              - "null"
            properties:
              edit:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              self:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              clone:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              enroll:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              archive:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              builder:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              preview:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              publish:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              unarchive:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
              enrollments:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
          status:
            type:
              - string
              - "null"
          permalink:
            type:
              - string
              - "null"
          created_at:
            type:
              - string
              - "null"
          updated_at:
            type:
              - string
              - "null"
          relationships:
            type:
              - object
              - "null"
            properties:
              instructor_partnerships:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - array
                      - "null"
          list_image_url:
            type:
              - string
              - "null"
          full_description:
            type:
              - string
              - "null"
          enrollments_count:
            type:
              - number
              - "null"
          unpublished_changes:
            type:
              - boolean
              - "null"
          credential_achievement_count:
            type:
              - number
              - "null"
        additionalProperties: true
    transformations:
      - type: AddFields
        fields:
          - path:
              - name
            value: '{{ record["attributes"]["name"] }}'
      - type: AddFields
        fields:
          - path:
              - credential_achievement_count
            value: '{{ record["attributes"]["credential_achievement_count"] }}'
      - type: AddFields
        fields:
          - path:
              - enrollments_count
            value: '{{ record["attributes"]["enrollments_count"] }}'
      - type: AddFields
        fields:
          - path:
              - list_image_url
            value: '{{ record["attributes"]["list_image_url"] }}'
      - type: AddFields
        fields:
          - path:
              - permalink
            value: '{{ record["attributes"]["permalink"] }}'
      - type: AddFields
        fields:
          - path:
              - created_at
            value: '{{ record["attributes"]["created_at"] }}'
      - type: AddFields
        fields:
          - path:
              - updated_at
            value: '{{ record["attributes"]["updated_at"] }}'
      - type: AddFields
        fields:
          - path:
              - status
            value: '{{ record["attributes"]["status"] }}'
      - type: AddFields
        fields:
          - path:
              - unpublished_changes
            value: '{{ record["attributes"]["unpublished_changes"] }}'
      - type: AddFields
        fields:
          - path:
              - full_description
            value: '{{ record["attributes"]["full_description"] }}'
      - type: RemoveFields
        field_pointers:
          - - attributes
  course_enrollments_stream:
    type: DeclarativeStream
    retriever:
      type: SimpleRetriever
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          field_name: page
          inject_into: request_parameter
        pagination_strategy:
          type: OffsetIncrement
          inject_on_first_request: true
      requester:
        type: HttpRequester
        url_base: "https://api.northpass.com/v2"
        http_method: "GET"
        authenticator:
          type: ApiKeyAuthenticator
          api_token: "{{ config['api_key'] }}"
          inject_into:
            type: RequestOption
            field_name: X-Api-Key
            inject_into: header
        error_handler:
          type: DefaultErrorHandler
          backoff_strategies:
            - type: ConstantBackoffStrategy
              backoff_time_in_seconds: 5
          response_filters:
            - type: HttpResponseFilter
              action: RETRY
              http_codes:
                - 429
              error_message: Northpass only allows you to request 10 requests/second
            - type: HttpResponseFilter
              action: FAIL
              http_codes:
                - 401
                - 403
              failure_type: config_error
              error_message:
                Please provide a valid API key and make sure it has the
                proper permissions.
      partition_router:
        type: SubstreamPartitionRouter
        parent_stream_configs:
          - type: ParentStreamConfig
            parent_key: id
            partition_field: course_id
            stream:
              type: DeclarativeStream
              retriever:
                type: SimpleRetriever
                record_selector:
                  type: RecordSelector
                  extractor:
                    type: DpathExtractor
                    field_path:
                      - data
                paginator:
                  type: DefaultPaginator
                  page_token_option:
                    type: RequestOption
                    field_name: page
                    inject_into: request_parameter
                  pagination_strategy:
                    type: OffsetIncrement
                    inject_on_first_request: true
                requester:
                  type: HttpRequester
                  url_base: "https://api.northpass.com/v2"
                  http_method: "GET"
                  authenticator:
                    type: ApiKeyAuthenticator
                    api_token: "{{ config['api_key'] }}"
                    inject_into:
                      type: RequestOption
                      field_name: X-Api-Key
                      inject_into: header
                  error_handler:
                    type: DefaultErrorHandler
                    backoff_strategies:
                      - type: ConstantBackoffStrategy
                        backoff_time_in_seconds: 5
                    response_filters:
                      - type: HttpResponseFilter
                        action: RETRY
                        http_codes:
                          - 429
                        error_message: Northpass only allows you to request 10 requests/second
                      - type: HttpResponseFilter
                        action: FAIL
                        http_codes:
                          - 401
                          - 403
                        failure_type: config_error
                        error_message:
                          Please provide a valid API key and make sure it
                          has the proper permissions.
              name: "courses"
              primary_key: "id"
              schema_loader:
                type: InlineSchemaLoader
                schema:
                  type: object
                  $schema: http://json-schema.org/schema#
                  required:
                    - id
                  properties:
                    type:
                      type:
                        - string
                        - "null"
                    id:
                      type: string
                    name:
                      type:
                        - string
                        - "null"
                    links:
                      type:
                        - object
                        - "null"
                      properties:
                        edit:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        self:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        clone:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        enroll:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        archive:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        builder:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        preview:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        publish:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        unarchive:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                        enrollments:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                    status:
                      type:
                        - string
                        - "null"
                    permalink:
                      type:
                        - string
                        - "null"
                    created_at:
                      type:
                        - string
                        - "null"
                    updated_at:
                      type:
                        - string
                        - "null"
                    relationships:
                      type:
                        - object
                        - "null"
                      properties:
                        instructor_partnerships:
                          type:
                            - object
                            - "null"
                          properties:
                            data:
                              type:
                                - array
                                - "null"
                    list_image_url:
                      type:
                        - string
                        - "null"
                    full_description:
                      type:
                        - string
                        - "null"
                    enrollments_count:
                      type:
                        - number
                        - "null"
                    unpublished_changes:
                      type:
                        - boolean
                        - "null"
                    credential_achievement_count:
                      type:
                        - number
                        - "null"
                  additionalProperties: true
              transformations:
                - type: AddFields
                  fields:
                    - path:
                        - name
                      value: '{{ record["attributes"]["name"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - credential_achievement_count
                      value: '{{ record["attributes"]["credential_achievement_count"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - enrollments_count
                      value: '{{ record["attributes"]["enrollments_count"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - list_image_url
                      value: '{{ record["attributes"]["list_image_url"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - permalink
                      value: '{{ record["attributes"]["permalink"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - created_at
                      value: '{{ record["attributes"]["created_at"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - updated_at
                      value: '{{ record["attributes"]["updated_at"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - status
                      value: '{{ record["attributes"]["status"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - unpublished_changes
                      value: '{{ record["attributes"]["unpublished_changes"] }}'
                - type: AddFields
                  fields:
                    - path:
                        - full_description
                      value: '{{ record["attributes"]["full_description"] }}'
                - type: RemoveFields
                  field_pointers:
                    - - attributes
    name: "course_enrollments"
    primary_key: "id"
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        required:
          - id
        properties:
          type:
            type:
              - string
              - "null"
          id:
            type: string
          progress:
            type:
              - number
              - "null"
          course_id:
            type:
              - string
              - "null"
          person_id:
            type:
              - string
              - "null"
          enrolled_at:
            type:
              - string
              - "null"
          relationships:
            type:
              - object
              - "null"
            properties:
              person:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - object
                      - "null"
                    properties:
                      type:
                        type:
                          - string
                          - "null"
                      id:
                        type:
                          - string
                          - "null"
        additionalProperties: true
    transformations:
      - type: AddFields
        fields:
          - path:
              - person_id
            value: '{{ record["attributes"]["person_id"] }}'
          - path:
              - course_id
            value: '{{ record["attributes"]["course_id"] }}'
          - path:
              - progress
            value: '{{ record["attributes"]["progress"] }}'
          - path:
              - enrolled_at
            value: '{{ record["attributes"]["enrolled_at"] }}'
      - type: RemoveFields
        field_pointers:
          - - attributes
streams:
  - type: DeclarativeStream
    retriever:
      type: SimpleRetriever
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          field_name: page
          inject_into: request_parameter
        pagination_strategy:
          type: OffsetIncrement
          inject_on_first_request: true
      requester:
        type: HttpRequester
        url_base: "https://api.northpass.com/v2"
        http_method: "GET"
        authenticator:
          type: ApiKeyAuthenticator
          api_token: "{{ config['api_key'] }}"
          inject_into:
            type: RequestOption
            field_name: X-Api-Key
            inject_into: header
        error_handler:
          type: DefaultErrorHandler
          backoff_strategies:
            - type: ConstantBackoffStrategy
              backoff_time_in_seconds: 5
          response_filters:
            - type: HttpResponseFilter
              action: RETRY
              http_codes:
                - 429
              error_message: Northpass only allows you to request 10 requests/second
            - type: HttpResponseFilter
              action: FAIL
              http_codes:
                - 401
                - 403
              failure_type: config_error
              error_message:
                Please provide a valid API key and make sure it has the proper
                permissions.
        path: "/people"
    name: "people"
    primary_key: "id"
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        required:
          - id
        properties:
          type:
            type:
              - string
              - "null"
          id:
            type: string
          name:
            type:
              - string
              - "null"
          email:
            type:
              - string
              - "null"
          links:
            type:
              - object
              - "null"
            properties:
              self:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
              teaching:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          disabled:
            type:
              - boolean
              - "null"
          full_name:
            type:
              - string
              - "null"
          last_name:
            type:
              - string
              - "null"
          created_at:
            type:
              - string
              - "null"
          first_name:
            type:
              - string
              - "null"
          updated_at:
            type:
              - string
              - "null"
          activated_at:
            type:
              - string
              - "null"
          invite_token:
            type:
              - string
              - "null"
          unsubscribed:
            type:
              - boolean
              - "null"
          relationships:
            type:
              - object
              - "null"
            properties:
              groups:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - array
                      - "null"
              school:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - object
                      - "null"
                    properties:
                      type:
                        type:
                          - string
                          - "null"
                      id:
                        type:
                          - string
                          - "null"
              partnerships:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - object
                        - "null"
                      properties:
                        type:
                          type:
                            - string
                            - "null"
                        id:
                          type:
                            - string
                            - "null"
          custom_avatar_url:
            type:
              - string
              - "null"
          registration_status:
            type:
              - string
              - "null"
        additionalProperties: true
    transformations:
      - type: AddFields
        fields:
          - path:
              - activated_at
            value: '{{ record["attributes"]["activated_at"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - created_at
            value: '{{ record["attributes"]["created_at"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - custom_avatar_url
            value: '{{ record["attributes"]["custom_avatar_url"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - disabled
            value: '{{ record["attributes"]["disabled"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - email
            value: '{{ record["attributes"]["email"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - first_name
            value: '{{ record["attributes"]["first_name"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - full_name
            value: '{{ record["attributes"]["full_name"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - last_name
            value: '{{ record["attributes"]["last_name"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - name
            value: '{{ record["attributes"]["name"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - registration_status
            value: '{{ record["attributes"]["registration_status"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - unsubscribed
            value: '{{ record["attributes"]["unsubscribed"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - updated_at
            value: '{{ record["attributes"]["updated_at"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - invite_token
            value: '{{ record["attributes"]["invite_token"] }}'
            type: AddedFieldDefinition
      - type: RemoveFields
        field_pointers:
          - - attributes
  - type: DeclarativeStream
    retriever:
      type: SimpleRetriever
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          field_name: page
          inject_into: request_parameter
        pagination_strategy:
          type: OffsetIncrement
          inject_on_first_request: true
      requester:
        type: HttpRequester
        url_base: "https://api.northpass.com/v2"
        http_method: "GET"
        authenticator:
          type: ApiKeyAuthenticator
          api_token: "{{ config['api_key'] }}"
          inject_into:
            type: RequestOption
            field_name: X-Api-Key
            inject_into: header
        error_handler:
          type: DefaultErrorHandler
          backoff_strategies:
            - type: ConstantBackoffStrategy
              backoff_time_in_seconds: 5
          response_filters:
            - type: HttpResponseFilter
              action: RETRY
              http_codes:
                - 429
              error_message: Northpass only allows you to request 10 requests/second
            - type: HttpResponseFilter
              action: FAIL
              http_codes:
                - 401
                - 403
              failure_type: config_error
              error_message:
                Please provide a valid API key and make sure it has the proper
                permissions.
        path: "/courses"
    name: "courses"
    primary_key: "id"
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        required:
          - id
        properties:
          type:
            type:
              - string
              - "null"
          id:
            type: string
          name:
            type:
              - string
              - "null"
          links:
            type:
              - object
              - "null"
            properties:
              edit:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              self:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              clone:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              enroll:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              archive:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              builder:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              preview:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              publish:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
              unarchive:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
              enrollments:
                type:
                  - object
                  - "null"
                properties:
                  href:
                    type:
                      - string
                      - "null"
                  meta:
                    type:
                      - object
                      - "null"
                    properties:
                      methods:
                        type:
                          - array
                          - "null"
                        items:
                          type:
                            - string
                            - "null"
          status:
            type:
              - string
              - "null"
          permalink:
            type:
              - string
              - "null"
          created_at:
            type:
              - string
              - "null"
          updated_at:
            type:
              - string
              - "null"
          relationships:
            type:
              - object
              - "null"
            properties:
              instructor_partnerships:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - array
                      - "null"
          list_image_url:
            type:
              - string
              - "null"
          full_description:
            type:
              - string
              - "null"
          enrollments_count:
            type:
              - number
              - "null"
          unpublished_changes:
            type:
              - boolean
              - "null"
          credential_achievement_count:
            type:
              - number
              - "null"
        additionalProperties: true
    transformations:
      - type: AddFields
        fields:
          - path:
              - name
            value: '{{ record["attributes"]["name"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - credential_achievement_count
            value: '{{ record["attributes"]["credential_achievement_count"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - enrollments_count
            value: '{{ record["attributes"]["enrollments_count"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - list_image_url
            value: '{{ record["attributes"]["list_image_url"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - permalink
            value: '{{ record["attributes"]["permalink"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - created_at
            value: '{{ record["attributes"]["created_at"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - updated_at
            value: '{{ record["attributes"]["updated_at"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - status
            value: '{{ record["attributes"]["status"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - unpublished_changes
            value: '{{ record["attributes"]["unpublished_changes"] }}'
            type: AddedFieldDefinition
      - type: AddFields
        fields:
          - path:
              - full_description
            value: '{{ record["attributes"]["full_description"] }}'
            type: AddedFieldDefinition
      - type: RemoveFields
        field_pointers:
          - - attributes
  - type: DeclarativeStream
    retriever:
      type: SimpleRetriever
      record_selector:
        type: RecordSelector
        extractor:
          type: DpathExtractor
          field_path:
            - data
      paginator:
        type: DefaultPaginator
        page_token_option:
          type: RequestOption
          field_name: page
          inject_into: request_parameter
        pagination_strategy:
          type: OffsetIncrement
          inject_on_first_request: true
      requester:
        type: HttpRequester
        url_base: "https://api.northpass.com/v2"
        http_method: "GET"
        authenticator:
          type: ApiKeyAuthenticator
          api_token: "{{ config['api_key'] }}"
          inject_into:
            type: RequestOption
            field_name: X-Api-Key
            inject_into: header
        error_handler:
          type: DefaultErrorHandler
          backoff_strategies:
            - type: ConstantBackoffStrategy
              backoff_time_in_seconds: 5
          response_filters:
            - type: HttpResponseFilter
              action: RETRY
              http_codes:
                - 429
              error_message: Northpass only allows you to request 10 requests/second
            - type: HttpResponseFilter
              action: FAIL
              http_codes:
                - 401
                - 403
              failure_type: config_error
              error_message:
                Please provide a valid API key and make sure it has the proper
                permissions.
        path: "/courses/{{ stream_partition.course_id }}/enrollments"
      partition_router:
        type: SubstreamPartitionRouter
        parent_stream_configs:
          - type: ParentStreamConfig
            parent_key: id
            partition_field: course_id
            stream:
              type: DeclarativeStream
              retriever:
                type: SimpleRetriever
                record_selector:
                  type: RecordSelector
                  extractor:
                    type: DpathExtractor
                    field_path:
                      - data
                paginator:
                  type: DefaultPaginator
                  page_token_option:
                    type: RequestOption
                    field_name: page
                    inject_into: request_parameter
                  pagination_strategy:
                    type: OffsetIncrement
                    inject_on_first_request: true
                requester:
                  type: HttpRequester
                  url_base: "https://api.northpass.com/v2"
                  http_method: "GET"
                  authenticator:
                    type: ApiKeyAuthenticator
                    api_token: "{{ config['api_key'] }}"
                    inject_into:
                      type: RequestOption
                      field_name: X-Api-Key
                      inject_into: header
                  error_handler:
                    type: DefaultErrorHandler
                    backoff_strategies:
                      - type: ConstantBackoffStrategy
                        backoff_time_in_seconds: 5
                    response_filters:
                      - type: HttpResponseFilter
                        action: RETRY
                        http_codes:
                          - 429
                        error_message: Northpass only allows you to request 10 requests/second
                      - type: HttpResponseFilter
                        action: FAIL
                        http_codes:
                          - 401
                          - 403
                        failure_type: config_error
                        error_message:
                          Please provide a valid API key and make sure it has
                          the proper permissions.
                  path: "/courses"
              name: "courses"
              primary_key: "id"
              schema_loader:
                type: InlineSchemaLoader
                schema:
                  type: object
                  $schema: http://json-schema.org/schema#
                  required:
                    - id
                  properties:
                    type:
                      type:
                        - string
                        - "null"
                    id:
                      type: string
                    name:
                      type:
                        - string
                        - "null"
                    links:
                      type:
                        - object
                        - "null"
                      properties:
                        edit:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        self:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        clone:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        enroll:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        archive:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        builder:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        preview:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        publish:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                        unarchive:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                        enrollments:
                          type:
                            - object
                            - "null"
                          properties:
                            href:
                              type:
                                - string
                                - "null"
                            meta:
                              type:
                                - object
                                - "null"
                              properties:
                                methods:
                                  type:
                                    - array
                                    - "null"
                                  items:
                                    type:
                                      - string
                                      - "null"
                    status:
                      type:
                        - string
                        - "null"
                    permalink:
                      type:
                        - string
                        - "null"
                    created_at:
                      type:
                        - string
                        - "null"
                    updated_at:
                      type:
                        - string
                        - "null"
                    relationships:
                      type:
                        - object
                        - "null"
                      properties:
                        instructor_partnerships:
                          type:
                            - object
                            - "null"
                          properties:
                            data:
                              type:
                                - array
                                - "null"
                    list_image_url:
                      type:
                        - string
                        - "null"
                    full_description:
                      type:
                        - string
                        - "null"
                    enrollments_count:
                      type:
                        - number
                        - "null"
                    unpublished_changes:
                      type:
                        - boolean
                        - "null"
                    credential_achievement_count:
                      type:
                        - number
                        - "null"
                  additionalProperties: true
              transformations:
                - type: AddFields
                  fields:
                    - path:
                        - name
                      value: '{{ record["attributes"]["name"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - credential_achievement_count
                      value: '{{ record["attributes"]["credential_achievement_count"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - enrollments_count
                      value: '{{ record["attributes"]["enrollments_count"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - list_image_url
                      value: '{{ record["attributes"]["list_image_url"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - permalink
                      value: '{{ record["attributes"]["permalink"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - created_at
                      value: '{{ record["attributes"]["created_at"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - updated_at
                      value: '{{ record["attributes"]["updated_at"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - status
                      value: '{{ record["attributes"]["status"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - unpublished_changes
                      value: '{{ record["attributes"]["unpublished_changes"] }}'
                      type: AddedFieldDefinition
                - type: AddFields
                  fields:
                    - path:
                        - full_description
                      value: '{{ record["attributes"]["full_description"] }}'
                      type: AddedFieldDefinition
                - type: RemoveFields
                  field_pointers:
                    - - attributes
    name: "course_enrollments"
    primary_key: "id"
    schema_loader:
      type: InlineSchemaLoader
      schema:
        type: object
        $schema: http://json-schema.org/schema#
        required:
          - id
        properties:
          type:
            type:
              - string
              - "null"
          id:
            type: string
          progress:
            type:
              - number
              - "null"
          course_id:
            type:
              - string
              - "null"
          person_id:
            type:
              - string
              - "null"
          enrolled_at:
            type:
              - string
              - "null"
          relationships:
            type:
              - object
              - "null"
            properties:
              person:
                type:
                  - object
                  - "null"
                properties:
                  data:
                    type:
                      - object
                      - "null"
                    properties:
                      type:
                        type:
                          - string
                          - "null"
                      id:
                        type:
                          - string
                          - "null"
        additionalProperties: true
    transformations:
      - type: AddFields
        fields:
          - path:
              - person_id
            value: '{{ record["attributes"]["person_id"] }}'
            type: AddedFieldDefinition
          - path:
              - course_id
            value: '{{ record["attributes"]["course_id"] }}'
            type: AddedFieldDefinition
          - path:
              - progress
            value: '{{ record["attributes"]["progress"] }}'
            type: AddedFieldDefinition
          - path:
              - enrolled_at
            value: '{{ record["attributes"]["enrolled_at"] }}'
            type: AddedFieldDefinition
      - type: RemoveFields
        field_pointers:
          - - attributes
check:
  stream_names:
    - "people"
    - "courses"
  type: CheckStream
spec:
  type: Spec
  connection_specification:
    type: object
    $schema: http://json-schema.org/draft-07/schema#
    required:
      - api_key
    properties:
      api_key:
        type: string
        order: 0
        title: API Key
        airbyte_secret: true
    additionalProperties: true
schemas:
  people:
    type: object
    $schema: http://json-schema.org/schema#
    required:
      - id
    properties:
      type:
        type:
          - string
          - "null"
      id:
        type: string
      name:
        type:
          - string
          - "null"
      email:
        type:
          - string
          - "null"
      links:
        type:
          - object
          - "null"
        properties:
          self:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              methods:
                type:
                  - array
                  - "null"
                items:
                  type:
                    - string
                    - "null"
          teaching:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              methods:
                type:
                  - array
                  - "null"
                items:
                  type:
                    - string
                    - "null"
      disabled:
        type:
          - boolean
          - "null"
      full_name:
        type:
          - string
          - "null"
      last_name:
        type:
          - string
          - "null"
      created_at:
        type:
          - string
          - "null"
      first_name:
        type:
          - string
          - "null"
      updated_at:
        type:
          - string
          - "null"
      activated_at:
        type:
          - string
          - "null"
      invite_token:
        type:
          - string
          - "null"
      unsubscribed:
        type:
          - boolean
          - "null"
      relationships:
        type:
          - object
          - "null"
        properties:
          groups:
            type:
              - object
              - "null"
            properties:
              data:
                type:
                  - array
                  - "null"
          school:
            type:
              - object
              - "null"
            properties:
              data:
                type:
                  - object
                  - "null"
                properties:
                  type:
                    type:
                      - string
                      - "null"
                  id:
                    type:
                      - string
                      - "null"
          partnerships:
            type:
              - object
              - "null"
            properties:
              data:
                type:
                  - array
                  - "null"
                items:
                  type:
                    - object
                    - "null"
                  properties:
                    type:
                      type:
                        - string
                        - "null"
                    id:
                      type:
                        - string
                        - "null"
      custom_avatar_url:
        type:
          - string
          - "null"
      registration_status:
        type:
          - string
          - "null"
    additionalProperties: true
  courses:
    type: object
    $schema: http://json-schema.org/schema#
    required:
      - id
    properties:
      type:
        type:
          - string
          - "null"
      id:
        type: string
      name:
        type:
          - string
          - "null"
      links:
        type:
          - object
          - "null"
        properties:
          edit:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          self:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          clone:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          enroll:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          archive:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          builder:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          preview:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          publish:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
          unarchive:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
          enrollments:
            type:
              - object
              - "null"
            properties:
              href:
                type:
                  - string
                  - "null"
              meta:
                type:
                  - object
                  - "null"
                properties:
                  methods:
                    type:
                      - array
                      - "null"
                    items:
                      type:
                        - string
                        - "null"
      status:
        type:
          - string
          - "null"
      permalink:
        type:
          - string
          - "null"
      created_at:
        type:
          - string
          - "null"
      updated_at:
        type:
          - string
          - "null"
      relationships:
        type:
          - object
          - "null"
        properties:
          instructor_partnerships:
            type:
              - object
              - "null"
            properties:
              data:
                type:
                  - array
                  - "null"
      list_image_url:
        type:
          - string
          - "null"
      full_description:
        type:
          - string
          - "null"
      enrollments_count:
        type:
          - number
          - "null"
      unpublished_changes:
        type:
          - boolean
          - "null"
      credential_achievement_count:
        type:
          - number
          - "null"
    additionalProperties: true
  course_enrollments:
    type: object
    $schema: http://json-schema.org/schema#
    required:
      - id
    properties:
      type:
        type:
          - string
          - "null"
      id:
        type: string
      progress:
        type:
          - number
          - "null"
      course_id:
        type:
          - string
          - "null"
      person_id:
        type:
          - string
          - "null"
      enrolled_at:
        type:
          - string
          - "null"
      relationships:
        type:
          - object
          - "null"
        properties:
          person:
            type:
              - object
              - "null"
            properties:
              data:
                type:
                  - object
                  - "null"
                properties:
                  type:
                    type:
                      - string
                      - "null"
                  id:
                    type:
                      - string
                      - "null"
    additionalProperties: true
type: DeclarativeSource
