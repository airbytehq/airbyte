{
  "type": "object",
  "description": "A Checkout Session represents your customer\u2019s session as they pay for one-time purchases or subscriptions through Quaderno Checkout. We recommend creating a new session each time your customer attempts to pay.",
  "properties": {
    "id": {
      "type": "integer",
      "description": "Unique identifier for the object.",
      "readOnly": true,
      "example": 92732431
    },
    "billing_details_collection": {
      "type": "string",
      "enum": [
        "auto",
        "required"
      ],
      "default": "required",
      "description": "The value for whether Checkout collected the customer\u2019s billing address."
    },
    "cancel_url": {
      "type": "string",
      "format": "uri",
      "description": "The URL the customer will be directed to if they decide to cancel payment and return to your website.",
      "example": "https://mydomain.com/cancel"
    },
    "coupon": {
      "type": "object",
      "description": "A coupon contains information about a percent-off or amount-off discount you might want to apply to a customer during a checkout.",
      "properties": {
        "id": {
          "type": "integer",
          "description": "Unique identifier for the object.",
          "readOnly": true,
          "example": 92732431
        },
        "amount_off": {
          "type": "number",
          "format": "float",
          "nullable": true,
          "description": "Amount (in the `currency` specified) that will be taken off the subtotal of the purchase. Required if `percent_off` is not passed."
        },
        "code": {
          "type": "string",
          "description": "Coupon code",
          "example": "25_5OFF"
        },
        "created_at": {
          "type": "integer",
          "readOnly": true,
          "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
          "example": "1593260908"
        },
        "currency": {
          "type": "string",
          "nullable": true,
          "description": "If `amount_off` has been set, the three-letter [ISO currency code](https://en.wikipedia.org/wiki/ISO_4217) of the amount to take off, in uppercase. Must be a supported currency in your payment processors.",
          "example": "USD"
        },
        "kind": {
          "type": "string",
          "enum": [
            "amount_off",
            "percent_off"
          ],
          "default": "percent_off",
          "description": "The type of coupon: amount or percentage off."
        },
        "max_redemptions": {
          "type": "integer",
          "nullable": true,
          "description": "Maximum number of times this coupon can be redeemed, in total, across all customers, before it is no longer valid.",
          "example": 100
        },
        "name": {
          "type": "string",
          "nullable": true,
          "description": "Name of the coupon displayed to customers on invoices.",
          "example": "Special offer!"
        },
        "percent_off": {
          "type": "number",
          "format": "float",
          "nullable": true,
          "description": "Percent that will be taken off the subtotal of the purchase. For example, a coupon with `percent_off` of 50 will make a $100 purchase $50 instead. Required if `amount_off` is not passed.",
          "example": 25.5
        },
        "redeem_by": {
          "type": "string",
          "format": "date",
          "nullable": true,
          "description": "Date after which the coupon can no longer be redeemed.",
          "example": "2020-07-21"
        },
        "times_redeemed": {
          "type": "integer",
          "nullable": true,
          "default": 0,
          "readOnly": true,
          "description": "Number of times this coupon has been applied.",
          "example": 10
        }
      },
      "oneOf": [
        {
          "required": [
            "code",
            "percent_off"
          ]
        }
      ],
      "$schema": "http://json-schema.org/schema#"
    },
    "coupon_collection": {
      "type": "boolean",
      "default": false,
      "description": "The value for whether Checkout collected coupons."
    },
    "created_at": {
      "type": "integer",
      "readOnly": true,
      "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
      "example": "1593260908"
    },
    "custom": {
      "type": "object",
      "nullable": true,
      "description": "Set of key-value pairs that you want to forward to the payment processor. This can be useful for setting up additional options in the payment processor. If you want to send specific data to one processor, you can create a subhash with the name of that particular processor.",
      "example": "{ stripe: { metadata: { user_id: 999 } }, paypal: { no_shipping: 0 } }"
    },
    "customer": {
      "type": "object",
      "description": "A Checkout Customer represents your customer\u2019s data in a particular Checkout Session.",
      "properties": {
        "billing_city": {
          "type": "string",
          "nullable": true,
          "description": "City/District/Suburb/Town/Village.",
          "example": "Pasadena"
        },
        "billing_country": {
          "type": "string",
          "nullable": true,
          "description": "2-letter [ISO country code](https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes).",
          "example": "US"
        },
        "billing_postal_code": {
          "type": "string",
          "nullable": true,
          "description": "ZIP or postal code.",
          "example": "91104"
        },
        "billing_street_line_1": {
          "type": "string",
          "nullable": true,
          "description": "Address line 1 (Street address/PO Box).",
          "example": "2311 North Los Robles Av."
        },
        "billing_street_line_2": {
          "type": "string",
          "nullable": true,
          "description": "Address line 2 (Apartment/Suite/Unit/Building).",
          "example": "Apartment C"
        },
        "company": {
          "type": "string",
          "nullable": true,
          "description": "The customer\u2019s company name.",
          "example": ""
        },
        "contact": {
          "type": "integer",
          "nullable": true,
          "description": "The ID of the contact who will make the purchase."
        },
        "email": {
          "type": "string",
          "format": "email",
          "nullable": true,
          "description": "The customer\u2019s email address.",
          "example": "leonard@gmail.com"
        },
        "first_name": {
          "type": "string",
          "nullable": true,
          "description": "The customer\u2019s first name.",
          "example": "Leonard"
        },
        "last_name": {
          "type": "string",
          "nullable": true,
          "description": "The customer\u2019s last name. Only for natural persons.",
          "example": "Hofstadter"
        },
        "tax_id": {
          "type": "string",
          "nullable": true,
          "description": "The customer\u2019s tax identification number. Quaderno can validate EU VAT numbers, ABN, and NZBN."
        }
      },
      "$schema": "http://json-schema.org/schema#"
    },
    "items": {
      "type": "array",
      "items": {
        "type": "object",
        "description": "A Checkout Item represents every product being purchased in a Checkout Session.",
        "properties": {
          "amount": {
            "type": "number",
            "format": "float",
            "nullable": true,
            "description": "Unit price of the item being purchased.",
            "example": 9.99
          },
          "currency": {
            "type": "string",
            "nullable": true,
            "description": "Three-letter [ISO currency code](https://en.wikipedia.org/wiki/ISO_4217), in uppercase. Must be a supported currency in your payment processors.",
            "example": "USD"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "The description of the item being purchased."
          },
          "name": {
            "type": "string",
            "nullable": true,
            "description": "The name of the item being purchased.",
            "example": "Ruby Essentials"
          },
          "product": {
            "type": "string",
            "nullable": true,
            "description": "The SKU of the Quaderno `Product` being purchased.",
            "example": "012345678901-MFN"
          },
          "quantity": {
            "type": "integer",
            "default": 1,
            "description": "Quantity of the item being purchased.",
            "example": 1
          }
        },
        "required": [
          "product"
        ],
        "$schema": "http://json-schema.org/schema#"
      },
      "description": "The list of products being purchased."
    },
    "locale": {
      "type": "string",
      "enum": [
        "auto",
        "ca",
        "de",
        "en",
        "es",
        "fi",
        "fr",
        "hu",
        "it",
        "nb",
        "nl",
        "sv"
      ],
      "default": "auto",
      "description": "The 2-letter [ISO language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) of the locale Checkout is displayed in. If `auto`, the browser\u2019s locale is used."
    },
    "metadata": {
      "type": "object",
      "nullable": true,
      "description": "Set of key-value pairs that you can attach to the session. This can be useful for storing additional information about the purchase."
    },
    "payment_methods": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "card",
          "paypal"
        ]
      },
      "default": [
        "card"
      ],
      "description": "Accepted payment methods for this session."
    },
    "permalink": {
      "type": "string",
      "format": "uri",
      "description": "The URL of this Checkout Session.",
      "example": "https://quadernoapp.com/checkout/session/53d3b70b49b6b2zs468345798bb5b2624216bbf7/init"
    },
    "processor": {
      "type": "string",
      "nullable": true,
      "description": "The payment processor used to process the charge.",
      "example": "stripe"
    },
    "processor_id": {
      "type": "string",
      "nullable": true,
      "description": "The ID the `processor` assigned to the payment.",
      "example": "ch_999999999999"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "processing",
        "failed",
        "completed",
        "abandoned"
      ],
      "default": "pending",
      "description": "`Pending` sessions are unpaid and awaiting payment. A session is marked as `failed` when the payment failed or was declined. Note that this status many not show inmediately and instead show as pending until verified. `Completed` sessions requires no further action and cannot be edited. A session is marked as `abandoned` after being cancelled by the customer or after 30 minutes without activitiy."
    },
    "success_url": {
      "type": "string",
      "format": "uri",
      "description": "The URL the customer will be directed to after the payment or subscription creation is successful.",
      "example": "https://mydomain.com/thanks"
    },
    "updatable_quantity": {
      "type": "boolean",
      "default": false,
      "description": "The value for whether customers can update items\u2019 quantities."
    }
  },
  "required": [
    "cancel_url",
    "items",
    "success_url"
  ],
  "$schema": "http://json-schema.org/schema#"
}