{
  "documentationUrl": "https://docs.airbyte.com/integrations/sources/mongodb-v2",
  "changelogUrl": "https://docs.airbyte.com/integrations/sources/mongodb-v2",
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "MongoDb Source Spec",
    "type": "object",
    "required": ["connection_string", "database"],
    "additionalProperties": true,
    "properties": {
      "instance_type": {
        "type" : "object",
        "title" : "Instance Type",
        "description" : "Configures the MongoDB replica set based on instance type.",
        "order" : 1,
        "group" : "connection",
        "default" : "",
        "display_type" : "radio",
        "oneOf" : [
          {
            "title" : "MongoDB Atlas Replica Set",
            "description" : "MongoDB Atlas-hosted cluster configured as a replica set",
            "required" : [
              "connection_string",
              "database",
              "username",
              "password",
              "auth_source"
            ],
            "additionalProperties" : true,
            "properties" : {
              "connection_string" : {
                "title" : "Connection String",
                "type" : "string",
                "description" : "The connection string of the cluster that you want to replicate.",
                "examples" : ["mongodb+srv://cluster0.abcd1.mongodb.net/"],
                "order" : 1,
                "group" : "db"
              },
              "database" : {
                "title" : "Database Name",
                "type" : "string",
                "description" : "The database you want to replicate.",
                "order" : 2,
                "group" : "db"
              },
              "username" : {
                "title" : "Username",
                "type" : "string",
                "description" : "The username which is used to access the database.",
                "order" : 3,
                "group" : "auth"
              },
              "password" : {
                "title" : "Password",
                "type" : "string",
                "description" : "The password associated with this username.",
                "airbyte_secret" : true,
                "order" : 4,
                "group" : "auth"
              },
              "auth_source" : {
                "title" : "Authentication Source",
                "type" : "string",
                "description" : "The authentication source where the user information is stored.",
                "default" : "admin",
                "examples" : [
                  "admin"
                ],
                "order" : 5,
                "group" : "auth"
              }
            }
          },
          {
            "title" : "Self-Managed Replica Set",
            "description" : "MongoDB self-hosted cluster configured as a replica set",
            "required" : [
              "connection_string",
              "database"
            ],
            "additionalProperties" : true,
            "properties" : {
              "connection_string" : {
                "title" : "Connection String",
                "type" : "string",
                "description" : "The connection string of the cluster that you want to replicate.  See https://www.mongodb.com/docs/manual/reference/connection-string/ for more information.",
                "examples" : [
                  "mongodb://example1.host.com:27017,example2.host.com:27017,example3.host.com:27017/",
                  "mongodb://example.host.com:27017/"
                ],
                "order" : 1,
                "group" : "db"
              },
              "database" : {
                "title" : "Database Name",
                "type" : "string",
                "description" : "The database you want to replicate.",
                "order" : 2,
                "group" : "db"
              },
              "username" : {
                "title" : "Username",
                "type" : "string",
                "description" : "The username which is used to access the database.",
                "order" : 3,
                "group" : "auth"
              },
              "password" : {
                "title" : "Password",
                "type" : "string",
                "description" : "The password associated with this username.",
                "airbyte_secret" : true,
                "order" : 4,
                "group" : "auth"
              },
              "auth_source" : {
                "title" : "Authentication Source",
                "type" : "string",
                "description" : "The authentication source where the user information is stored.",
                "default" : "admin",
                "examples" : [
                  "admin"
                ],
                "order" : 5,
                "group" : "auth"
              }
            }
          }
        ]
      },
      "initial_waiting_seconds": {
        "type": "integer",
        "title": "Initial Waiting Time in Seconds (Advanced)",
        "description": "The amount of time the connector will wait when it launches to determine if there is new data to sync or not. Defaults to 300 seconds. Valid range: 120 seconds to 1200 seconds.",
        "default": 300,
        "order": 6,
        "min": 120,
        "max": 1200,
        "group": "advanced"
      },
      "queue_size": {
        "type": "integer",
        "title": "Size of the queue (Advanced)",
        "description": "The size of the internal queue. This may interfere with memory consumption and efficiency of the connector, please be careful.",
        "default": 10000,
        "order": 7,
        "min": 1000,
        "max": 10000,
        "group": "advanced"
      }
    },
    "groups": [
      {
        "id": "connection"
      },
      {
        "id": "db"
      },
      {
        "id": "auth"
      },
      {
        "id": "advanced",
        "title": "Advanced"
      }
    ]
  },
  "supported_destination_sync_modes": []
}
