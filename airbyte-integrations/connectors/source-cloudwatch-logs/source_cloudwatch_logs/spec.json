{
  "documentationUrl": "https://docs.airbyte.com/integrations/sources/cloudwatch",
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "CloudWatch Spec",
    "type": "object",
    "required": ["region_name"],
    "properties": {
      "region_name": {
        "type": "string",
        "title": "AWS Region",
        "description": "The AWS region where your CloudWatch log groups are located (e.g. us-east-1).",
        "order": 0
      },
      "role_arn": {
        "type": "string",
        "title": "AWS Role ARN",
        "description": "Optional. IAM Role ARN to assume for accessing CloudWatch logs.",
        "default": null,
        "order": 1
      },
      "aws_access_key_id": {
        "title": "AWS Access Key ID",
        "description": "Optional. In order to access logs in Cloudwatch, this connector requires credentials with the proper permissions.",
        "airbyte_secret": true,
        "order": 2,
        "type": "string",
        "default": null
      },
      "aws_secret_access_key": {
        "title": "AWS Secret Access Key",
        "description": "Optional. In order to access logs in Cloudwatch, this connector requires credentials with the proper permissions.",
        "airbyte_secret": true,
        "order": 3,
        "type": "string",
        "default": null
      },
      "log_group_prefix": {
        "type": "string",
        "title": "Log Group Prefix (Optional)",
        "description": "Optional. If set, only the log groups with this prefix will be used. If empty, all log groups will be discovered.",
        "default": "",
        "order": 4
      },
      "session_duration": {
        "type": "number",
        "title": "Session Duration",
        "description": "Optional. AWS session duration in seconds when role_arn is passed. Default is 3600 seconds (1 hour).",
        "default": "3600",
        "order": 5
      },
      "start_date": {
        "title": "Start Date",
        "description": "UTC date and time in the format 2017-01-25T00:00:00Z.",
        "examples": ["2021-01-01T00:00:00Z"],
        "format": "date-time",
        "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$",
        "order": 6,
        "type": "string",
        "default": null
      },
      "custom_log_reports": {
        "type": "array",
        "title": "Custom Log Reports",
        "description": "Optional. List of custom log reports to include",
        "order": 7,
        "default": [],
        "items": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "title": "Custom Log Report Name",
              "description": "A unique name for the custom log report. This will be used to identify the report in the Airbyte UI. It should not contain any special characters except underscores."
            },
            "log_group_name": {
              "type": "string",
              "title": "Log Group Name",
              "description": "The name of the log group to include in the custom report."
            },
            "log_stream_names": {
              "type": "array",
              "title": "Log Stream Names",
              "description": "Optional. If set, only these log streams will be included in the custom report.",
              "default": [],
              "items": {
                "type": "string",
                "title": "Log Stream Name",
                "description": "The name of the log stream to include in the custom report."
              }
            },
            "filter_pattern": {
              "type": "string",
              "title": "Filter Pattern",
              "description": "Optional. If set, only log events matching this filter pattern will be included in the custom report.",
              "default": ""
            }
          },
          "required": ["name", "log_group_name"]
        }
      }
    }
  }
}
