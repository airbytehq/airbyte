{
  "documentationUrl": "https://docs.airbyte.com/integrations/destinations/databricks",
  "supportsIncremental": true,
  "supportsNormalization": false,
  "supportsDBT": false,
  "supported_destination_sync_modes": ["overwrite", "append", "append_dedup"],
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Databricks Lakehouse Destination Spec",
    "type": "object",
    "required": [
      "accept_terms",
      "hostname",
      "http_path",
      "database",
      "authentication"
    ],
    "properties": {
      "accept_terms": {
        "title": "Agree to the Databricks JDBC Driver Terms & Conditions",
        "type": "boolean",
        "description": "You must agree to the Databricks JDBC Driver <a href=\"https://databricks.com/jdbc-odbc-driver-license\">Terms & Conditions</a> to use this connector.",
        "default": false,
        "order": 1
      },
      "hostname": {
        "title": "Server Hostname",
        "type": "string",
        "description": "Databricks Cluster Server Hostname.",
        "examples": ["abc-12345678-wxyz.cloud.databricks.com"],
        "order": 2
      },
      "http_path": {
        "title": "HTTP Path",
        "type": "string",
        "description": "Databricks Cluster HTTP Path.",
        "examples": ["sql/1.0/warehouses/0000-1111111-abcd90"],
        "order": 3
      },
      "port": {
        "title": "Port",
        "type": "string",
        "description": "Databricks Cluster Port.",
        "default": "443",
        "examples": ["443"],
        "order": 4
      },
      "database": {
        "title": "Databricks Unity Catalog",
        "description": "The name of the unity catalog",
        "type": "string",
        "order": 5
      },
      "schema": {
        "title": "Default Schema",
        "description": "The default schema tables are written. If not specified otherwise, the \"default\" will be used.",
        "type": "string",
        "examples": ["default"],
        "default": "default",
        "order": 6
      },
      "enable_schema_evolution": {
        "title": "Support schema evolution for all streams.",
        "type": "boolean",
        "description": "Support schema evolution for all streams. If \"false\", the connector might fail when a stream's schema changes.",
        "default": false,
        "order": 7
      },
      "authentication": {
        "title": "Authentication",
        "type": "object",
        "description": "Authentication mechanism for Staging files and running queries",
        "default": "OAUTH",
        "order": 8,
        "oneOf": [
          {
            "title": "Basic Authentication",
            "required": [
              "auth_type",
              "personal_access_token",
              "username",
              "password"
            ],
            "properties": {
              "auth_type": {
                "type": "string",
                "const": "BASIC",
                "order": 0
              },
              "personal_access_token": {
                "type": "string",
                "airbyte_secret": true,
                "order": 1
              },
              "username": {
                "type": "string",
                "order": 2
              },
              "password": {
                "type": "string",
                "airbyte_secret": true,
                "order": 3
              }
            }
          },
          {
            "title": "OAuth2 (Recommended)",
            "required": ["auth_type", "client_id", "secret"],
            "properties": {
              "auth_type": {
                "type": "string",
                "const": "OAUTH",
                "order": 0
              },
              "client_id": {
                "type": "string",
                "order": 1
              },
              "secret": {
                "type": "string",
                "airbyte_secret": true,
                "order": 2
              }
            }
          }
        ]
      },
      "purge_staging_data": {
        "title": "Purge Staging Files and Tables",
        "type": "boolean",
        "description": "Default to 'true'. Switch it to 'false' for debugging purpose.",
        "default": true,
        "order": 9
      }
    }
  }
}
