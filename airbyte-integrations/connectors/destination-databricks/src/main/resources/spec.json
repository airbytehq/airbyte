{
  "documentationUrl": "https://docs.airbyte.com/integrations/destinations/databricks",
  "supportsIncremental": true,
  "supportsNormalization": false,
  "supportsDBT": false,
  "supported_destination_sync_modes": ["overwrite", "append", "append_dedup"],
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Databricks Warehouse Destination Spec",
    "type": "object",
    "required": [
      "accept_terms",
      "databricks_server_hostname",
      "databricks_http_path",
      "api_authentication",
      "jdbc_authentication"
    ],
    "properties": {
      "accept_terms": {
        "title": "Agree to the Databricks JDBC Driver Terms & Conditions",
        "type": "boolean",
        "description": "You must agree to the Databricks JDBC Driver <a href=\"https://databricks.com/jdbc-odbc-driver-license\">Terms & Conditions</a> to use this connector.",
        "default": false,
        "order": 1
      },
      "databricks_server_hostname": {
        "title": "Server Hostname",
        "type": "string",
        "description": "Databricks Cluster Server Hostname.",
        "examples": ["abc-12345678-wxyz.cloud.databricks.com"],
        "order": 2
      },
      "databricks_http_path": {
        "title": "HTTP Path",
        "type": "string",
        "description": "Databricks Cluster HTTP Path.",
        "examples": ["sql/1.0/warehouses/0000-1111111-abcd90"],
        "order": 3
      },
      "databricks_port": {
        "title": "Port",
        "type": "string",
        "description": "Databricks Cluster Port.",
        "default": "443",
        "examples": ["443"],
        "order": 4
      },
      "database": {
        "title": "Databricks catalog",
        "description": "The name of the catalog. If not specified otherwise, the \"hive_metastore\" will be used.",
        "type": "string",
        "order": 5
      },
      "schema": {
        "title": "Default Schema",
        "description": "The default schema tables are written. If not specified otherwise, the \"default\" will be used.",
        "type": "string",
        "examples": ["default"],
        "default": "default",
        "order": 6
      },
      "enable_schema_evolution": {
        "title": "Support schema evolution for all streams.",
        "type": "boolean",
        "description": "Support schema evolution for all streams. If \"false\", the connector might fail when a stream's schema changes.",
        "default": false,
        "order": 7
      },
      "api_authentication": {
        "title": "API Authentication",
        "type": "object",
        "description": "Authentication mechanism for Files API to upload to Unity Catalog volumes",
        "default": "PERSONAL_ACCESS_TOKEN",
        "order": 8,
        "oneOf": [
          {
            "title": "Personal Access Token",
            "required": ["auth_type", "token"],
            "properties": {
              "auth_type": {
                "type": "string",
                "const": "PERSONAL_ACCESS_TOKEN",
                "order": 0
              },
              "token": {
                "type": "string",
                "airbyte_secret": true,
                "order": 1
              }
            }
          },
          {
            "title": "OAuth Token",
            "required": ["auth_type", "token"],
            "properties": {
              "auth_type": {
                "type": "string",
                "const": "OAUTH_TOKEN",
                "order": 0
              },
              "token": {
                "type": "string",
                "airbyte_secret": true,
                "order": 1
              }
            }
          }
        ]
      },
      "jdbc_authentication": {
        "title": "JDBC Authentication",
        "type": "object",
        "description": "Authentication mechanism for JDBC driver",
        "default": "BASIC",
        "order": 8,
        "oneOf": [
          {
            "title": "Basic Authentication",
            "required": ["auth_type", "username", "password"],
            "properties": {
              "auth_type": {
                "type": "string",
                "const": "BASIC",
                "order": 0
              },
              "username": {
                "type": "string",
                "order": 1
              },
              "password": {
                "type": "string",
                "airbyte_secret": true,
                "order": 1
              }
            }
          },
          {
            "title": "OAuth Token",
            "required": ["auth_type", "token"],
            "properties": {
              "auth_type": {
                "type": "string",
                "const": "OAUTH",
                "order": 0
              },
              "token": {
                "type": "string",
                "airbyte_secret": true,
                "order": 1
              }
            }
          }
        ]
      },
      "purge_staging_data": {
        "title": "Purge Staging Files and Tables",
        "type": "boolean",
        "description": "Default to 'true'. Switch it to 'false' for debugging purpose.",
        "default": true,
        "order": 10
      }
    }
  }
}
