// Generates python classes from a directory containing yaml-formatted json schema
task generatePythonModels {

    ext {
        inputDir = ''
        outputDir = ''
    }

    outputs.upToDateWhen { false }
    dependsOn ':airbyte-integrations:bases:base-python:code-generator:buildImage'
    doFirst {
        exec {
            environment 'ROOT_DIR', rootDir.absolutePath
            commandLine "${rootDir.absolutePath}/airbyte-integrations/bases/base-python/code-generator/bin/generate-protocol-files.sh", "${inputDir}", "${outputDir}"
        }
    }
}
