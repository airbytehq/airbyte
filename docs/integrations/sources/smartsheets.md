# Smartsheets

### Table of Contents

* [Sync Details](smartsheets.md#sync-details)
  * [Column datatype mapping](smartsheets.md#column-datatype-mapping)
  * [Features](smartsheets.md#Features)
  * [Performance Considerations](smartsheets.md#performance-considerations)
* [Getting Started](smartsheets.md#getting-started)
  * [Requirements](smartsheets.md#requirements)
  * [Setup Guide](smartsheets.md#setup-guide)
  * [Configuring the source in the Airbyte UI](smartsheets.md#configuring-the-source-in-the-airbyte-ui)

## Sync Details

The Smartsheet Source is written to pull data from a single Smartsheet spreadsheet. Unlike Google Sheets, Smartsheets only allows one sheet per Smartsheet - so a given Airbyte connector instance can sync only one sheet at a time.

To replicate multiple spreadsheets, you can create multiple instances of the Smartsheet Source in Airbyte, reusing the API token for all your sheets that you need to sync.

**Note: Column headers must contain only alphanumeric characters or `_` , as specified in the** [**Airbyte Protocol**](../../understanding-airbyte/airbyte-specification.md).

### Column datatype mapping

The data type mapping adopted by this connector is based on the Smartsheet [documentation](https://smartsheet.redoc.ly/tag/columnsRelated#section/Column-Types).

**NOTE**: For any column datatypes interpreted by Smartsheets beside `DATE` and `DATETIME`, this connector's source schema generation assumes a `string` type, in which case the `format` field is not required by Airbyte.

| Integration Type | Airbyte Type | Airbyte Format |
| :--- | :--- | :--- |
| `TEXT_NUMBER` | `string` |  |
| `DATE` | `string` | `format: date` |
| `DATETIME` | `string` | `format: date-time` |
| `anything else` | `string` |  |

The remaining column datatypes supported by Smartsheets are more complex types \(e.g. Predecessor, Dropdown List\) and are not supported by this connector beyond its `string` representation.

### Features

This source connector only supports Full Refresh Sync. Since Smartsheets only allows 5000 rows per sheet, it's likely that the Full Refresh Sync Mode will suit the majority of use-cases.

| Feature | Supported? |
| :--- | :--- |
| Full Refresh Sync | Yes |
| Incremental Sync | No |
| Namespaces | No |

### Performance considerations

At the time of writing, the [Smartsheets API rate limit](https://developers.smartsheet.com/blog/smartsheet-api-best-practices#:~:text=The%20Smartsheet%20API%20currently%20imposes,per%20minute%20per%20Access%20Token.) is 300 requests per minute per API access token. This connector makes 6 API calls per sync operation.

## Getting started

### Requirements

To configure the Smartsheet Source for syncs, you'll need the following:

* A Smartsheets API access token - generated by a Smartsheets user with at least **read** access
* The ID of the spreadsheet you'd like to sync

### Setup guide

#### Obtain a Smartsheets API access token

You can generate an API key for your account from a session of your Smartsheet webapp by clicking:

* Account \(top-right icon\)
* Apps & Integrations
* API Access
* Generate new access token

For questions on advanced authorization flows, refer to [this](https://www.smartsheet.com/content-center/best-practices/tips-tricks/api-getting-started).

#### The spreadsheet ID of your Smartsheet

You'll also need the ID of the Spreadsheet you'd like to sync. Unlike Google Sheets, this ID is not found in the URL. You can find the required spreadsheet ID from your Smartsheet app session by going to:

* File
* Properties

### Configuring the source in the Airbyte UI

To setup your new Smartsheets source, Airbyte will need:

1. Your API access token
2. The spreadsheet ID

## Changelog

| Version | Date       | Pull Request | Subject             |
|:--------|:-----------| :--- |:--------------------|
| 0.1.8   | 2022-02-04 | [9792](https://github.com/airbytehq/airbyte/pull/9792) | Added oauth support |


